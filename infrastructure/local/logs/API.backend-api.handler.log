[2022-02-12T22:02:48.102Z] Received message: {"type":"execute","eventId":"yu_8uYhPkOoLxRPI5fxXP","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:02:48.103Z] Executing event yu_8uYhPkOoLxRPI5fxXP
[2022-02-12T22:02:48.103Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:02:48.183Z] Invoking handler function: "handler"
[2022-02-12T22:02:48.184Z] Router
[2022-02-12T22:02:48.184Z] is offline, using local dynamo
[2022-02-12T22:02:48.186Z] authenticating...
[2022-02-12T22:02:48.186Z] handler is promise, awaiting response
[2022-02-12T22:02:48.186Z] Waiting for handler to finish...
[2022-02-12T22:02:48.201Z] [object Object]
[2022-02-12T22:02:48.201Z] Router
[2022-02-12T22:02:48.201Z] now calling callback
[2022-02-12T22:02:48.202Z] Router
[2022-02-12T22:02:48.202Z] promise done, calling callback
[2022-02-12T22:05:56.561Z] Received message: {"type":"execute","eventId":"Zus3RNqd08EZcbG4H2_qd","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:05:56.561Z] Executing event Zus3RNqd08EZcbG4H2_qd
[2022-02-12T22:05:56.561Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:05:56.634Z] Invoking handler function: "handler"
[2022-02-12T22:05:56.634Z] Router
[2022-02-12T22:05:56.634Z] is offline, using local dynamo
[2022-02-12T22:05:56.636Z] authenticating...
[2022-02-12T22:05:56.636Z] handler is promise, awaiting response
[2022-02-12T22:05:56.637Z] Waiting for handler to finish...
[2022-02-12T22:05:56.651Z] [object Object]
[2022-02-12T22:05:56.651Z] Router
[2022-02-12T22:05:56.652Z] now calling callback
[2022-02-12T22:05:56.652Z] handler called callback, sending result...
[2022-02-12T22:05:56.653Z] Router
[2022-02-12T22:05:56.654Z] promise done, calling callback
[2022-02-12T22:05:56.654Z] handler promise resolved, sending result...
[2022-02-12T22:07:40.669Z] Received message: {"type":"execute","eventId":"GPiD2khTnqeoUAAhSXd4R","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:07:40.669Z] Executing event GPiD2khTnqeoUAAhSXd4R
[2022-02-12T22:07:40.670Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:07:40.751Z] Invoking handler function: "handler"
[2022-02-12T22:07:40.751Z] Router, request, info, [object Object]
[2022-02-12T22:07:40.751Z] is offline, using local dynamo
[2022-02-12T22:07:40.753Z] authenticating...
[2022-02-12T22:07:40.753Z] handler is promise, awaiting response
[2022-02-12T22:07:40.753Z] Waiting for handler to finish...
[2022-02-12T22:07:40.768Z] [object Object]
[2022-02-12T22:07:40.768Z] Router, request, success, [object Object]
[2022-02-12T22:07:40.768Z] now calling callback
[2022-02-12T22:07:40.769Z] handler called callback, sending result...
[2022-02-12T22:07:40.769Z] Router, request, success, [object Object]
[2022-02-12T22:07:40.769Z] promise done, calling callback
[2022-02-12T22:07:40.769Z] handler promise resolved, sending result...
[2022-02-12T22:09:14.909Z] Received message: {"type":"execute","eventId":"O0fkJOvSTi30u360lX-Vd","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:09:14.922Z] Executing event O0fkJOvSTi30u360lX-Vd
[2022-02-12T22:09:14.922Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:09:14.982Z] Invoking handler function: "handler"
[2022-02-12T22:09:14.983Z] "Router", "request", "info", {
[2022-02-12T22:09:14.983Z]     "httpMethod": "POST",
[2022-02-12T22:09:14.983Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:09:14.983Z]     "path": "/auth/verify-passcode"
[2022-02-12T22:09:14.983Z] }
[2022-02-12T22:09:14.983Z] "is offline, using local dynamo"
[2022-02-12T22:09:14.985Z] "authenticating..."
[2022-02-12T22:09:14.985Z] "handler is promise, awaiting response"
[2022-02-12T22:09:14.985Z] Waiting for handler to finish...
[2022-02-12T22:09:14.998Z] {
[2022-02-12T22:09:14.999Z]     "errorResponse": {
[2022-02-12T22:09:14.999Z]         "isBase64Encoded": false,
[2022-02-12T22:09:14.999Z]         "statusCode": 500,
[2022-02-12T22:09:14.999Z]         "headers": {
[2022-02-12T22:09:14.999Z]             "Content-Type": "application/json"
[2022-02-12T22:09:14.999Z]         },
[2022-02-12T22:09:14.999Z]         "multiValueHeaders": {},
[2022-02-12T22:09:14.999Z]         "body": "{\"error\":\"event is not defined\"}"
[2022-02-12T22:09:14.999Z]     },
[2022-02-12T22:09:15.000Z]     "originalError": {
[2022-02-12T22:09:15.000Z]         "name": "ReferenceError",
[2022-02-12T22:09:15.000Z]         "message": "event is not defined",
[2022-02-12T22:09:15.000Z]         "stack": "ReferenceError: event is not defined\n    at /Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/webpack:/bobs-bedtime-stories/apps/backend/api/src/utils/setup-api-basics.ts:7:22\n    at Generator.next (<anonymous>)\n    at /Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:117:75\n    at new Promise (<anonymous>)\n    at __awaiter (/Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:113:16)\n    at setupApiBasics (/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main.js:128:34)\n    at /Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/webpack:/bobs-bedtime-stories/apps/backend/api/src/handlers/verify.passcode.ts:4:23\n    at Generator.next (<anonymous>)\n    at /Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:117:75\n    at new Promise (<anonymous>)",
[2022-02-12T22:09:15.000Z]         "httpStatusCode": "not-given"
[2022-02-12T22:09:15.000Z]     }
[2022-02-12T22:09:15.000Z] }
[2022-02-12T22:09:15.000Z] "Router", "request", "success", {
[2022-02-12T22:09:15.000Z]     "httpMethod": "POST",
[2022-02-12T22:09:15.000Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:09:15.001Z]     "path": "/auth/verify-passcode",
[2022-02-12T22:09:15.001Z]     "error": null,
[2022-02-12T22:09:15.001Z]     "result": {
[2022-02-12T22:09:15.001Z]         "isBase64Encoded": false,
[2022-02-12T22:09:15.001Z]         "statusCode": 500,
[2022-02-12T22:09:15.001Z]         "headers": {
[2022-02-12T22:09:15.002Z]             "Content-Type": "application/json"
[2022-02-12T22:09:15.002Z]         },
[2022-02-12T22:09:15.002Z]         "multiValueHeaders": {},
[2022-02-12T22:09:15.002Z]         "body": "{\"error\":\"event is not defined\"}"
[2022-02-12T22:09:15.002Z]     }
[2022-02-12T22:09:15.002Z] }
[2022-02-12T22:09:15.002Z] "now calling callback"
[2022-02-12T22:09:15.003Z] handler called callback, sending result...
[2022-02-12T22:09:15.003Z] "Router", "request", "success", {
[2022-02-12T22:09:15.004Z]     "httpMethod": "POST",
[2022-02-12T22:09:15.004Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:09:15.004Z]     "path": "/auth/verify-passcode"
[2022-02-12T22:09:15.004Z] }
[2022-02-12T22:09:15.004Z] "promise done, calling callback"
[2022-02-12T22:09:15.004Z] handler promise resolved, sending result...
[2022-02-12T22:11:21.740Z] Received message: {"type":"execute","eventId":"UqgDhU7Ix4GBvh9jNM2F4","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:11:21.740Z] Executing event UqgDhU7Ix4GBvh9jNM2F4
[2022-02-12T22:11:21.741Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:11:21.829Z] Invoking handler function: "handler"
[2022-02-12T22:11:21.830Z] "Router", "request", "info", {
[2022-02-12T22:11:21.830Z]     "httpMethod": "POST",
[2022-02-12T22:11:21.830Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:11:21.830Z]     "path": "/auth/verify-passcode"
[2022-02-12T22:11:21.831Z] }
[2022-02-12T22:11:21.832Z] "is offline, using local dynamo"
[2022-02-12T22:11:21.833Z] "authenticating..."
[2022-02-12T22:11:21.841Z] "handler is promise, awaiting response"
[2022-02-12T22:11:21.841Z] Waiting for handler to finish...
[2022-02-12T22:11:21.891Z] "authenticated"
[2022-02-12T22:11:21.892Z] "Router", "request", "success", {
[2022-02-12T22:11:21.892Z]     "httpMethod": "POST",
[2022-02-12T22:11:21.892Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:11:21.892Z]     "path": "/auth/verify-passcode",
[2022-02-12T22:11:21.893Z]     "error": null,
[2022-02-12T22:11:21.893Z]     "result": {
[2022-02-12T22:11:21.893Z]         "isBase64Encoded": false,
[2022-02-12T22:11:21.893Z]         "statusCode": 200,
[2022-02-12T22:11:21.893Z]         "headers": {
[2022-02-12T22:11:21.893Z]             "Content-Type": "application/json"
[2022-02-12T22:11:21.893Z]         },
[2022-02-12T22:11:21.893Z]         "multiValueHeaders": {},
[2022-02-12T22:11:21.894Z]         "body": "\"OK\""
[2022-02-12T22:11:21.894Z]     }
[2022-02-12T22:11:21.894Z] }
[2022-02-12T22:11:21.894Z] "now calling callback"
[2022-02-12T22:11:21.894Z] handler called callback, sending result...
[2022-02-12T22:11:21.895Z] "Router", "request", "success", {
[2022-02-12T22:11:21.895Z]     "httpMethod": "POST",
[2022-02-12T22:11:21.895Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:11:21.895Z]     "path": "/auth/verify-passcode"
[2022-02-12T22:11:21.896Z] }
[2022-02-12T22:11:21.896Z] "promise done, calling callback"
[2022-02-12T22:11:21.897Z] handler promise resolved, sending result...
[2022-02-12T22:11:21.946Z] Received message: {"type":"execute","eventId":"Zly-wkWQz-hPVQXwGH9OX","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:11:21.946Z] Executing event Zly-wkWQz-hPVQXwGH9OX
[2022-02-12T22:11:21.946Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:11:22.032Z] Invoking handler function: "handler"
[2022-02-12T22:11:22.032Z] "Router", "request", "info", {
[2022-02-12T22:11:22.033Z]     "httpMethod": "GET",
[2022-02-12T22:11:22.033Z]     "resource": "/books",
[2022-02-12T22:11:22.033Z]     "path": "/books"
[2022-02-12T22:11:22.033Z] }
[2022-02-12T22:11:22.033Z] "is offline, using local dynamo"
[2022-02-12T22:11:22.035Z] "authenticating..."
[2022-02-12T22:11:22.043Z] "handler is promise, awaiting response"
[2022-02-12T22:11:22.043Z] Waiting for handler to finish...
[2022-02-12T22:11:22.087Z] "authenticated"
[2022-02-12T22:11:22.087Z] "Router", "request", "success", {
[2022-02-12T22:11:22.087Z]     "httpMethod": "GET",
[2022-02-12T22:11:22.087Z]     "resource": "/books",
[2022-02-12T22:11:22.087Z]     "path": "/books",
[2022-02-12T22:11:22.088Z]     "error": null,
[2022-02-12T22:11:22.088Z]     "result": {
[2022-02-12T22:11:22.088Z]         "isBase64Encoded": false,
[2022-02-12T22:11:22.088Z]         "statusCode": 200,
[2022-02-12T22:11:22.088Z]         "headers": {
[2022-02-12T22:11:22.088Z]             "Content-Type": "application/json"
[2022-02-12T22:11:22.088Z]         },
[2022-02-12T22:11:22.088Z]         "multiValueHeaders": {},
[2022-02-12T22:11:22.088Z]         "body": "[]"
[2022-02-12T22:11:22.088Z]     }
[2022-02-12T22:11:22.088Z] }
[2022-02-12T22:11:22.089Z] "now calling callback"
[2022-02-12T22:11:22.089Z] handler called callback, sending result...
[2022-02-12T22:11:22.089Z] "Router", "request", "success", {
[2022-02-12T22:11:22.089Z]     "httpMethod": "GET",
[2022-02-12T22:11:22.089Z]     "resource": "/books",
[2022-02-12T22:11:22.089Z]     "path": "/books"
[2022-02-12T22:11:22.089Z] }
[2022-02-12T22:11:22.089Z] "promise done, calling callback"
[2022-02-12T22:11:22.090Z] handler promise resolved, sending result...
[2022-02-12T22:11:43.832Z] Received message: {"type":"execute","eventId":"AYABAEAWJpi87489xjzIp","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:11:43.832Z] Executing event AYABAEAWJpi87489xjzIp
[2022-02-12T22:11:43.832Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:11:43.971Z] Invoking handler function: "handler"
[2022-02-12T22:11:43.971Z] "Router", "request", "info", {
[2022-02-12T22:11:43.971Z]     "httpMethod": "GET",
[2022-02-12T22:11:43.971Z]     "resource": "/books",
[2022-02-12T22:11:43.971Z]     "path": "/books"
[2022-02-12T22:11:43.971Z] }
[2022-02-12T22:11:43.973Z] "is offline, using local dynamo"
[2022-02-12T22:11:43.974Z] "authenticating..."
[2022-02-12T22:11:43.982Z] "handler is promise, awaiting response"
[2022-02-12T22:11:43.982Z] Waiting for handler to finish...
[2022-02-12T22:11:44.253Z] "authenticated"
[2022-02-12T22:11:44.253Z] "get books"
[2022-02-12T22:11:44.253Z] "add \"all\" option"
[2022-02-12T22:11:44.253Z] "execute"
[2022-02-12T22:11:44.322Z] {
[2022-02-12T22:11:44.322Z]     "errorResponse": {
[2022-02-12T22:11:44.323Z]         "isBase64Encoded": false,
[2022-02-12T22:11:44.323Z]         "statusCode": 500,
[2022-02-12T22:11:44.323Z]         "headers": {
[2022-02-12T22:11:44.323Z]             "Content-Type": "application/json"
[2022-02-12T22:11:44.323Z]         },
[2022-02-12T22:11:44.324Z]         "multiValueHeaders": {},
[2022-02-12T22:11:44.324Z]         "body": "{\"error\":\"Expected slug to be of type number, instead found type string.\"}"
[2022-02-12T22:11:44.324Z]     },
[2022-02-12T22:11:44.324Z]     "originalError": {
[2022-02-12T22:11:44.324Z]         "name": "TypeMismatch",
[2022-02-12T22:11:44.324Z]         "message": "Expected slug to be of type number, instead found type string.",
[2022-02-12T22:11:44.324Z]         "stack": "TypeMismatch: Expected slug to be of type number, instead found type string.\n    at checkTypeFunction (/Users/jappy/code/bobs-bedtime-stories/node_modules/dynamoose/lib/Document.ts:332:11)\n    at Array.map (<anonymous>)\n    at Function.Document.objectFromSchema (/Users/jappy/code/bobs-bedtime-stories/node_modules/dynamoose/lib/Document.ts:353:111)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Document.conformToSchema (/Users/jappy/code/bobs-bedtime-stories/node_modules/dynamoose/lib/Document.ts:523:25)\n    at /Users/jappy/code/bobs-bedtime-stories/node_modules/dynamoose/lib/DocumentRetriever.ts:59:75\n    at async Promise.all (index 0)\n    at prepareForReturn (/Users/jappy/code/bobs-bedtime-stories/node_modules/dynamoose/lib/DocumentRetriever.ts:59:24)\n    at /Users/jappy/code/bobs-bedtime-stories/node_modules/dynamoose/lib/DocumentRetriever.ts:115:25",
[2022-02-12T22:11:44.324Z]         "httpStatusCode": "not-given"
[2022-02-12T22:11:44.325Z]     }
[2022-02-12T22:11:44.325Z] }
[2022-02-12T22:11:44.325Z] "Router", "request", "success", {
[2022-02-12T22:11:44.325Z]     "httpMethod": "GET",
[2022-02-12T22:11:44.325Z]     "resource": "/books",
[2022-02-12T22:11:44.325Z]     "path": "/books",
[2022-02-12T22:11:44.325Z]     "error": null,
[2022-02-12T22:11:44.325Z]     "result": {
[2022-02-12T22:11:44.326Z]         "isBase64Encoded": false,
[2022-02-12T22:11:44.326Z]         "statusCode": 500,
[2022-02-12T22:11:44.326Z]         "headers": {
[2022-02-12T22:11:44.326Z]             "Content-Type": "application/json"
[2022-02-12T22:11:44.326Z]         },
[2022-02-12T22:11:44.326Z]         "multiValueHeaders": {},
[2022-02-12T22:11:44.326Z]         "body": "{\"error\":\"Expected slug to be of type number, instead found type string.\"}"
[2022-02-12T22:11:44.326Z]     }
[2022-02-12T22:11:44.326Z] }
[2022-02-12T22:11:44.327Z] "now calling callback"
[2022-02-12T22:11:44.327Z] handler called callback, sending result...
[2022-02-12T22:11:44.327Z] "Router", "request", "success", {
[2022-02-12T22:11:44.327Z]     "httpMethod": "GET",
[2022-02-12T22:11:44.327Z]     "resource": "/books",
[2022-02-12T22:11:44.327Z]     "path": "/books"
[2022-02-12T22:11:44.327Z] }
[2022-02-12T22:11:44.327Z] "promise done, calling callback"
[2022-02-12T22:11:44.328Z] handler promise resolved, sending result...
[2022-02-12T22:14:14.911Z] Received message: {"type":"execute","eventId":"9n_dbG3GWkTILwYRoGM0-","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:14:14.911Z] Executing event 9n_dbG3GWkTILwYRoGM0-
[2022-02-12T22:14:14.912Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:14:14.997Z] Invoking handler function: "handler"
[2022-02-12T22:14:14.998Z] "Router", "request", "info", {
[2022-02-12T22:14:14.998Z]     "httpMethod": "POST",
[2022-02-12T22:14:14.998Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:14:14.998Z]     "path": "/auth/verify-passcode"
[2022-02-12T22:14:14.998Z] }
[2022-02-12T22:14:14.999Z] "authenticating..."
[2022-02-12T22:14:15.005Z] "handler is promise, awaiting response"
[2022-02-12T22:14:15.005Z] Waiting for handler to finish...
[2022-02-12T22:14:15.056Z] "authenticated"
[2022-02-12T22:14:15.057Z] "Router", "request", "success", {
[2022-02-12T22:14:15.057Z]     "httpMethod": "POST",
[2022-02-12T22:14:15.057Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:14:15.057Z]     "path": "/auth/verify-passcode",
[2022-02-12T22:14:15.057Z]     "error": null,
[2022-02-12T22:14:15.057Z]     "result": {
[2022-02-12T22:14:15.057Z]         "isBase64Encoded": false,
[2022-02-12T22:14:15.057Z]         "statusCode": 200,
[2022-02-12T22:14:15.058Z]         "headers": {
[2022-02-12T22:14:15.058Z]             "Content-Type": "application/json"
[2022-02-12T22:14:15.058Z]         },
[2022-02-12T22:14:15.058Z]         "multiValueHeaders": {},
[2022-02-12T22:14:15.058Z]         "body": "\"OK\""
[2022-02-12T22:14:15.058Z]     }
[2022-02-12T22:14:15.058Z] }
[2022-02-12T22:14:15.058Z] "now calling callback"
[2022-02-12T22:14:15.058Z] handler called callback, sending result...
[2022-02-12T22:14:15.059Z] "Router", "request", "success", {
[2022-02-12T22:14:15.059Z]     "httpMethod": "POST",
[2022-02-12T22:14:15.060Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:14:15.060Z]     "path": "/auth/verify-passcode"
[2022-02-12T22:14:15.060Z] }
[2022-02-12T22:14:15.061Z] "promise done, calling callback"
[2022-02-12T22:14:15.061Z] handler promise resolved, sending result...
[2022-02-12T22:14:15.101Z] Received message: {"type":"execute","eventId":"o-rSlwPsU2vyMGid6AntD","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:14:15.101Z] Executing event o-rSlwPsU2vyMGid6AntD
[2022-02-12T22:14:15.101Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:14:15.184Z] Invoking handler function: "handler"
[2022-02-12T22:14:15.185Z] "Router", "request", "info", {
[2022-02-12T22:14:15.185Z]     "httpMethod": "GET",
[2022-02-12T22:14:15.185Z]     "resource": "/books",
[2022-02-12T22:14:15.185Z]     "path": "/books"
[2022-02-12T22:14:15.185Z] }
[2022-02-12T22:14:15.185Z] "authenticating..."
[2022-02-12T22:14:15.192Z] "handler is promise, awaiting response"
[2022-02-12T22:14:15.192Z] Waiting for handler to finish...
[2022-02-12T22:14:15.248Z] "authenticated"
[2022-02-12T22:14:15.248Z] "get books"
[2022-02-12T22:14:15.248Z] "add \"all\" option"
[2022-02-12T22:14:15.248Z] "execute"
[2022-02-12T22:14:15.277Z] {
[2022-02-12T22:14:15.278Z]     "errorResponse": {
[2022-02-12T22:14:15.278Z]         "isBase64Encoded": false,
[2022-02-12T22:14:15.278Z]         "statusCode": 500,
[2022-02-12T22:14:15.278Z]         "headers": {
[2022-02-12T22:14:15.278Z]             "Content-Type": "application/json"
[2022-02-12T22:14:15.278Z]         },
[2022-02-12T22:14:15.278Z]         "multiValueHeaders": {},
[2022-02-12T22:14:15.278Z]         "body": "{\"error\":\"Expected slug to be of type number, instead found type string.\"}"
[2022-02-12T22:14:15.279Z]     },
[2022-02-12T22:14:15.279Z]     "originalError": {
[2022-02-12T22:14:15.279Z]         "name": "TypeMismatch",
[2022-02-12T22:14:15.279Z]         "message": "Expected slug to be of type number, instead found type string.",
[2022-02-12T22:14:15.279Z]         "stack": "TypeMismatch: Expected slug to be of type number, instead found type string.\n    at checkTypeFunction (/Users/jappy/code/bobs-bedtime-stories/node_modules/dynamoose/lib/Document.ts:332:11)\n    at Array.map (<anonymous>)\n    at Function.Document.objectFromSchema (/Users/jappy/code/bobs-bedtime-stories/node_modules/dynamoose/lib/Document.ts:353:111)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Document.conformToSchema (/Users/jappy/code/bobs-bedtime-stories/node_modules/dynamoose/lib/Document.ts:523:25)\n    at /Users/jappy/code/bobs-bedtime-stories/node_modules/dynamoose/lib/DocumentRetriever.ts:59:75\n    at async Promise.all (index 0)\n    at prepareForReturn (/Users/jappy/code/bobs-bedtime-stories/node_modules/dynamoose/lib/DocumentRetriever.ts:59:24)\n    at /Users/jappy/code/bobs-bedtime-stories/node_modules/dynamoose/lib/DocumentRetriever.ts:115:25",
[2022-02-12T22:14:15.279Z]         "httpStatusCode": "not-given"
[2022-02-12T22:14:15.279Z]     }
[2022-02-12T22:14:15.279Z] }
[2022-02-12T22:14:15.279Z] "Router", "request", "success", {
[2022-02-12T22:14:15.279Z]     "httpMethod": "GET",
[2022-02-12T22:14:15.280Z]     "resource": "/books",
[2022-02-12T22:14:15.280Z]     "path": "/books",
[2022-02-12T22:14:15.280Z]     "error": null,
[2022-02-12T22:14:15.280Z]     "result": {
[2022-02-12T22:14:15.280Z]         "isBase64Encoded": false,
[2022-02-12T22:14:15.280Z]         "statusCode": 500,
[2022-02-12T22:14:15.280Z]         "headers": {
[2022-02-12T22:14:15.280Z]             "Content-Type": "application/json"
[2022-02-12T22:14:15.280Z]         },
[2022-02-12T22:14:15.280Z]         "multiValueHeaders": {},
[2022-02-12T22:14:15.280Z]         "body": "{\"error\":\"Expected slug to be of type number, instead found type string.\"}"
[2022-02-12T22:14:15.280Z]     }
[2022-02-12T22:14:15.281Z] }
[2022-02-12T22:14:15.281Z] "now calling callback"
[2022-02-12T22:14:15.281Z] handler called callback, sending result...
[2022-02-12T22:14:15.282Z] "Router", "request", "success", {
[2022-02-12T22:14:15.282Z]     "httpMethod": "GET",
[2022-02-12T22:14:15.282Z]     "resource": "/books",
[2022-02-12T22:14:15.282Z]     "path": "/books"
[2022-02-12T22:14:15.282Z] }
[2022-02-12T22:14:15.283Z] "promise done, calling callback"
[2022-02-12T22:14:15.283Z] handler promise resolved, sending result...
[2022-02-12T22:18:57.194Z] Received message: {"type":"execute","eventId":"1gw6qQpsCCdRjfxY97OFx","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:18:57.195Z] Executing event 1gw6qQpsCCdRjfxY97OFx
[2022-02-12T22:18:57.195Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:18:57.281Z] Invoking handler function: "handler"
[2022-02-12T22:18:57.281Z] "Router", "request", "info", {
[2022-02-12T22:18:57.281Z]     "httpMethod": "POST",
[2022-02-12T22:18:57.282Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:18:57.282Z]     "path": "/auth/verify-passcode"
[2022-02-12T22:18:57.282Z] }
[2022-02-12T22:18:57.282Z] "authenticating..."
[2022-02-12T22:18:57.291Z] "handler is promise, awaiting response"
[2022-02-12T22:18:57.291Z] Waiting for handler to finish...
[2022-02-12T22:18:57.348Z] "authenticated"
[2022-02-12T22:18:57.348Z] "Router", "request", "success", {
[2022-02-12T22:18:57.349Z]     "httpMethod": "POST",
[2022-02-12T22:18:57.349Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:18:57.349Z]     "path": "/auth/verify-passcode",
[2022-02-12T22:18:57.349Z]     "error": null,
[2022-02-12T22:18:57.349Z]     "result": {
[2022-02-12T22:18:57.349Z]         "isBase64Encoded": false,
[2022-02-12T22:18:57.349Z]         "statusCode": 200,
[2022-02-12T22:18:57.349Z]         "headers": {
[2022-02-12T22:18:57.349Z]             "Content-Type": "application/json"
[2022-02-12T22:18:57.349Z]         },
[2022-02-12T22:18:57.350Z]         "multiValueHeaders": {},
[2022-02-12T22:18:57.350Z]         "body": "\"OK\""
[2022-02-12T22:18:57.350Z]     }
[2022-02-12T22:18:57.350Z] }
[2022-02-12T22:18:57.350Z] "now calling callback"
[2022-02-12T22:18:57.350Z] handler called callback, sending result...
[2022-02-12T22:18:57.351Z] "Router", "request", "success", {
[2022-02-12T22:18:57.351Z]     "httpMethod": "POST",
[2022-02-12T22:18:57.351Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:18:57.351Z]     "path": "/auth/verify-passcode"
[2022-02-12T22:18:57.351Z] }
[2022-02-12T22:18:57.351Z] "promise done, calling callback"
[2022-02-12T22:18:57.351Z] handler promise resolved, sending result...
[2022-02-12T22:18:57.391Z] Received message: {"type":"execute","eventId":"y5FxcKeo-hRijO4v6WFYq","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:18:57.391Z] Executing event y5FxcKeo-hRijO4v6WFYq
[2022-02-12T22:18:57.391Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:18:57.472Z] Invoking handler function: "handler"
[2022-02-12T22:18:57.472Z] "Router", "request", "info", {
[2022-02-12T22:18:57.472Z]     "httpMethod": "GET",
[2022-02-12T22:18:57.472Z]     "resource": "/books",
[2022-02-12T22:18:57.473Z]     "path": "/books"
[2022-02-12T22:18:57.473Z] }
[2022-02-12T22:18:57.473Z] "authenticating..."
[2022-02-12T22:18:57.479Z] "handler is promise, awaiting response"
[2022-02-12T22:18:57.479Z] Waiting for handler to finish...
[2022-02-12T22:18:57.536Z] "authenticated"
[2022-02-12T22:18:57.536Z] "get books"
[2022-02-12T22:18:57.537Z] "add \"all\" option"
[2022-02-12T22:18:57.537Z] "execute"
[2022-02-12T22:18:57.564Z] "done", []
[2022-02-12T22:18:57.564Z] "Router", "request", "success", {
[2022-02-12T22:18:57.564Z]     "httpMethod": "GET",
[2022-02-12T22:18:57.565Z]     "resource": "/books",
[2022-02-12T22:18:57.565Z]     "path": "/books",
[2022-02-12T22:18:57.565Z]     "error": null,
[2022-02-12T22:18:57.565Z]     "result": {
[2022-02-12T22:18:57.565Z]         "isBase64Encoded": false,
[2022-02-12T22:18:57.565Z]         "statusCode": 200,
[2022-02-12T22:18:57.565Z]         "headers": {
[2022-02-12T22:18:57.565Z]             "Content-Type": "application/json"
[2022-02-12T22:18:57.566Z]         },
[2022-02-12T22:18:57.566Z]         "multiValueHeaders": {},
[2022-02-12T22:18:57.566Z]         "body": "[]"
[2022-02-12T22:18:57.566Z]     }
[2022-02-12T22:18:57.566Z] }
[2022-02-12T22:18:57.566Z] "now calling callback"
[2022-02-12T22:18:57.566Z] handler called callback, sending result...
[2022-02-12T22:18:57.566Z] "Router", "request", "success", {
[2022-02-12T22:18:57.566Z]     "httpMethod": "GET",
[2022-02-12T22:18:57.566Z]     "resource": "/books",
[2022-02-12T22:18:57.567Z]     "path": "/books"
[2022-02-12T22:18:57.567Z] }
[2022-02-12T22:18:57.567Z] "promise done, calling callback"
[2022-02-12T22:18:57.567Z] handler promise resolved, sending result...
[2022-02-12T22:19:16.848Z] Received message: {"type":"execute","eventId":"TDUEmkCL6-ZpIIFvljjoS","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:19:16.848Z] Executing event TDUEmkCL6-ZpIIFvljjoS
[2022-02-12T22:19:16.849Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:19:16.935Z] Invoking handler function: "handler"
[2022-02-12T22:19:16.935Z] "Router", "request", "info", {
[2022-02-12T22:19:16.935Z]     "httpMethod": "GET",
[2022-02-12T22:19:16.936Z]     "resource": "/books",
[2022-02-12T22:19:16.936Z]     "path": "/books"
[2022-02-12T22:19:16.936Z] }
[2022-02-12T22:19:16.936Z] "authenticating..."
[2022-02-12T22:19:16.943Z] "handler is promise, awaiting response"
[2022-02-12T22:19:16.943Z] Waiting for handler to finish...
[2022-02-12T22:19:17.043Z] "authenticated"
[2022-02-12T22:19:17.043Z] "get books"
[2022-02-12T22:19:17.044Z] "add \"all\" option"
[2022-02-12T22:19:17.044Z] "execute"
[2022-02-12T22:19:17.057Z] "done", [
[2022-02-12T22:19:17.057Z]     {
[2022-02-12T22:19:17.057Z]         "title": "Tilda Apfelkern",
[2022-02-12T22:19:17.057Z]         "description": "some text",
[2022-02-12T22:19:17.057Z]         "slug": "tilda-apfelkern"
[2022-02-12T22:19:17.058Z]     }
[2022-02-12T22:19:17.058Z] ]
[2022-02-12T22:19:17.059Z] "Router", "request", "success", {
[2022-02-12T22:19:17.059Z]     "httpMethod": "GET",
[2022-02-12T22:19:17.059Z]     "resource": "/books",
[2022-02-12T22:19:17.059Z]     "path": "/books",
[2022-02-12T22:19:17.059Z]     "error": null,
[2022-02-12T22:19:17.059Z]     "result": {
[2022-02-12T22:19:17.059Z]         "isBase64Encoded": false,
[2022-02-12T22:19:17.059Z]         "statusCode": 200,
[2022-02-12T22:19:17.059Z]         "headers": {
[2022-02-12T22:19:17.060Z]             "Content-Type": "application/json"
[2022-02-12T22:19:17.060Z]         },
[2022-02-12T22:19:17.060Z]         "multiValueHeaders": {},
[2022-02-12T22:19:17.060Z]         "body": "[{\"title\":\"Tilda Apfelkern\",\"description\":\"some text\",\"slug\":\"tilda-apfelkern\"}]"
[2022-02-12T22:19:17.060Z]     }
[2022-02-12T22:19:17.060Z] }
[2022-02-12T22:19:17.060Z] "now calling callback"
[2022-02-12T22:19:17.060Z] handler called callback, sending result...
[2022-02-12T22:19:17.061Z] "Router", "request", "success", {
[2022-02-12T22:19:17.061Z]     "httpMethod": "GET",
[2022-02-12T22:19:17.061Z]     "resource": "/books",
[2022-02-12T22:19:17.061Z]     "path": "/books"
[2022-02-12T22:19:17.061Z] }
[2022-02-12T22:19:17.061Z] "promise done, calling callback"
[2022-02-12T22:19:17.061Z] handler promise resolved, sending result...
[2022-02-12T22:19:17.097Z] Received message: {"type":"execute","eventId":"hC7xK66AxEdwutfZVIY_0","payload":{"event":{"isBase64Encoded":false,"path":"/books/tilda-apfelkern/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"tilda-apfelkern","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:19:17.116Z] Executing event hC7xK66AxEdwutfZVIY_0
[2022-02-12T22:19:17.116Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:19:17.178Z] Invoking handler function: "handler"
[2022-02-12T22:19:17.178Z] "Router", "request", "info", {
[2022-02-12T22:19:17.178Z]     "httpMethod": "GET",
[2022-02-12T22:19:17.179Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T22:19:17.179Z]     "path": "/books/tilda-apfelkern/stories"
[2022-02-12T22:19:17.179Z] }
[2022-02-12T22:19:17.179Z] "authenticating..."
[2022-02-12T22:19:17.185Z] "handler is promise, awaiting response"
[2022-02-12T22:19:17.185Z] Waiting for handler to finish...
[2022-02-12T22:19:17.226Z] "authenticated"
[2022-02-12T22:19:17.272Z] "Router", "request", "success", {
[2022-02-12T22:19:17.272Z]     "httpMethod": "GET",
[2022-02-12T22:19:17.272Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T22:19:17.272Z]     "path": "/books/tilda-apfelkern/stories",
[2022-02-12T22:19:17.273Z]     "error": null,
[2022-02-12T22:19:17.273Z]     "result": {
[2022-02-12T22:19:17.273Z]         "isBase64Encoded": false,
[2022-02-12T22:19:17.273Z]         "statusCode": 200,
[2022-02-12T22:19:17.273Z]         "headers": {
[2022-02-12T22:19:17.273Z]             "Content-Type": "application/json"
[2022-02-12T22:19:17.273Z]         },
[2022-02-12T22:19:17.274Z]         "multiValueHeaders": {},
[2022-02-12T22:19:17.274Z]         "body": "[]"
[2022-02-12T22:19:17.274Z]     }
[2022-02-12T22:19:17.274Z] }
[2022-02-12T22:19:17.274Z] "now calling callback"
[2022-02-12T22:19:17.274Z] handler called callback, sending result...
[2022-02-12T22:19:17.274Z] "Router", "request", "success", {
[2022-02-12T22:19:17.274Z]     "httpMethod": "GET",
[2022-02-12T22:19:17.274Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T22:19:17.275Z]     "path": "/books/tilda-apfelkern/stories"
[2022-02-12T22:19:17.275Z] }
[2022-02-12T22:19:17.275Z] "promise done, calling callback"
[2022-02-12T22:19:17.275Z] handler promise resolved, sending result...
[2022-02-12T22:20:24.996Z] Received message: {"type":"execute","eventId":"f-CUK6vukRD6hot9BdnSr","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"50-BQ312bY0Q17S+DqUPRcvPELgLYo\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:20:24.996Z] Executing event f-CUK6vukRD6hot9BdnSr
[2022-02-12T22:20:24.996Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:20:25.131Z] Invoking handler function: "handler"
[2022-02-12T22:20:25.131Z] "Router", "request", "info", {
[2022-02-12T22:20:25.131Z]     "httpMethod": "GET",
[2022-02-12T22:20:25.131Z]     "resource": "/books",
[2022-02-12T22:20:25.132Z]     "path": "/books"
[2022-02-12T22:20:25.132Z] }
[2022-02-12T22:20:25.132Z] "authenticating..."
[2022-02-12T22:20:25.139Z] "handler is promise, awaiting response"
[2022-02-12T22:20:25.139Z] Waiting for handler to finish...
[2022-02-12T22:20:25.171Z] "authenticated"
[2022-02-12T22:20:25.172Z] "get books"
[2022-02-12T22:20:25.172Z] "add \"all\" option"
[2022-02-12T22:20:25.172Z] "execute"
[2022-02-12T22:20:25.182Z] "done", [
[2022-02-12T22:20:25.195Z]     {
[2022-02-12T22:20:25.196Z]         "title": "Tilda Apfelkern",
[2022-02-12T22:20:25.196Z]         "description": "some text",
[2022-02-12T22:20:25.198Z]         "slug": "tilda-apfelkern"
[2022-02-12T22:20:25.198Z]     }
[2022-02-12T22:20:25.198Z] ]
[2022-02-12T22:20:25.198Z] "Router", "request", "success", {
[2022-02-12T22:20:25.198Z]     "httpMethod": "GET",
[2022-02-12T22:20:25.198Z]     "resource": "/books",
[2022-02-12T22:20:25.199Z]     "path": "/books",
[2022-02-12T22:20:25.199Z]     "error": null,
[2022-02-12T22:20:25.199Z]     "result": {
[2022-02-12T22:20:25.199Z]         "isBase64Encoded": false,
[2022-02-12T22:20:25.199Z]         "statusCode": 200,
[2022-02-12T22:20:25.199Z]         "headers": {
[2022-02-12T22:20:25.199Z]             "Content-Type": "application/json"
[2022-02-12T22:20:25.199Z]         },
[2022-02-12T22:20:25.199Z]         "multiValueHeaders": {},
[2022-02-12T22:20:25.199Z]         "body": "[{\"title\":\"Tilda Apfelkern\",\"description\":\"some text\",\"slug\":\"tilda-apfelkern\"}]"
[2022-02-12T22:20:25.200Z]     }
[2022-02-12T22:20:25.200Z] }
[2022-02-12T22:20:25.200Z] "now calling callback"
[2022-02-12T22:20:25.200Z] handler called callback, sending result...
[2022-02-12T22:20:25.200Z] "Router", "request", "success", {
[2022-02-12T22:20:25.200Z]     "httpMethod": "GET",
[2022-02-12T22:20:25.200Z]     "resource": "/books",
[2022-02-12T22:20:25.200Z]     "path": "/books"
[2022-02-12T22:20:25.201Z] }
[2022-02-12T22:20:25.201Z] "promise done, calling callback"
[2022-02-12T22:20:25.201Z] handler promise resolved, sending result...
[2022-02-12T22:20:25.235Z] Received message: {"type":"execute","eventId":"zGBJYokRCwYJjn8p2ANJw","payload":{"event":{"isBase64Encoded":false,"path":"/books/tilda-apfelkern/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"tilda-apfelkern","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:20:25.235Z] Executing event zGBJYokRCwYJjn8p2ANJw
[2022-02-12T22:20:25.235Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:20:25.319Z] Invoking handler function: "handler"
[2022-02-12T22:20:25.320Z] "Router", "request", "info", {
[2022-02-12T22:20:25.320Z]     "httpMethod": "GET",
[2022-02-12T22:20:25.320Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T22:20:25.320Z]     "path": "/books/tilda-apfelkern/stories"
[2022-02-12T22:20:25.321Z] }
[2022-02-12T22:20:25.321Z] "authenticating..."
[2022-02-12T22:20:25.327Z] "handler is promise, awaiting response"
[2022-02-12T22:20:25.327Z] Waiting for handler to finish...
[2022-02-12T22:20:25.365Z] "authenticated"
[2022-02-12T22:20:25.377Z] "Router", "request", "success", {
[2022-02-12T22:20:25.377Z]     "httpMethod": "GET",
[2022-02-12T22:20:25.377Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T22:20:25.378Z]     "path": "/books/tilda-apfelkern/stories",
[2022-02-12T22:20:25.378Z]     "error": null,
[2022-02-12T22:20:25.378Z]     "result": {
[2022-02-12T22:20:25.378Z]         "isBase64Encoded": false,
[2022-02-12T22:20:25.378Z]         "statusCode": 200,
[2022-02-12T22:20:25.378Z]         "headers": {
[2022-02-12T22:20:25.379Z]             "Content-Type": "application/json"
[2022-02-12T22:20:25.379Z]         },
[2022-02-12T22:20:25.379Z]         "multiValueHeaders": {},
[2022-02-12T22:20:25.379Z]         "body": "[{\"description\":\"noch so eine folge\",\"episode\":1,\"audioUrl\":\"https://google.com/mp4\",\"audioLength\":125,\"bookSlug\":\"tilda-apfelkern\"}]"
[2022-02-12T22:20:25.379Z]     }
[2022-02-12T22:20:25.379Z] }
[2022-02-12T22:20:25.379Z] "now calling callback"
[2022-02-12T22:20:25.379Z] handler called callback, sending result...
[2022-02-12T22:20:25.379Z] "Router", "request", "success", {
[2022-02-12T22:20:25.379Z]     "httpMethod": "GET",
[2022-02-12T22:20:25.380Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T22:20:25.380Z]     "path": "/books/tilda-apfelkern/stories"
[2022-02-12T22:20:25.380Z] }
[2022-02-12T22:20:25.380Z] "promise done, calling callback"
[2022-02-12T22:20:25.380Z] handler promise resolved, sending result...
[2022-02-12T22:28:45.943Z] Received message: {"type":"execute","eventId":"MaiwMkjKHiC1OYvE1vFzJ","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:28:45.944Z] Executing event MaiwMkjKHiC1OYvE1vFzJ
[2022-02-12T22:28:45.944Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:28:46.136Z] Invoking handler function: "handler"
[2022-02-12T22:28:46.136Z] "Router", "request", "info", {
[2022-02-12T22:28:46.136Z]     "httpMethod": "POST",
[2022-02-12T22:28:46.137Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:28:46.137Z]     "path": "/auth/verify-passcode"
[2022-02-12T22:28:46.137Z] }
[2022-02-12T22:28:46.137Z] "authenticating..."
[2022-02-12T22:28:46.143Z] "handler is promise, awaiting response"
[2022-02-12T22:28:46.143Z] Waiting for handler to finish...
[2022-02-12T22:28:46.206Z] "authenticated"
[2022-02-12T22:28:46.207Z] "Router", "request", "success", {
[2022-02-12T22:28:46.207Z]     "httpMethod": "POST",
[2022-02-12T22:28:46.207Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:28:46.207Z]     "path": "/auth/verify-passcode",
[2022-02-12T22:28:46.207Z]     "error": null,
[2022-02-12T22:28:46.207Z]     "result": {
[2022-02-12T22:28:46.208Z]         "isBase64Encoded": false,
[2022-02-12T22:28:46.208Z]         "statusCode": 200,
[2022-02-12T22:28:46.208Z]         "headers": {
[2022-02-12T22:28:46.208Z]             "Content-Type": "application/json"
[2022-02-12T22:28:46.208Z]         },
[2022-02-12T22:28:46.208Z]         "multiValueHeaders": {},
[2022-02-12T22:28:46.208Z]         "body": "\"OK\""
[2022-02-12T22:28:46.209Z]     }
[2022-02-12T22:28:46.209Z] }
[2022-02-12T22:28:46.209Z] "now calling callback"
[2022-02-12T22:28:46.209Z] handler called callback, sending result...
[2022-02-12T22:28:46.209Z] "Router", "request", "success", {
[2022-02-12T22:28:46.210Z]     "httpMethod": "POST",
[2022-02-12T22:28:46.210Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:28:46.210Z]     "path": "/auth/verify-passcode"
[2022-02-12T22:28:46.210Z] }
[2022-02-12T22:28:46.210Z] "promise done, calling callback"
[2022-02-12T22:28:46.210Z] handler promise resolved, sending result...
[2022-02-12T22:29:13.893Z] Received message: {"type":"execute","eventId":"bVidAoEMacCNs6_j5U6vT","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:29:13.893Z] Executing event bVidAoEMacCNs6_j5U6vT
[2022-02-12T22:29:13.894Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:29:14.054Z] Invoking handler function: "handler"
[2022-02-12T22:29:14.054Z] "Router", "request", "info", {
[2022-02-12T22:29:14.054Z]     "httpMethod": "POST",
[2022-02-12T22:29:14.054Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:29:14.055Z]     "path": "/auth/verify-passcode"
[2022-02-12T22:29:14.055Z] }
[2022-02-12T22:29:14.055Z] "authenticating..."
[2022-02-12T22:29:14.062Z] "handler is promise, awaiting response"
[2022-02-12T22:29:14.062Z] Waiting for handler to finish...
[2022-02-12T22:29:14.115Z] "authenticated"
[2022-02-12T22:29:14.115Z] "Router", "request", "success", {
[2022-02-12T22:29:14.115Z]     "httpMethod": "POST",
[2022-02-12T22:29:14.115Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:29:14.115Z]     "path": "/auth/verify-passcode",
[2022-02-12T22:29:14.115Z]     "error": null,
[2022-02-12T22:29:14.116Z]     "result": {
[2022-02-12T22:29:14.116Z]         "isBase64Encoded": false,
[2022-02-12T22:29:14.116Z]         "statusCode": 200,
[2022-02-12T22:29:14.116Z]         "headers": {
[2022-02-12T22:29:14.116Z]             "Content-Type": "application/json"
[2022-02-12T22:29:14.116Z]         },
[2022-02-12T22:29:14.116Z]         "multiValueHeaders": {},
[2022-02-12T22:29:14.116Z]         "body": "\"OK\""
[2022-02-12T22:29:14.116Z]     }
[2022-02-12T22:29:14.116Z] }
[2022-02-12T22:29:14.116Z] "now calling callback"
[2022-02-12T22:29:14.116Z] handler called callback, sending result...
[2022-02-12T22:29:14.117Z] "Router", "request", "success", {
[2022-02-12T22:29:14.117Z]     "httpMethod": "POST",
[2022-02-12T22:29:14.117Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:29:14.117Z]     "path": "/auth/verify-passcode"
[2022-02-12T22:29:14.117Z] }
[2022-02-12T22:29:14.117Z] "promise done, calling callback"
[2022-02-12T22:29:14.117Z] handler promise resolved, sending result...
[2022-02-12T22:29:51.148Z] Received message: {"type":"execute","eventId":"s8_fa5DNHesj-dtqpzALl","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:29:51.149Z] Executing event s8_fa5DNHesj-dtqpzALl
[2022-02-12T22:29:51.149Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:29:51.317Z] Invoking handler function: "handler"
[2022-02-12T22:29:51.317Z] "Router", "request", "info", {
[2022-02-12T22:29:51.317Z]     "httpMethod": "POST",
[2022-02-12T22:29:51.317Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:29:51.317Z]     "path": "/auth/verify-passcode"
[2022-02-12T22:29:51.317Z] }
[2022-02-12T22:29:51.317Z] "authenticating..."
[2022-02-12T22:29:51.325Z] "handler is promise, awaiting response"
[2022-02-12T22:29:51.327Z] Waiting for handler to finish...
[2022-02-12T22:29:51.384Z] "authenticated"
[2022-02-12T22:29:51.384Z] "Router", "request", "success", {
[2022-02-12T22:29:51.384Z]     "httpMethod": "POST",
[2022-02-12T22:29:51.384Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:29:51.384Z]     "path": "/auth/verify-passcode",
[2022-02-12T22:29:51.384Z]     "error": null,
[2022-02-12T22:29:51.385Z]     "result": {
[2022-02-12T22:29:51.385Z]         "isBase64Encoded": false,
[2022-02-12T22:29:51.385Z]         "statusCode": 200,
[2022-02-12T22:29:51.385Z]         "headers": {
[2022-02-12T22:29:51.385Z]             "Content-Type": "application/json"
[2022-02-12T22:29:51.385Z]         },
[2022-02-12T22:29:51.386Z]         "multiValueHeaders": {},
[2022-02-12T22:29:51.386Z]         "body": "\"OK\""
[2022-02-12T22:29:51.386Z]     }
[2022-02-12T22:29:51.386Z] }
[2022-02-12T22:29:51.386Z] "now calling callback"
[2022-02-12T22:29:51.386Z] handler called callback, sending result...
[2022-02-12T22:29:51.387Z] "Router", "request", "success", {
[2022-02-12T22:29:51.387Z]     "httpMethod": "POST",
[2022-02-12T22:29:51.387Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:29:51.388Z]     "path": "/auth/verify-passcode"
[2022-02-12T22:29:51.388Z] }
[2022-02-12T22:29:51.388Z] "promise done, calling callback"
[2022-02-12T22:29:51.388Z] handler promise resolved, sending result...
[2022-02-12T22:54:22.993Z] Received message: {"type":"execute","eventId":"GLCjS-aSfGHowSYPeYy7W","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"50-BQ312bY0Q17S+DqUPRcvPELgLYo\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:54:22.994Z] Executing event GLCjS-aSfGHowSYPeYy7W
[2022-02-12T22:54:22.996Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:54:23.141Z] Invoking handler function: "handler"
[2022-02-12T22:54:23.141Z] "Router", "request", "info", {
[2022-02-12T22:54:23.141Z]     "httpMethod": "GET",
[2022-02-12T22:54:23.141Z]     "resource": "/books",
[2022-02-12T22:54:23.142Z]     "path": "/books"
[2022-02-12T22:54:23.142Z] }
[2022-02-12T22:54:23.142Z] "authenticating..."
[2022-02-12T22:54:23.149Z] "handler is promise, awaiting response"
[2022-02-12T22:54:23.150Z] Waiting for handler to finish...
[2022-02-12T22:54:23.191Z] "authenticated"
[2022-02-12T22:54:23.191Z] "get books"
[2022-02-12T22:54:23.191Z] "add \"all\" option"
[2022-02-12T22:54:23.191Z] "execute"
[2022-02-12T22:54:23.200Z] "done", [
[2022-02-12T22:54:23.201Z]     {
[2022-02-12T22:54:23.201Z]         "title": "Tilda Apfelkern",
[2022-02-12T22:54:23.201Z]         "description": "some text",
[2022-02-12T22:54:23.201Z]         "slug": "tilda-apfelkern"
[2022-02-12T22:54:23.201Z]     }
[2022-02-12T22:54:23.202Z] ]
[2022-02-12T22:54:23.202Z] "Router", "request", "success", {
[2022-02-12T22:54:23.202Z]     "httpMethod": "GET",
[2022-02-12T22:54:23.202Z]     "resource": "/books",
[2022-02-12T22:54:23.202Z]     "path": "/books",
[2022-02-12T22:54:23.202Z]     "error": null,
[2022-02-12T22:54:23.203Z]     "result": {
[2022-02-12T22:54:23.203Z]         "isBase64Encoded": false,
[2022-02-12T22:54:23.203Z]         "statusCode": 200,
[2022-02-12T22:54:23.203Z]         "headers": {
[2022-02-12T22:54:23.203Z]             "Content-Type": "application/json"
[2022-02-12T22:54:23.203Z]         },
[2022-02-12T22:54:23.203Z]         "multiValueHeaders": {},
[2022-02-12T22:54:23.203Z]         "body": "[{\"title\":\"Tilda Apfelkern\",\"description\":\"some text\",\"slug\":\"tilda-apfelkern\"}]"
[2022-02-12T22:54:23.203Z]     }
[2022-02-12T22:54:23.204Z] }
[2022-02-12T22:54:23.204Z] "now calling callback"
[2022-02-12T22:54:23.204Z] handler called callback, sending result...
[2022-02-12T22:54:23.204Z] "Router", "request", "success", {
[2022-02-12T22:54:23.204Z]     "httpMethod": "GET",
[2022-02-12T22:54:23.205Z]     "resource": "/books",
[2022-02-12T22:54:23.205Z]     "path": "/books"
[2022-02-12T22:54:23.205Z] }
[2022-02-12T22:54:23.205Z] "promise done, calling callback"
[2022-02-12T22:54:23.205Z] handler promise resolved, sending result...
[2022-02-12T22:54:23.241Z] Received message: {"type":"execute","eventId":"AsyQwELqU7XXHwrxl3fZZ","payload":{"event":{"isBase64Encoded":false,"path":"/books/tilda-apfelkern/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"85-OY1+Xy63WOSPom4perGH05XjXDg\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"tilda-apfelkern","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:54:23.241Z] Executing event AsyQwELqU7XXHwrxl3fZZ
[2022-02-12T22:54:23.241Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:54:23.325Z] Invoking handler function: "handler"
[2022-02-12T22:54:23.325Z] "Router", "request", "info", {
[2022-02-12T22:54:23.326Z]     "httpMethod": "GET",
[2022-02-12T22:54:23.326Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T22:54:23.326Z]     "path": "/books/tilda-apfelkern/stories"
[2022-02-12T22:54:23.326Z] }
[2022-02-12T22:54:23.326Z] "authenticating..."
[2022-02-12T22:54:23.333Z] "handler is promise, awaiting response"
[2022-02-12T22:54:23.333Z] Waiting for handler to finish...
[2022-02-12T22:54:23.375Z] "authenticated"
[2022-02-12T22:54:23.388Z] "Router", "request", "success", {
[2022-02-12T22:54:23.388Z]     "httpMethod": "GET",
[2022-02-12T22:54:23.388Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T22:54:23.388Z]     "path": "/books/tilda-apfelkern/stories",
[2022-02-12T22:54:23.389Z]     "error": null,
[2022-02-12T22:54:23.389Z]     "result": {
[2022-02-12T22:54:23.389Z]         "isBase64Encoded": false,
[2022-02-12T22:54:23.389Z]         "statusCode": 200,
[2022-02-12T22:54:23.389Z]         "headers": {
[2022-02-12T22:54:23.389Z]             "Content-Type": "application/json"
[2022-02-12T22:54:23.389Z]         },
[2022-02-12T22:54:23.389Z]         "multiValueHeaders": {},
[2022-02-12T22:54:23.390Z]         "body": "[{\"description\":\"noch so eine folge\",\"episode\":1,\"audioUrl\":\"https://google.com/mp4\",\"audioLength\":125,\"bookSlug\":\"tilda-apfelkern\"}]"
[2022-02-12T22:54:23.390Z]     }
[2022-02-12T22:54:23.390Z] }
[2022-02-12T22:54:23.390Z] "now calling callback"
[2022-02-12T22:54:23.390Z] handler called callback, sending result...
[2022-02-12T22:54:23.391Z] "Router", "request", "success", {
[2022-02-12T22:54:23.391Z]     "httpMethod": "GET",
[2022-02-12T22:54:23.391Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T22:54:23.391Z]     "path": "/books/tilda-apfelkern/stories"
[2022-02-12T22:54:23.391Z] }
[2022-02-12T22:54:23.391Z] "promise done, calling callback"
[2022-02-12T22:54:23.391Z] handler promise resolved, sending result...
[2022-02-12T22:55:06.126Z] Received message: {"type":"execute","eventId":"dMKDQWavYrQsCfvKexOl1","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"50-BQ312bY0Q17S+DqUPRcvPELgLYo\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:55:06.127Z] Executing event dMKDQWavYrQsCfvKexOl1
[2022-02-12T22:55:06.127Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:55:06.256Z] Invoking handler function: "handler"
[2022-02-12T22:55:06.256Z] "Router", "request", "info", {
[2022-02-12T22:55:06.256Z]     "httpMethod": "GET",
[2022-02-12T22:55:06.256Z]     "resource": "/books",
[2022-02-12T22:55:06.257Z]     "path": "/books"
[2022-02-12T22:55:06.257Z] }
[2022-02-12T22:55:06.257Z] "authenticating..."
[2022-02-12T22:55:06.264Z] "handler is promise, awaiting response"
[2022-02-12T22:55:06.265Z] Waiting for handler to finish...
[2022-02-12T22:55:06.308Z] "authenticated"
[2022-02-12T22:55:06.308Z] "get books"
[2022-02-12T22:55:06.308Z] "add \"all\" option"
[2022-02-12T22:55:06.308Z] "execute"
[2022-02-12T22:55:06.318Z] "done", [
[2022-02-12T22:55:06.318Z]     {
[2022-02-12T22:55:06.318Z]         "title": "Tilda Apfelkern",
[2022-02-12T22:55:06.319Z]         "description": "some text",
[2022-02-12T22:55:06.319Z]         "slug": "tilda-apfelkern"
[2022-02-12T22:55:06.320Z]     }
[2022-02-12T22:55:06.320Z] ]
[2022-02-12T22:55:06.320Z] "Router", "request", "success", {
[2022-02-12T22:55:06.320Z]     "httpMethod": "GET",
[2022-02-12T22:55:06.320Z]     "resource": "/books",
[2022-02-12T22:55:06.320Z]     "path": "/books",
[2022-02-12T22:55:06.320Z]     "error": null,
[2022-02-12T22:55:06.320Z]     "result": {
[2022-02-12T22:55:06.320Z]         "isBase64Encoded": false,
[2022-02-12T22:55:06.320Z]         "statusCode": 200,
[2022-02-12T22:55:06.321Z]         "headers": {
[2022-02-12T22:55:06.321Z]             "Content-Type": "application/json"
[2022-02-12T22:55:06.321Z]         },
[2022-02-12T22:55:06.321Z]         "multiValueHeaders": {},
[2022-02-12T22:55:06.321Z]         "body": "[{\"title\":\"Tilda Apfelkern\",\"description\":\"some text\",\"slug\":\"tilda-apfelkern\"}]"
[2022-02-12T22:55:06.321Z]     }
[2022-02-12T22:55:06.322Z] }
[2022-02-12T22:55:06.322Z] "now calling callback"
[2022-02-12T22:55:06.322Z] handler called callback, sending result...
[2022-02-12T22:55:06.322Z] "Router", "request", "success", {
[2022-02-12T22:55:06.323Z]     "httpMethod": "GET",
[2022-02-12T22:55:06.323Z]     "resource": "/books",
[2022-02-12T22:55:06.323Z]     "path": "/books"
[2022-02-12T22:55:06.323Z] }
[2022-02-12T22:55:06.323Z] "promise done, calling callback"
[2022-02-12T22:55:06.323Z] handler promise resolved, sending result...
[2022-02-12T22:55:06.411Z] Received message: {"type":"execute","eventId":"YbCFQ4jTxOapUe4ASV5UP","payload":{"event":{"isBase64Encoded":false,"path":"/books/tilda-apfelkern/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"85-OY1+Xy63WOSPom4perGH05XjXDg\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"tilda-apfelkern","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:55:06.413Z] Executing event YbCFQ4jTxOapUe4ASV5UP
[2022-02-12T22:55:06.413Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:55:06.456Z] Invoking handler function: "handler"
[2022-02-12T22:55:06.457Z] "Router", "request", "info", {
[2022-02-12T22:55:06.457Z]     "httpMethod": "GET",
[2022-02-12T22:55:06.457Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T22:55:06.457Z]     "path": "/books/tilda-apfelkern/stories"
[2022-02-12T22:55:06.457Z] }
[2022-02-12T22:55:06.457Z] "authenticating..."
[2022-02-12T22:55:06.464Z] "handler is promise, awaiting response"
[2022-02-12T22:55:06.464Z] Waiting for handler to finish...
[2022-02-12T22:55:06.495Z] "authenticated"
[2022-02-12T22:55:06.514Z] "Router", "request", "success", {
[2022-02-12T22:55:06.514Z]     "httpMethod": "GET",
[2022-02-12T22:55:06.515Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T22:55:06.515Z]     "path": "/books/tilda-apfelkern/stories",
[2022-02-12T22:55:06.515Z]     "error": null,
[2022-02-12T22:55:06.515Z]     "result": {
[2022-02-12T22:55:06.515Z]         "isBase64Encoded": false,
[2022-02-12T22:55:06.515Z]         "statusCode": 200,
[2022-02-12T22:55:06.515Z]         "headers": {
[2022-02-12T22:55:06.516Z]             "Content-Type": "application/json"
[2022-02-12T22:55:06.516Z]         },
[2022-02-12T22:55:06.516Z]         "multiValueHeaders": {},
[2022-02-12T22:55:06.516Z]         "body": "[{\"description\":\"noch so eine folge\",\"episode\":1,\"audioUrl\":\"https://google.com/mp4\",\"audioLength\":125,\"bookSlug\":\"tilda-apfelkern\"}]"
[2022-02-12T22:55:06.517Z]     }
[2022-02-12T22:55:06.517Z] }
[2022-02-12T22:55:06.517Z] "now calling callback"
[2022-02-12T22:55:06.517Z] handler called callback, sending result...
[2022-02-12T22:55:06.517Z] "Router", "request", "success", {
[2022-02-12T22:55:06.517Z]     "httpMethod": "GET",
[2022-02-12T22:55:06.518Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T22:55:06.518Z]     "path": "/books/tilda-apfelkern/stories"
[2022-02-12T22:55:06.518Z] }
[2022-02-12T22:55:06.518Z] "promise done, calling callback"
[2022-02-12T22:55:06.519Z] handler promise resolved, sending result...
[2022-02-12T22:55:11.384Z] Received message: {"type":"execute","eventId":"PCTIN41fPtBzVg5o2z_Pr","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"50-BQ312bY0Q17S+DqUPRcvPELgLYo\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:55:11.385Z] Executing event PCTIN41fPtBzVg5o2z_Pr
[2022-02-12T22:55:11.385Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:55:11.519Z] Invoking handler function: "handler"
[2022-02-12T22:55:11.519Z] "Router", "request", "info", {
[2022-02-12T22:55:11.519Z]     "httpMethod": "GET",
[2022-02-12T22:55:11.520Z]     "resource": "/books",
[2022-02-12T22:55:11.520Z]     "path": "/books"
[2022-02-12T22:55:11.520Z] }
[2022-02-12T22:55:11.520Z] "authenticating..."
[2022-02-12T22:55:11.527Z] "handler is promise, awaiting response"
[2022-02-12T22:55:11.527Z] Waiting for handler to finish...
[2022-02-12T22:55:11.530Z] Received message: {"type":"execute","eventId":"yJl_n4G_THNfui6YVnBj3","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:55:11.530Z] Executing event yJl_n4G_THNfui6YVnBj3
[2022-02-12T22:55:11.531Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:55:11.531Z] Invoking handler function: "handler"
[2022-02-12T22:55:11.531Z] "Router", "request", "info", {
[2022-02-12T22:55:11.531Z]     "httpMethod": "POST",
[2022-02-12T22:55:11.531Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:55:11.531Z]     "path": "/auth/verify-passcode"
[2022-02-12T22:55:11.535Z] }
[2022-02-12T22:55:11.536Z] "authenticating..."
[2022-02-12T22:55:11.536Z] "handler is promise, awaiting response"
[2022-02-12T22:55:11.536Z] Waiting for handler to finish...
[2022-02-12T22:55:11.585Z] "authenticated"
[2022-02-12T22:55:11.585Z] "get books"
[2022-02-12T22:55:11.585Z] "add \"all\" option"
[2022-02-12T22:55:11.585Z] "execute"
[2022-02-12T22:55:11.597Z] "done", [
[2022-02-12T22:55:11.597Z]     {
[2022-02-12T22:55:11.597Z]         "title": "Tilda Apfelkern",
[2022-02-12T22:55:11.598Z]         "description": "some text",
[2022-02-12T22:55:11.598Z]         "slug": "tilda-apfelkern"
[2022-02-12T22:55:11.599Z]     }
[2022-02-12T22:55:11.599Z] ]
[2022-02-12T22:55:11.600Z] "Router", "request", "success", {
[2022-02-12T22:55:11.600Z]     "httpMethod": "GET",
[2022-02-12T22:55:11.600Z]     "resource": "/books",
[2022-02-12T22:55:11.600Z]     "path": "/books",
[2022-02-12T22:55:11.600Z]     "error": null,
[2022-02-12T22:55:11.600Z]     "result": {
[2022-02-12T22:55:11.600Z]         "isBase64Encoded": false,
[2022-02-12T22:55:11.600Z]         "statusCode": 200,
[2022-02-12T22:55:11.600Z]         "headers": {
[2022-02-12T22:55:11.601Z]             "Content-Type": "application/json"
[2022-02-12T22:55:11.601Z]         },
[2022-02-12T22:55:11.601Z]         "multiValueHeaders": {},
[2022-02-12T22:55:11.601Z]         "body": "[{\"title\":\"Tilda Apfelkern\",\"description\":\"some text\",\"slug\":\"tilda-apfelkern\"}]"
[2022-02-12T22:55:11.601Z]     }
[2022-02-12T22:55:11.601Z] }
[2022-02-12T22:55:11.601Z] "now calling callback"
[2022-02-12T22:55:11.601Z] handler called callback, sending result...
[2022-02-12T22:55:11.602Z] "Router", "request", "success", {
[2022-02-12T22:55:11.602Z]     "httpMethod": "GET",
[2022-02-12T22:55:11.602Z]     "resource": "/books",
[2022-02-12T22:55:11.602Z]     "path": "/books"
[2022-02-12T22:55:11.602Z] }
[2022-02-12T22:55:11.602Z] "promise done, calling callback"
[2022-02-12T22:55:11.602Z] handler promise resolved, sending result...
[2022-02-12T22:55:11.610Z] "authenticated"
[2022-02-12T22:55:11.610Z] "Router", "request", "success", {
[2022-02-12T22:55:11.610Z]     "httpMethod": "POST",
[2022-02-12T22:55:11.610Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:55:11.610Z]     "path": "/auth/verify-passcode",
[2022-02-12T22:55:11.610Z]     "error": null,
[2022-02-12T22:55:11.610Z]     "result": {
[2022-02-12T22:55:11.611Z]         "isBase64Encoded": false,
[2022-02-12T22:55:11.611Z]         "statusCode": 200,
[2022-02-12T22:55:11.611Z]         "headers": {
[2022-02-12T22:55:11.611Z]             "Content-Type": "application/json"
[2022-02-12T22:55:11.611Z]         },
[2022-02-12T22:55:11.611Z]         "multiValueHeaders": {},
[2022-02-12T22:55:11.611Z]         "body": "\"OK\""
[2022-02-12T22:55:11.612Z]     }
[2022-02-12T22:55:11.612Z] }
[2022-02-12T22:55:11.612Z] "now calling callback"
[2022-02-12T22:55:11.612Z] handler called callback, sending result...
[2022-02-12T22:55:11.612Z] "Router", "request", "success", {
[2022-02-12T22:55:11.612Z]     "httpMethod": "POST",
[2022-02-12T22:55:11.612Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:55:11.612Z]     "path": "/auth/verify-passcode"
[2022-02-12T22:55:11.612Z] }
[2022-02-12T22:55:11.612Z] "promise done, calling callback"
[2022-02-12T22:55:11.613Z] handler promise resolved, sending result...
[2022-02-12T22:55:11.613Z] Received message: {"type":"execute","eventId":"NeGerh66v2wmJvBK_-KbK","payload":{"event":{"isBase64Encoded":false,"path":"/books/tilda-apfelkern/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"85-OY1+Xy63WOSPom4perGH05XjXDg\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"tilda-apfelkern","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:55:11.613Z] Executing event NeGerh66v2wmJvBK_-KbK
[2022-02-12T22:55:11.613Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:55:11.613Z] Invoking handler function: "handler"
[2022-02-12T22:55:11.614Z] "Router", "request", "info", {
[2022-02-12T22:55:11.614Z]     "httpMethod": "GET",
[2022-02-12T22:55:11.614Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T22:55:11.614Z]     "path": "/books/tilda-apfelkern/stories"
[2022-02-12T22:55:11.614Z] }
[2022-02-12T22:55:11.614Z] "authenticating..."
[2022-02-12T22:55:11.615Z] "handler is promise, awaiting response"
[2022-02-12T22:55:11.615Z] Waiting for handler to finish...
[2022-02-12T22:55:11.644Z] "authenticated"
[2022-02-12T22:55:11.656Z] "Router", "request", "success", {
[2022-02-12T22:55:11.656Z]     "httpMethod": "GET",
[2022-02-12T22:55:11.656Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T22:55:11.656Z]     "path": "/books/tilda-apfelkern/stories",
[2022-02-12T22:55:11.656Z]     "error": null,
[2022-02-12T22:55:11.657Z]     "result": {
[2022-02-12T22:55:11.657Z]         "isBase64Encoded": false,
[2022-02-12T22:55:11.657Z]         "statusCode": 200,
[2022-02-12T22:55:11.657Z]         "headers": {
[2022-02-12T22:55:11.657Z]             "Content-Type": "application/json"
[2022-02-12T22:55:11.657Z]         },
[2022-02-12T22:55:11.657Z]         "multiValueHeaders": {},
[2022-02-12T22:55:11.658Z]         "body": "[{\"description\":\"noch so eine folge\",\"episode\":1,\"audioUrl\":\"https://google.com/mp4\",\"audioLength\":125,\"bookSlug\":\"tilda-apfelkern\"}]"
[2022-02-12T22:55:11.658Z]     }
[2022-02-12T22:55:11.658Z] }
[2022-02-12T22:55:11.658Z] "now calling callback"
[2022-02-12T22:55:11.658Z] handler called callback, sending result...
[2022-02-12T22:55:11.658Z] "Router", "request", "success", {
[2022-02-12T22:55:11.658Z]     "httpMethod": "GET",
[2022-02-12T22:55:11.658Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T22:55:11.658Z]     "path": "/books/tilda-apfelkern/stories"
[2022-02-12T22:55:11.658Z] }
[2022-02-12T22:55:11.659Z] "promise done, calling callback"
[2022-02-12T22:55:11.659Z] handler promise resolved, sending result...
[2022-02-12T22:55:31.752Z] Received message: {"type":"execute","eventId":"yA8eITVM6419X5UfiJiza","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"50-BQ312bY0Q17S+DqUPRcvPELgLYo\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:55:31.752Z] Executing event yA8eITVM6419X5UfiJiza
[2022-02-12T22:55:31.752Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:55:31.911Z] Invoking handler function: "handler"
[2022-02-12T22:55:31.912Z] "Router", "request", "info", {
[2022-02-12T22:55:31.912Z]     "httpMethod": "GET",
[2022-02-12T22:55:31.912Z]     "resource": "/books",
[2022-02-12T22:55:31.912Z]     "path": "/books"
[2022-02-12T22:55:31.912Z] }
[2022-02-12T22:55:31.912Z] "authenticating..."
[2022-02-12T22:55:31.919Z] "handler is promise, awaiting response"
[2022-02-12T22:55:31.920Z] Waiting for handler to finish...
[2022-02-12T22:55:31.923Z] Received message: {"type":"execute","eventId":"3YkGL8StRU_GubIZM0150","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:55:31.923Z] Executing event 3YkGL8StRU_GubIZM0150
[2022-02-12T22:55:31.923Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:55:31.923Z] Invoking handler function: "handler"
[2022-02-12T22:55:31.923Z] "Router", "request", "info", {
[2022-02-12T22:55:31.923Z]     "httpMethod": "POST",
[2022-02-12T22:55:31.924Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:55:31.924Z]     "path": "/auth/verify-passcode"
[2022-02-12T22:55:31.924Z] }
[2022-02-12T22:55:31.924Z] "authenticating..."
[2022-02-12T22:55:31.925Z] "handler is promise, awaiting response"
[2022-02-12T22:55:31.925Z] Waiting for handler to finish...
[2022-02-12T22:55:31.961Z] "authenticated"
[2022-02-12T22:55:31.962Z] "Router", "request", "success", {
[2022-02-12T22:55:31.962Z]     "httpMethod": "POST",
[2022-02-12T22:55:31.962Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:55:31.962Z]     "path": "/auth/verify-passcode",
[2022-02-12T22:55:31.962Z]     "error": null,
[2022-02-12T22:55:31.962Z]     "result": {
[2022-02-12T22:55:31.962Z]         "isBase64Encoded": false,
[2022-02-12T22:55:31.963Z]         "statusCode": 200,
[2022-02-12T22:55:31.963Z]         "headers": {
[2022-02-12T22:55:31.963Z]             "Content-Type": "application/json"
[2022-02-12T22:55:31.963Z]         },
[2022-02-12T22:55:31.963Z]         "multiValueHeaders": {},
[2022-02-12T22:55:31.963Z]         "body": "\"OK\""
[2022-02-12T22:55:31.963Z]     }
[2022-02-12T22:55:31.963Z] }
[2022-02-12T22:55:31.964Z] "now calling callback"
[2022-02-12T22:55:31.964Z] handler called callback, sending result...
[2022-02-12T22:55:31.964Z] "Router", "request", "success", {
[2022-02-12T22:55:31.964Z]     "httpMethod": "POST",
[2022-02-12T22:55:31.964Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:55:31.964Z]     "path": "/auth/verify-passcode"
[2022-02-12T22:55:31.965Z] }
[2022-02-12T22:55:31.965Z] "promise done, calling callback"
[2022-02-12T22:55:31.965Z] handler promise resolved, sending result...
[2022-02-12T22:55:31.971Z] "authenticated"
[2022-02-12T22:55:31.972Z] "get books"
[2022-02-12T22:55:31.972Z] "add \"all\" option"
[2022-02-12T22:55:31.972Z] "execute"
[2022-02-12T22:55:31.981Z] "done", [
[2022-02-12T22:55:31.981Z]     {
[2022-02-12T22:55:31.982Z]         "title": "Tilda Apfelkern",
[2022-02-12T22:55:31.982Z]         "description": "some text",
[2022-02-12T22:55:31.982Z]         "slug": "tilda-apfelkern"
[2022-02-12T22:55:31.982Z]     }
[2022-02-12T22:55:31.982Z] ]
[2022-02-12T22:55:31.983Z] "Router", "request", "success", {
[2022-02-12T22:55:31.983Z]     "httpMethod": "GET",
[2022-02-12T22:55:31.983Z]     "resource": "/books",
[2022-02-12T22:55:31.983Z]     "path": "/books",
[2022-02-12T22:55:31.983Z]     "error": null,
[2022-02-12T22:55:31.983Z]     "result": {
[2022-02-12T22:55:31.983Z]         "isBase64Encoded": false,
[2022-02-12T22:55:31.983Z]         "statusCode": 200,
[2022-02-12T22:55:31.983Z]         "headers": {
[2022-02-12T22:55:31.983Z]             "Content-Type": "application/json"
[2022-02-12T22:55:31.984Z]         },
[2022-02-12T22:55:31.984Z]         "multiValueHeaders": {},
[2022-02-12T22:55:31.984Z]         "body": "[{\"title\":\"Tilda Apfelkern\",\"description\":\"some text\",\"slug\":\"tilda-apfelkern\"}]"
[2022-02-12T22:55:31.984Z]     }
[2022-02-12T22:55:31.984Z] }
[2022-02-12T22:55:31.984Z] "now calling callback"
[2022-02-12T22:55:31.984Z] handler called callback, sending result...
[2022-02-12T22:55:31.985Z] "Router", "request", "success", {
[2022-02-12T22:55:31.985Z]     "httpMethod": "GET",
[2022-02-12T22:55:31.985Z]     "resource": "/books",
[2022-02-12T22:55:31.985Z]     "path": "/books"
[2022-02-12T22:55:31.985Z] }
[2022-02-12T22:55:31.985Z] "promise done, calling callback"
[2022-02-12T22:55:31.985Z] handler promise resolved, sending result...
[2022-02-12T22:55:32.022Z] Received message: {"type":"execute","eventId":"i2j8co3ZI4rOuKwTo06P4","payload":{"event":{"isBase64Encoded":false,"path":"/books/tilda-apfelkern/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"85-OY1+Xy63WOSPom4perGH05XjXDg\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"tilda-apfelkern","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:55:32.022Z] Executing event i2j8co3ZI4rOuKwTo06P4
[2022-02-12T22:55:32.022Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:55:32.127Z] Invoking handler function: "handler"
[2022-02-12T22:55:32.127Z] "Router", "request", "info", {
[2022-02-12T22:55:32.127Z]     "httpMethod": "GET",
[2022-02-12T22:55:32.127Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T22:55:32.127Z]     "path": "/books/tilda-apfelkern/stories"
[2022-02-12T22:55:32.128Z] }
[2022-02-12T22:55:32.128Z] "authenticating..."
[2022-02-12T22:55:32.135Z] "handler is promise, awaiting response"
[2022-02-12T22:55:32.135Z] Waiting for handler to finish...
[2022-02-12T22:55:32.178Z] "authenticated"
[2022-02-12T22:55:32.190Z] "Router", "request", "success", {
[2022-02-12T22:55:32.190Z]     "httpMethod": "GET",
[2022-02-12T22:55:32.190Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T22:55:32.190Z]     "path": "/books/tilda-apfelkern/stories",
[2022-02-12T22:55:32.190Z]     "error": null,
[2022-02-12T22:55:32.190Z]     "result": {
[2022-02-12T22:55:32.190Z]         "isBase64Encoded": false,
[2022-02-12T22:55:32.191Z]         "statusCode": 200,
[2022-02-12T22:55:32.191Z]         "headers": {
[2022-02-12T22:55:32.191Z]             "Content-Type": "application/json"
[2022-02-12T22:55:32.191Z]         },
[2022-02-12T22:55:32.192Z]         "multiValueHeaders": {},
[2022-02-12T22:55:32.192Z]         "body": "[{\"description\":\"noch so eine folge\",\"episode\":1,\"audioUrl\":\"https://google.com/mp4\",\"audioLength\":125,\"bookSlug\":\"tilda-apfelkern\"}]"
[2022-02-12T22:55:32.192Z]     }
[2022-02-12T22:55:32.192Z] }
[2022-02-12T22:55:32.192Z] "now calling callback"
[2022-02-12T22:55:32.192Z] handler called callback, sending result...
[2022-02-12T22:55:32.192Z] "Router", "request", "success", {
[2022-02-12T22:55:32.192Z]     "httpMethod": "GET",
[2022-02-12T22:55:32.192Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T22:55:32.193Z]     "path": "/books/tilda-apfelkern/stories"
[2022-02-12T22:55:32.193Z] }
[2022-02-12T22:55:32.193Z] "promise done, calling callback"
[2022-02-12T22:55:32.193Z] handler promise resolved, sending result...
[2022-02-12T22:55:46.348Z] Received message: {"type":"execute","eventId":"KMyZKOOlOBl69fZYmoDLj","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"50-BQ312bY0Q17S+DqUPRcvPELgLYo\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:55:46.348Z] Executing event KMyZKOOlOBl69fZYmoDLj
[2022-02-12T22:55:46.348Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:55:46.448Z] Invoking handler function: "handler"
[2022-02-12T22:55:46.449Z] "Router", "request", "info", {
[2022-02-12T22:55:46.449Z]     "httpMethod": "GET",
[2022-02-12T22:55:46.449Z]     "resource": "/books",
[2022-02-12T22:55:46.449Z]     "path": "/books"
[2022-02-12T22:55:46.449Z] }
[2022-02-12T22:55:46.449Z] "authenticating..."
[2022-02-12T22:55:46.449Z] "handler is promise, awaiting response"
[2022-02-12T22:55:46.450Z] Waiting for handler to finish...
[2022-02-12T22:55:46.464Z] {
[2022-02-12T22:55:46.464Z]     "errorResponse": {
[2022-02-12T22:55:46.464Z]         "isBase64Encoded": false,
[2022-02-12T22:55:46.464Z]         "statusCode": 401,
[2022-02-12T22:55:46.464Z]         "headers": {
[2022-02-12T22:55:46.464Z]             "Content-Type": "application/json"
[2022-02-12T22:55:46.465Z]         },
[2022-02-12T22:55:46.465Z]         "multiValueHeaders": {},
[2022-02-12T22:55:46.465Z]         "body": "{\"error\":\"PassCode is missing\"}"
[2022-02-12T22:55:46.465Z]     },
[2022-02-12T22:55:46.465Z]     "originalError": {
[2022-02-12T22:55:46.465Z]         "httpStatusCode": 401,
[2022-02-12T22:55:46.465Z]         "name": "Error",
[2022-02-12T22:55:46.465Z]         "message": "PassCode is missing",
[2022-02-12T22:55:46.466Z]         "stack": "Error: PassCode is missing\n    at /Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/webpack:/bobs-bedtime-stories/apps/backend/api/src/utils/authenticate.ts:9:11\n    at Generator.next (<anonymous>)\n    at /Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:117:75\n    at new Promise (<anonymous>)\n    at __awaiter (/Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:113:16)\n    at authenticate (/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main.js:92:34)\n    at /Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/webpack:/bobs-bedtime-stories/apps/backend/api/src/utils/wrap-api-handler.ts:8:23\n    at Generator.next (<anonymous>)\n    at /Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:117:75\n    at new Promise (<anonymous>)"
[2022-02-12T22:55:46.466Z]     }
[2022-02-12T22:55:46.466Z] }
[2022-02-12T22:55:46.466Z] "Router", "request", "success", {
[2022-02-12T22:55:46.466Z]     "httpMethod": "GET",
[2022-02-12T22:55:46.466Z]     "resource": "/books",
[2022-02-12T22:55:46.466Z]     "path": "/books",
[2022-02-12T22:55:46.466Z]     "error": null,
[2022-02-12T22:55:46.466Z]     "result": {
[2022-02-12T22:55:46.467Z]         "isBase64Encoded": false,
[2022-02-12T22:55:46.467Z]         "statusCode": 401,
[2022-02-12T22:55:46.467Z]         "headers": {
[2022-02-12T22:55:46.467Z]             "Content-Type": "application/json"
[2022-02-12T22:55:46.467Z]         },
[2022-02-12T22:55:46.467Z]         "multiValueHeaders": {},
[2022-02-12T22:55:46.467Z]         "body": "{\"error\":\"PassCode is missing\"}"
[2022-02-12T22:55:46.467Z]     }
[2022-02-12T22:55:46.467Z] }
[2022-02-12T22:55:46.467Z] "now calling callback"
[2022-02-12T22:55:46.468Z] handler called callback, sending result...
[2022-02-12T22:55:46.468Z] "Router", "request", "success", {
[2022-02-12T22:55:46.468Z]     "httpMethod": "GET",
[2022-02-12T22:55:46.468Z]     "resource": "/books",
[2022-02-12T22:55:46.468Z]     "path": "/books"
[2022-02-12T22:55:46.468Z] }
[2022-02-12T22:55:46.469Z] "promise done, calling callback"
[2022-02-12T22:55:46.469Z] handler promise resolved, sending result...
[2022-02-12T22:55:46.469Z] Received message: {"type":"execute","eventId":"h7hyudyew-maR0BysQyb4","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:55:46.469Z] Executing event h7hyudyew-maR0BysQyb4
[2022-02-12T22:55:46.469Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:55:46.469Z] Invoking handler function: "handler"
[2022-02-12T22:55:46.469Z] "Router", "request", "info", {
[2022-02-12T22:55:46.469Z]     "httpMethod": "POST",
[2022-02-12T22:55:46.469Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:55:46.469Z]     "path": "/auth/verify-passcode"
[2022-02-12T22:55:46.470Z] }
[2022-02-12T22:55:46.470Z] "authenticating..."
[2022-02-12T22:55:46.470Z] "handler is promise, awaiting response"
[2022-02-12T22:55:46.470Z] Waiting for handler to finish...
[2022-02-12T22:55:46.470Z] {
[2022-02-12T22:55:46.470Z]     "errorResponse": {
[2022-02-12T22:55:46.470Z]         "isBase64Encoded": false,
[2022-02-12T22:55:46.470Z]         "statusCode": 401,
[2022-02-12T22:55:46.470Z]         "headers": {
[2022-02-12T22:55:46.470Z]             "Content-Type": "application/json"
[2022-02-12T22:55:46.470Z]         },
[2022-02-12T22:55:46.470Z]         "multiValueHeaders": {},
[2022-02-12T22:55:46.470Z]         "body": "{\"error\":\"PassCode is missing\"}"
[2022-02-12T22:55:46.471Z]     },
[2022-02-12T22:55:46.471Z]     "originalError": {
[2022-02-12T22:55:46.471Z]         "httpStatusCode": 401,
[2022-02-12T22:55:46.471Z]         "name": "Error",
[2022-02-12T22:55:46.471Z]         "message": "PassCode is missing",
[2022-02-12T22:55:46.471Z]         "stack": "Error: PassCode is missing\n    at /Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/webpack:/bobs-bedtime-stories/apps/backend/api/src/utils/authenticate.ts:9:11\n    at Generator.next (<anonymous>)\n    at /Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:117:75\n    at new Promise (<anonymous>)\n    at __awaiter (/Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:113:16)\n    at authenticate (/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main.js:92:34)\n    at /Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/webpack:/bobs-bedtime-stories/apps/backend/api/src/utils/wrap-api-handler.ts:8:23\n    at Generator.next (<anonymous>)\n    at /Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:117:75\n    at new Promise (<anonymous>)"
[2022-02-12T22:55:46.471Z]     }
[2022-02-12T22:55:46.471Z] }
[2022-02-12T22:55:46.471Z] "Router", "request", "success", {
[2022-02-12T22:55:46.471Z]     "httpMethod": "POST",
[2022-02-12T22:55:46.471Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:55:46.472Z]     "path": "/auth/verify-passcode",
[2022-02-12T22:55:46.472Z]     "error": null,
[2022-02-12T22:55:46.472Z]     "result": {
[2022-02-12T22:55:46.472Z]         "isBase64Encoded": false,
[2022-02-12T22:55:46.472Z]         "statusCode": 401,
[2022-02-12T22:55:46.472Z]         "headers": {
[2022-02-12T22:55:46.472Z]             "Content-Type": "application/json"
[2022-02-12T22:55:46.472Z]         },
[2022-02-12T22:55:46.472Z]         "multiValueHeaders": {},
[2022-02-12T22:55:46.472Z]         "body": "{\"error\":\"PassCode is missing\"}"
[2022-02-12T22:55:46.472Z]     }
[2022-02-12T22:55:46.472Z] }
[2022-02-12T22:55:46.472Z] "now calling callback"
[2022-02-12T22:55:46.473Z] handler called callback, sending result...
[2022-02-12T22:55:46.473Z] "Router", "request", "success", {
[2022-02-12T22:55:46.473Z]     "httpMethod": "POST",
[2022-02-12T22:55:46.473Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:55:46.473Z]     "path": "/auth/verify-passcode"
[2022-02-12T22:55:46.474Z] }
[2022-02-12T22:55:46.474Z] "promise done, calling callback"
[2022-02-12T22:55:46.474Z] handler promise resolved, sending result...
[2022-02-12T22:55:50.583Z] Received message: {"type":"execute","eventId":"mt_yV39lwUaK2sDhe0x8C","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"50-BQ312bY0Q17S+DqUPRcvPELgLYo\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:55:50.584Z] Executing event mt_yV39lwUaK2sDhe0x8C
[2022-02-12T22:55:50.584Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:55:50.680Z] Invoking handler function: "handler"
[2022-02-12T22:55:50.680Z] "Router", "request", "info", {
[2022-02-12T22:55:50.680Z]     "httpMethod": "GET",
[2022-02-12T22:55:50.680Z]     "resource": "/books",
[2022-02-12T22:55:50.680Z]     "path": "/books"
[2022-02-12T22:55:50.680Z] }
[2022-02-12T22:55:50.680Z] "authenticating..."
[2022-02-12T22:55:50.681Z] "handler is promise, awaiting response"
[2022-02-12T22:55:50.681Z] Waiting for handler to finish...
[2022-02-12T22:55:50.694Z] {
[2022-02-12T22:55:50.695Z]     "errorResponse": {
[2022-02-12T22:55:50.695Z]         "isBase64Encoded": false,
[2022-02-12T22:55:50.695Z]         "statusCode": 401,
[2022-02-12T22:55:50.695Z]         "headers": {
[2022-02-12T22:55:50.695Z]             "Content-Type": "application/json"
[2022-02-12T22:55:50.695Z]         },
[2022-02-12T22:55:50.695Z]         "multiValueHeaders": {},
[2022-02-12T22:55:50.696Z]         "body": "{\"error\":\"PassCode is missing\"}"
[2022-02-12T22:55:50.696Z]     },
[2022-02-12T22:55:50.696Z]     "originalError": {
[2022-02-12T22:55:50.696Z]         "httpStatusCode": 401,
[2022-02-12T22:55:50.696Z]         "name": "Error",
[2022-02-12T22:55:50.696Z]         "message": "PassCode is missing",
[2022-02-12T22:55:50.696Z]         "stack": "Error: PassCode is missing\n    at /Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/webpack:/bobs-bedtime-stories/apps/backend/api/src/utils/authenticate.ts:9:11\n    at Generator.next (<anonymous>)\n    at /Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:117:75\n    at new Promise (<anonymous>)\n    at __awaiter (/Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:113:16)\n    at authenticate (/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main.js:92:34)\n    at /Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/webpack:/bobs-bedtime-stories/apps/backend/api/src/utils/wrap-api-handler.ts:8:23\n    at Generator.next (<anonymous>)\n    at /Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:117:75\n    at new Promise (<anonymous>)"
[2022-02-12T22:55:50.696Z]     }
[2022-02-12T22:55:50.696Z] }
[2022-02-12T22:55:50.696Z] "Router", "request", "success", {
[2022-02-12T22:55:50.696Z]     "httpMethod": "GET",
[2022-02-12T22:55:50.697Z]     "resource": "/books",
[2022-02-12T22:55:50.697Z]     "path": "/books",
[2022-02-12T22:55:50.697Z]     "error": null,
[2022-02-12T22:55:50.697Z]     "result": {
[2022-02-12T22:55:50.697Z]         "isBase64Encoded": false,
[2022-02-12T22:55:50.697Z]         "statusCode": 401,
[2022-02-12T22:55:50.697Z]         "headers": {
[2022-02-12T22:55:50.697Z]             "Content-Type": "application/json"
[2022-02-12T22:55:50.697Z]         },
[2022-02-12T22:55:50.698Z]         "multiValueHeaders": {},
[2022-02-12T22:55:50.698Z]         "body": "{\"error\":\"PassCode is missing\"}"
[2022-02-12T22:55:50.698Z]     }
[2022-02-12T22:55:50.698Z] }
[2022-02-12T22:55:50.698Z] "now calling callback"
[2022-02-12T22:55:50.698Z] handler called callback, sending result...
[2022-02-12T22:55:50.698Z] "Router", "request", "success", {
[2022-02-12T22:55:50.698Z]     "httpMethod": "GET",
[2022-02-12T22:55:50.698Z]     "resource": "/books",
[2022-02-12T22:55:50.698Z]     "path": "/books"
[2022-02-12T22:55:50.699Z] }
[2022-02-12T22:55:50.699Z] "promise done, calling callback"
[2022-02-12T22:55:50.699Z] handler promise resolved, sending result...
[2022-02-12T22:55:50.699Z] Received message: {"type":"execute","eventId":"eikN7FNIyGTvyVSNMrDRT","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:55:50.699Z] Executing event eikN7FNIyGTvyVSNMrDRT
[2022-02-12T22:55:50.699Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:55:50.699Z] Invoking handler function: "handler"
[2022-02-12T22:55:50.699Z] "Router", "request", "info", {
[2022-02-12T22:55:50.699Z]     "httpMethod": "POST",
[2022-02-12T22:55:50.699Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:55:50.700Z]     "path": "/auth/verify-passcode"
[2022-02-12T22:55:50.700Z] }
[2022-02-12T22:55:50.700Z] "authenticating..."
[2022-02-12T22:55:50.700Z] "handler is promise, awaiting response"
[2022-02-12T22:55:50.700Z] Waiting for handler to finish...
[2022-02-12T22:55:50.700Z] {
[2022-02-12T22:55:50.700Z]     "errorResponse": {
[2022-02-12T22:55:50.700Z]         "isBase64Encoded": false,
[2022-02-12T22:55:50.700Z]         "statusCode": 401,
[2022-02-12T22:55:50.700Z]         "headers": {
[2022-02-12T22:55:50.700Z]             "Content-Type": "application/json"
[2022-02-12T22:55:50.700Z]         },
[2022-02-12T22:55:50.700Z]         "multiValueHeaders": {},
[2022-02-12T22:55:50.700Z]         "body": "{\"error\":\"PassCode is missing\"}"
[2022-02-12T22:55:50.700Z]     },
[2022-02-12T22:55:50.701Z]     "originalError": {
[2022-02-12T22:55:50.701Z]         "httpStatusCode": 401,
[2022-02-12T22:55:50.701Z]         "name": "Error",
[2022-02-12T22:55:50.701Z]         "message": "PassCode is missing",
[2022-02-12T22:55:50.701Z]         "stack": "Error: PassCode is missing\n    at /Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/webpack:/bobs-bedtime-stories/apps/backend/api/src/utils/authenticate.ts:9:11\n    at Generator.next (<anonymous>)\n    at /Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:117:75\n    at new Promise (<anonymous>)\n    at __awaiter (/Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:113:16)\n    at authenticate (/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main.js:92:34)\n    at /Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/webpack:/bobs-bedtime-stories/apps/backend/api/src/utils/wrap-api-handler.ts:8:23\n    at Generator.next (<anonymous>)\n    at /Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:117:75\n    at new Promise (<anonymous>)"
[2022-02-12T22:55:50.701Z]     }
[2022-02-12T22:55:50.701Z] }
[2022-02-12T22:55:50.701Z] "Router", "request", "success", {
[2022-02-12T22:55:50.701Z]     "httpMethod": "POST",
[2022-02-12T22:55:50.701Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:55:50.701Z]     "path": "/auth/verify-passcode",
[2022-02-12T22:55:50.701Z]     "error": null,
[2022-02-12T22:55:50.701Z]     "result": {
[2022-02-12T22:55:50.701Z]         "isBase64Encoded": false,
[2022-02-12T22:55:50.702Z]         "statusCode": 401,
[2022-02-12T22:55:50.702Z]         "headers": {
[2022-02-12T22:55:50.702Z]             "Content-Type": "application/json"
[2022-02-12T22:55:50.702Z]         },
[2022-02-12T22:55:50.702Z]         "multiValueHeaders": {},
[2022-02-12T22:55:50.702Z]         "body": "{\"error\":\"PassCode is missing\"}"
[2022-02-12T22:55:50.702Z]     }
[2022-02-12T22:55:50.703Z] }
[2022-02-12T22:55:50.703Z] "now calling callback"
[2022-02-12T22:55:50.703Z] handler called callback, sending result...
[2022-02-12T22:55:50.703Z] "Router", "request", "success", {
[2022-02-12T22:55:50.703Z]     "httpMethod": "POST",
[2022-02-12T22:55:50.703Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:55:50.703Z]     "path": "/auth/verify-passcode"
[2022-02-12T22:55:50.703Z] }
[2022-02-12T22:55:50.703Z] "promise done, calling callback"
[2022-02-12T22:55:50.703Z] handler promise resolved, sending result...
[2022-02-12T22:56:14.400Z] Received message: {"type":"execute","eventId":"OrsBR1pbkdjqJFRxMqVbw","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"50-BQ312bY0Q17S+DqUPRcvPELgLYo\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:56:14.400Z] Executing event OrsBR1pbkdjqJFRxMqVbw
[2022-02-12T22:56:14.400Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:56:14.477Z] Invoking handler function: "handler"
[2022-02-12T22:56:14.477Z] "Router", "request", "info", {
[2022-02-12T22:56:14.478Z]     "httpMethod": "GET",
[2022-02-12T22:56:14.478Z]     "resource": "/books",
[2022-02-12T22:56:14.478Z]     "path": "/books"
[2022-02-12T22:56:14.478Z] }
[2022-02-12T22:56:14.478Z] "authenticating..."
[2022-02-12T22:56:14.478Z] "handler is promise, awaiting response"
[2022-02-12T22:56:14.479Z] Waiting for handler to finish...
[2022-02-12T22:56:14.491Z] {
[2022-02-12T22:56:14.491Z]     "errorResponse": {
[2022-02-12T22:56:14.491Z]         "isBase64Encoded": false,
[2022-02-12T22:56:14.491Z]         "statusCode": 401,
[2022-02-12T22:56:14.491Z]         "headers": {
[2022-02-12T22:56:14.491Z]             "Content-Type": "application/json"
[2022-02-12T22:56:14.491Z]         },
[2022-02-12T22:56:14.491Z]         "multiValueHeaders": {},
[2022-02-12T22:56:14.491Z]         "body": "{\"error\":\"PassCode is missing\"}"
[2022-02-12T22:56:14.492Z]     },
[2022-02-12T22:56:14.492Z]     "originalError": {
[2022-02-12T22:56:14.492Z]         "httpStatusCode": 401,
[2022-02-12T22:56:14.492Z]         "name": "Error",
[2022-02-12T22:56:14.492Z]         "message": "PassCode is missing",
[2022-02-12T22:56:14.492Z]         "stack": "Error: PassCode is missing\n    at /Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/webpack:/bobs-bedtime-stories/apps/backend/api/src/utils/authenticate.ts:9:11\n    at Generator.next (<anonymous>)\n    at /Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:117:75\n    at new Promise (<anonymous>)\n    at __awaiter (/Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:113:16)\n    at authenticate (/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main.js:92:34)\n    at /Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/webpack:/bobs-bedtime-stories/apps/backend/api/src/utils/wrap-api-handler.ts:8:23\n    at Generator.next (<anonymous>)\n    at /Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:117:75\n    at new Promise (<anonymous>)"
[2022-02-12T22:56:14.492Z]     }
[2022-02-12T22:56:14.492Z] }
[2022-02-12T22:56:14.493Z] "Router", "request", "success", {
[2022-02-12T22:56:14.493Z]     "httpMethod": "GET",
[2022-02-12T22:56:14.493Z]     "resource": "/books",
[2022-02-12T22:56:14.493Z]     "path": "/books",
[2022-02-12T22:56:14.493Z]     "error": null,
[2022-02-12T22:56:14.493Z]     "result": {
[2022-02-12T22:56:14.493Z]         "isBase64Encoded": false,
[2022-02-12T22:56:14.493Z]         "statusCode": 401,
[2022-02-12T22:56:14.493Z]         "headers": {
[2022-02-12T22:56:14.493Z]             "Content-Type": "application/json"
[2022-02-12T22:56:14.493Z]         },
[2022-02-12T22:56:14.494Z]         "multiValueHeaders": {},
[2022-02-12T22:56:14.494Z]         "body": "{\"error\":\"PassCode is missing\"}"
[2022-02-12T22:56:14.494Z]     }
[2022-02-12T22:56:14.494Z] }
[2022-02-12T22:56:14.494Z] "now calling callback"
[2022-02-12T22:56:14.494Z] handler called callback, sending result...
[2022-02-12T22:56:14.494Z] "Router", "request", "success", {
[2022-02-12T22:56:14.494Z]     "httpMethod": "GET",
[2022-02-12T22:56:14.494Z]     "resource": "/books",
[2022-02-12T22:56:14.495Z]     "path": "/books"
[2022-02-12T22:56:14.495Z] }
[2022-02-12T22:56:14.495Z] "promise done, calling callback"
[2022-02-12T22:56:14.495Z] handler promise resolved, sending result...
[2022-02-12T22:57:47.529Z] Received message: {"type":"execute","eventId":"In48edG3cRmLun3rS6R-g","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:57:47.529Z] Executing event In48edG3cRmLun3rS6R-g
[2022-02-12T22:57:47.530Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:57:47.611Z] Invoking handler function: "handler"
[2022-02-12T22:57:47.611Z] "Router", "request", "info", {
[2022-02-12T22:57:47.612Z]     "httpMethod": "POST",
[2022-02-12T22:57:47.612Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:57:47.612Z]     "path": "/auth/verify-passcode"
[2022-02-12T22:57:47.612Z] }
[2022-02-12T22:57:47.613Z] "authenticating..."
[2022-02-12T22:57:47.613Z] "handler is promise, awaiting response"
[2022-02-12T22:57:47.613Z] Waiting for handler to finish...
[2022-02-12T22:57:47.626Z] {
[2022-02-12T22:57:47.626Z]     "errorResponse": {
[2022-02-12T22:57:47.626Z]         "isBase64Encoded": false,
[2022-02-12T22:57:47.627Z]         "statusCode": 401,
[2022-02-12T22:57:47.627Z]         "headers": {
[2022-02-12T22:57:47.627Z]             "Content-Type": "application/json"
[2022-02-12T22:57:47.627Z]         },
[2022-02-12T22:57:47.627Z]         "multiValueHeaders": {},
[2022-02-12T22:57:47.627Z]         "body": "{\"error\":\"PassCode is missing\"}"
[2022-02-12T22:57:47.627Z]     },
[2022-02-12T22:57:47.628Z]     "originalError": {
[2022-02-12T22:57:47.628Z]         "httpStatusCode": 401,
[2022-02-12T22:57:47.628Z]         "name": "Error",
[2022-02-12T22:57:47.628Z]         "message": "PassCode is missing",
[2022-02-12T22:57:47.628Z]         "stack": "Error: PassCode is missing\n    at /Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/webpack:/bobs-bedtime-stories/apps/backend/api/src/utils/authenticate.ts:9:11\n    at Generator.next (<anonymous>)\n    at /Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:117:75\n    at new Promise (<anonymous>)\n    at __awaiter (/Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:113:16)\n    at authenticate (/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main.js:92:34)\n    at /Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/webpack:/bobs-bedtime-stories/apps/backend/api/src/utils/wrap-api-handler.ts:8:23\n    at Generator.next (<anonymous>)\n    at /Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:117:75\n    at new Promise (<anonymous>)"
[2022-02-12T22:57:47.628Z]     }
[2022-02-12T22:57:47.628Z] }
[2022-02-12T22:57:47.628Z] "Router", "request", "success", {
[2022-02-12T22:57:47.628Z]     "httpMethod": "POST",
[2022-02-12T22:57:47.628Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:57:47.629Z]     "path": "/auth/verify-passcode",
[2022-02-12T22:57:47.629Z]     "error": null,
[2022-02-12T22:57:47.629Z]     "result": {
[2022-02-12T22:57:47.629Z]         "isBase64Encoded": false,
[2022-02-12T22:57:47.629Z]         "statusCode": 401,
[2022-02-12T22:57:47.629Z]         "headers": {
[2022-02-12T22:57:47.629Z]             "Content-Type": "application/json"
[2022-02-12T22:57:47.629Z]         },
[2022-02-12T22:57:47.629Z]         "multiValueHeaders": {},
[2022-02-12T22:57:47.629Z]         "body": "{\"error\":\"PassCode is missing\"}"
[2022-02-12T22:57:47.630Z]     }
[2022-02-12T22:57:47.630Z] }
[2022-02-12T22:57:47.630Z] "now calling callback"
[2022-02-12T22:57:47.630Z] handler called callback, sending result...
[2022-02-12T22:57:47.630Z] "Router", "request", "success", {
[2022-02-12T22:57:47.630Z]     "httpMethod": "POST",
[2022-02-12T22:57:47.631Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:57:47.631Z]     "path": "/auth/verify-passcode"
[2022-02-12T22:57:47.631Z] }
[2022-02-12T22:57:47.631Z] "promise done, calling callback"
[2022-02-12T22:57:47.631Z] handler promise resolved, sending result...
[2022-02-12T22:57:49.552Z] Received message: {"type":"execute","eventId":"7m8LIkpK0ZEcncfWHTibl","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:57:49.552Z] Executing event 7m8LIkpK0ZEcncfWHTibl
[2022-02-12T22:57:49.553Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:57:49.637Z] Invoking handler function: "handler"
[2022-02-12T22:57:49.638Z] "Router", "request", "info", {
[2022-02-12T22:57:49.638Z]     "httpMethod": "POST",
[2022-02-12T22:57:49.638Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:57:49.638Z]     "path": "/auth/verify-passcode"
[2022-02-12T22:57:49.639Z] }
[2022-02-12T22:57:49.639Z] "authenticating..."
[2022-02-12T22:57:49.639Z] "handler is promise, awaiting response"
[2022-02-12T22:57:49.639Z] Waiting for handler to finish...
[2022-02-12T22:57:49.653Z] {
[2022-02-12T22:57:49.653Z]     "errorResponse": {
[2022-02-12T22:57:49.653Z]         "isBase64Encoded": false,
[2022-02-12T22:57:49.653Z]         "statusCode": 401,
[2022-02-12T22:57:49.653Z]         "headers": {
[2022-02-12T22:57:49.654Z]             "Content-Type": "application/json"
[2022-02-12T22:57:49.654Z]         },
[2022-02-12T22:57:49.654Z]         "multiValueHeaders": {},
[2022-02-12T22:57:49.654Z]         "body": "{\"error\":\"PassCode is missing\"}"
[2022-02-12T22:57:49.654Z]     },
[2022-02-12T22:57:49.654Z]     "originalError": {
[2022-02-12T22:57:49.654Z]         "httpStatusCode": 401,
[2022-02-12T22:57:49.654Z]         "name": "Error",
[2022-02-12T22:57:49.654Z]         "message": "PassCode is missing",
[2022-02-12T22:57:49.654Z]         "stack": "Error: PassCode is missing\n    at /Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/webpack:/bobs-bedtime-stories/apps/backend/api/src/utils/authenticate.ts:9:11\n    at Generator.next (<anonymous>)\n    at /Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:117:75\n    at new Promise (<anonymous>)\n    at __awaiter (/Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:113:16)\n    at authenticate (/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main.js:92:34)\n    at /Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/webpack:/bobs-bedtime-stories/apps/backend/api/src/utils/wrap-api-handler.ts:8:23\n    at Generator.next (<anonymous>)\n    at /Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:117:75\n    at new Promise (<anonymous>)"
[2022-02-12T22:57:49.654Z]     }
[2022-02-12T22:57:49.655Z] }
[2022-02-12T22:57:49.655Z] "Router", "request", "success", {
[2022-02-12T22:57:49.655Z]     "httpMethod": "POST",
[2022-02-12T22:57:49.655Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:57:49.655Z]     "path": "/auth/verify-passcode",
[2022-02-12T22:57:49.655Z]     "error": null,
[2022-02-12T22:57:49.655Z]     "result": {
[2022-02-12T22:57:49.656Z]         "isBase64Encoded": false,
[2022-02-12T22:57:49.656Z]         "statusCode": 401,
[2022-02-12T22:57:49.656Z]         "headers": {
[2022-02-12T22:57:49.656Z]             "Content-Type": "application/json"
[2022-02-12T22:57:49.656Z]         },
[2022-02-12T22:57:49.656Z]         "multiValueHeaders": {},
[2022-02-12T22:57:49.656Z]         "body": "{\"error\":\"PassCode is missing\"}"
[2022-02-12T22:57:49.656Z]     }
[2022-02-12T22:57:49.657Z] }
[2022-02-12T22:57:49.657Z] "now calling callback"
[2022-02-12T22:57:49.657Z] handler called callback, sending result...
[2022-02-12T22:57:49.657Z] "Router", "request", "success", {
[2022-02-12T22:57:49.657Z]     "httpMethod": "POST",
[2022-02-12T22:57:49.657Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:57:49.657Z]     "path": "/auth/verify-passcode"
[2022-02-12T22:57:49.657Z] }
[2022-02-12T22:57:49.657Z] "promise done, calling callback"
[2022-02-12T22:57:49.658Z] handler promise resolved, sending result...
[2022-02-12T22:57:57.624Z] Received message: {"type":"execute","eventId":"1jOiWjBZjCposUHsoVqxe","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:57:57.625Z] Executing event 1jOiWjBZjCposUHsoVqxe
[2022-02-12T22:57:57.625Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:57:57.706Z] Invoking handler function: "handler"
[2022-02-12T22:57:57.706Z] "Router", "request", "info", {
[2022-02-12T22:57:57.707Z]     "httpMethod": "POST",
[2022-02-12T22:57:57.707Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:57:57.707Z]     "path": "/auth/verify-passcode"
[2022-02-12T22:57:57.707Z] }
[2022-02-12T22:57:57.707Z] "authenticating..."
[2022-02-12T22:57:57.707Z] "handler is promise, awaiting response"
[2022-02-12T22:57:57.708Z] Waiting for handler to finish...
[2022-02-12T22:57:57.721Z] {
[2022-02-12T22:57:57.721Z]     "errorResponse": {
[2022-02-12T22:57:57.721Z]         "isBase64Encoded": false,
[2022-02-12T22:57:57.721Z]         "statusCode": 401,
[2022-02-12T22:57:57.721Z]         "headers": {
[2022-02-12T22:57:57.721Z]             "Content-Type": "application/json"
[2022-02-12T22:57:57.722Z]         },
[2022-02-12T22:57:57.722Z]         "multiValueHeaders": {},
[2022-02-12T22:57:57.722Z]         "body": "{\"error\":\"PassCode is missing\"}"
[2022-02-12T22:57:57.722Z]     },
[2022-02-12T22:57:57.722Z]     "originalError": {
[2022-02-12T22:57:57.722Z]         "httpStatusCode": 401,
[2022-02-12T22:57:57.722Z]         "name": "Error",
[2022-02-12T22:57:57.723Z]         "message": "PassCode is missing",
[2022-02-12T22:57:57.723Z]         "stack": "Error: PassCode is missing\n    at /Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/webpack:/bobs-bedtime-stories/apps/backend/api/src/utils/authenticate.ts:9:11\n    at Generator.next (<anonymous>)\n    at /Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:117:75\n    at new Promise (<anonymous>)\n    at __awaiter (/Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:113:16)\n    at authenticate (/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main.js:92:34)\n    at /Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/webpack:/bobs-bedtime-stories/apps/backend/api/src/utils/wrap-api-handler.ts:8:23\n    at Generator.next (<anonymous>)\n    at /Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:117:75\n    at new Promise (<anonymous>)"
[2022-02-12T22:57:57.723Z]     }
[2022-02-12T22:57:57.723Z] }
[2022-02-12T22:57:57.723Z] "Router", "request", "success", {
[2022-02-12T22:57:57.723Z]     "httpMethod": "POST",
[2022-02-12T22:57:57.723Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:57:57.723Z]     "path": "/auth/verify-passcode",
[2022-02-12T22:57:57.723Z]     "error": null,
[2022-02-12T22:57:57.723Z]     "result": {
[2022-02-12T22:57:57.723Z]         "isBase64Encoded": false,
[2022-02-12T22:57:57.723Z]         "statusCode": 401,
[2022-02-12T22:57:57.724Z]         "headers": {
[2022-02-12T22:57:57.724Z]             "Content-Type": "application/json"
[2022-02-12T22:57:57.724Z]         },
[2022-02-12T22:57:57.724Z]         "multiValueHeaders": {},
[2022-02-12T22:57:57.724Z]         "body": "{\"error\":\"PassCode is missing\"}"
[2022-02-12T22:57:57.724Z]     }
[2022-02-12T22:57:57.724Z] }
[2022-02-12T22:57:57.724Z] "now calling callback"
[2022-02-12T22:57:57.724Z] handler called callback, sending result...
[2022-02-12T22:57:57.725Z] "Router", "request", "success", {
[2022-02-12T22:57:57.725Z]     "httpMethod": "POST",
[2022-02-12T22:57:57.725Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:57:57.725Z]     "path": "/auth/verify-passcode"
[2022-02-12T22:57:57.725Z] }
[2022-02-12T22:57:57.725Z] "promise done, calling callback"
[2022-02-12T22:57:57.725Z] handler promise resolved, sending result...
[2022-02-12T22:58:00.192Z] Received message: {"type":"execute","eventId":"gPoTK4fg8Bdcqn_fnXvuN","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:58:00.192Z] Executing event gPoTK4fg8Bdcqn_fnXvuN
[2022-02-12T22:58:00.192Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:58:00.309Z] Invoking handler function: "handler"
[2022-02-12T22:58:00.309Z] "Router", "request", "info", {
[2022-02-12T22:58:00.309Z]     "httpMethod": "POST",
[2022-02-12T22:58:00.309Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:58:00.309Z]     "path": "/auth/verify-passcode"
[2022-02-12T22:58:00.309Z] }
[2022-02-12T22:58:00.310Z] "authenticating..."
[2022-02-12T22:58:00.310Z] "handler is promise, awaiting response"
[2022-02-12T22:58:00.310Z] Waiting for handler to finish...
[2022-02-12T22:58:00.323Z] {
[2022-02-12T22:58:00.323Z]     "errorResponse": {
[2022-02-12T22:58:00.323Z]         "isBase64Encoded": false,
[2022-02-12T22:58:00.323Z]         "statusCode": 401,
[2022-02-12T22:58:00.323Z]         "headers": {
[2022-02-12T22:58:00.323Z]             "Content-Type": "application/json"
[2022-02-12T22:58:00.323Z]         },
[2022-02-12T22:58:00.324Z]         "multiValueHeaders": {},
[2022-02-12T22:58:00.324Z]         "body": "{\"error\":\"PassCode is missing\"}"
[2022-02-12T22:58:00.324Z]     },
[2022-02-12T22:58:00.324Z]     "originalError": {
[2022-02-12T22:58:00.324Z]         "httpStatusCode": 401,
[2022-02-12T22:58:00.324Z]         "name": "Error",
[2022-02-12T22:58:00.325Z]         "message": "PassCode is missing",
[2022-02-12T22:58:00.325Z]         "stack": "Error: PassCode is missing\n    at /Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/webpack:/bobs-bedtime-stories/apps/backend/api/src/utils/authenticate.ts:9:11\n    at Generator.next (<anonymous>)\n    at /Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:117:75\n    at new Promise (<anonymous>)\n    at __awaiter (/Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:113:16)\n    at authenticate (/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main.js:92:34)\n    at /Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/webpack:/bobs-bedtime-stories/apps/backend/api/src/utils/wrap-api-handler.ts:8:23\n    at Generator.next (<anonymous>)\n    at /Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:117:75\n    at new Promise (<anonymous>)"
[2022-02-12T22:58:00.325Z]     }
[2022-02-12T22:58:00.325Z] }
[2022-02-12T22:58:00.325Z] "Router", "request", "success", {
[2022-02-12T22:58:00.325Z]     "httpMethod": "POST",
[2022-02-12T22:58:00.325Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:58:00.325Z]     "path": "/auth/verify-passcode",
[2022-02-12T22:58:00.325Z]     "error": null,
[2022-02-12T22:58:00.325Z]     "result": {
[2022-02-12T22:58:00.325Z]         "isBase64Encoded": false,
[2022-02-12T22:58:00.326Z]         "statusCode": 401,
[2022-02-12T22:58:00.326Z]         "headers": {
[2022-02-12T22:58:00.326Z]             "Content-Type": "application/json"
[2022-02-12T22:58:00.326Z]         },
[2022-02-12T22:58:00.326Z]         "multiValueHeaders": {},
[2022-02-12T22:58:00.326Z]         "body": "{\"error\":\"PassCode is missing\"}"
[2022-02-12T22:58:00.326Z]     }
[2022-02-12T22:58:00.326Z] }
[2022-02-12T22:58:00.326Z] "now calling callback"
[2022-02-12T22:58:00.326Z] handler called callback, sending result...
[2022-02-12T22:58:00.327Z] "Router", "request", "success", {
[2022-02-12T22:58:00.327Z]     "httpMethod": "POST",
[2022-02-12T22:58:00.327Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:58:00.327Z]     "path": "/auth/verify-passcode"
[2022-02-12T22:58:00.327Z] }
[2022-02-12T22:58:00.327Z] "promise done, calling callback"
[2022-02-12T22:58:00.327Z] handler promise resolved, sending result...
[2022-02-12T22:58:04.656Z] Received message: {"type":"execute","eventId":"9T6-MVxp3egshD6xnepTo","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:58:04.657Z] Executing event 9T6-MVxp3egshD6xnepTo
[2022-02-12T22:58:04.658Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:58:04.741Z] Invoking handler function: "handler"
[2022-02-12T22:58:04.741Z] "Router", "request", "info", {
[2022-02-12T22:58:04.742Z]     "httpMethod": "POST",
[2022-02-12T22:58:04.742Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:58:04.742Z]     "path": "/auth/verify-passcode"
[2022-02-12T22:58:04.742Z] }
[2022-02-12T22:58:04.742Z] "authenticating..."
[2022-02-12T22:58:04.750Z] "handler is promise, awaiting response"
[2022-02-12T22:58:04.750Z] Waiting for handler to finish...
[2022-02-12T22:58:04.777Z] "authenticated"
[2022-02-12T22:58:04.777Z] "Router", "request", "success", {
[2022-02-12T22:58:04.777Z]     "httpMethod": "POST",
[2022-02-12T22:58:04.778Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:58:04.778Z]     "path": "/auth/verify-passcode",
[2022-02-12T22:58:04.778Z]     "error": null,
[2022-02-12T22:58:04.778Z]     "result": {
[2022-02-12T22:58:04.778Z]         "isBase64Encoded": false,
[2022-02-12T22:58:04.778Z]         "statusCode": 200,
[2022-02-12T22:58:04.778Z]         "headers": {
[2022-02-12T22:58:04.778Z]             "Content-Type": "application/json"
[2022-02-12T22:58:04.779Z]         },
[2022-02-12T22:58:04.779Z]         "multiValueHeaders": {},
[2022-02-12T22:58:04.779Z]         "body": "\"OK\""
[2022-02-12T22:58:04.779Z]     }
[2022-02-12T22:58:04.779Z] }
[2022-02-12T22:58:04.779Z] "now calling callback"
[2022-02-12T22:58:04.779Z] handler called callback, sending result...
[2022-02-12T22:58:04.780Z] "Router", "request", "success", {
[2022-02-12T22:58:04.780Z]     "httpMethod": "POST",
[2022-02-12T22:58:04.780Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:58:04.780Z]     "path": "/auth/verify-passcode"
[2022-02-12T22:58:04.780Z] }
[2022-02-12T22:58:04.780Z] "promise done, calling callback"
[2022-02-12T22:58:04.780Z] handler promise resolved, sending result...
[2022-02-12T22:58:04.833Z] Received message: {"type":"execute","eventId":"uOZWiN3jrPC6ApD86L_Rj","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"50-BQ312bY0Q17S+DqUPRcvPELgLYo\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:58:04.833Z] Executing event uOZWiN3jrPC6ApD86L_Rj
[2022-02-12T22:58:04.833Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:58:04.909Z] Invoking handler function: "handler"
[2022-02-12T22:58:04.909Z] "Router", "request", "info", {
[2022-02-12T22:58:04.910Z]     "httpMethod": "GET",
[2022-02-12T22:58:04.910Z]     "resource": "/books",
[2022-02-12T22:58:04.910Z]     "path": "/books"
[2022-02-12T22:58:04.910Z] }
[2022-02-12T22:58:04.910Z] "authenticating..."
[2022-02-12T22:58:04.916Z] "handler is promise, awaiting response"
[2022-02-12T22:58:04.916Z] Waiting for handler to finish...
[2022-02-12T22:58:04.946Z] "authenticated"
[2022-02-12T22:58:04.946Z] "get books"
[2022-02-12T22:58:04.947Z] "add \"all\" option"
[2022-02-12T22:58:04.947Z] "execute"
[2022-02-12T22:58:04.959Z] "done", [
[2022-02-12T22:58:04.959Z]     {
[2022-02-12T22:58:04.959Z]         "title": "Tilda Apfelkern",
[2022-02-12T22:58:04.959Z]         "description": "some text",
[2022-02-12T22:58:04.959Z]         "slug": "tilda-apfelkern"
[2022-02-12T22:58:04.959Z]     }
[2022-02-12T22:58:04.959Z] ]
[2022-02-12T22:58:04.960Z] "Router", "request", "success", {
[2022-02-12T22:58:04.960Z]     "httpMethod": "GET",
[2022-02-12T22:58:04.960Z]     "resource": "/books",
[2022-02-12T22:58:04.960Z]     "path": "/books",
[2022-02-12T22:58:04.960Z]     "error": null,
[2022-02-12T22:58:04.960Z]     "result": {
[2022-02-12T22:58:04.960Z]         "isBase64Encoded": false,
[2022-02-12T22:58:04.960Z]         "statusCode": 200,
[2022-02-12T22:58:04.960Z]         "headers": {
[2022-02-12T22:58:04.961Z]             "Content-Type": "application/json"
[2022-02-12T22:58:04.961Z]         },
[2022-02-12T22:58:04.961Z]         "multiValueHeaders": {},
[2022-02-12T22:58:04.961Z]         "body": "[{\"title\":\"Tilda Apfelkern\",\"description\":\"some text\",\"slug\":\"tilda-apfelkern\"}]"
[2022-02-12T22:58:04.961Z]     }
[2022-02-12T22:58:04.961Z] }
[2022-02-12T22:58:04.961Z] "now calling callback"
[2022-02-12T22:58:04.961Z] handler called callback, sending result...
[2022-02-12T22:58:04.961Z] "Router", "request", "success", {
[2022-02-12T22:58:04.962Z]     "httpMethod": "GET",
[2022-02-12T22:58:04.962Z]     "resource": "/books",
[2022-02-12T22:58:04.962Z]     "path": "/books"
[2022-02-12T22:58:04.962Z] }
[2022-02-12T22:58:04.962Z] "promise done, calling callback"
[2022-02-12T22:58:04.962Z] handler promise resolved, sending result...
[2022-02-12T22:58:04.996Z] Received message: {"type":"execute","eventId":"QoaAtFMK-qKvSrVedEOb6","payload":{"event":{"isBase64Encoded":false,"path":"/books/tilda-apfelkern/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"85-OY1+Xy63WOSPom4perGH05XjXDg\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"tilda-apfelkern","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:58:04.996Z] Executing event QoaAtFMK-qKvSrVedEOb6
[2022-02-12T22:58:04.996Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:58:05.070Z] Invoking handler function: "handler"
[2022-02-12T22:58:05.070Z] "Router", "request", "info", {
[2022-02-12T22:58:05.071Z]     "httpMethod": "GET",
[2022-02-12T22:58:05.071Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T22:58:05.071Z]     "path": "/books/tilda-apfelkern/stories"
[2022-02-12T22:58:05.071Z] }
[2022-02-12T22:58:05.071Z] "authenticating..."
[2022-02-12T22:58:05.076Z] "handler is promise, awaiting response"
[2022-02-12T22:58:05.077Z] Waiting for handler to finish...
[2022-02-12T22:58:05.112Z] "authenticated"
[2022-02-12T22:58:05.123Z] "Router", "request", "success", {
[2022-02-12T22:58:05.123Z]     "httpMethod": "GET",
[2022-02-12T22:58:05.123Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T22:58:05.124Z]     "path": "/books/tilda-apfelkern/stories",
[2022-02-12T22:58:05.124Z]     "error": null,
[2022-02-12T22:58:05.124Z]     "result": {
[2022-02-12T22:58:05.124Z]         "isBase64Encoded": false,
[2022-02-12T22:58:05.124Z]         "statusCode": 200,
[2022-02-12T22:58:05.124Z]         "headers": {
[2022-02-12T22:58:05.124Z]             "Content-Type": "application/json"
[2022-02-12T22:58:05.124Z]         },
[2022-02-12T22:58:05.124Z]         "multiValueHeaders": {},
[2022-02-12T22:58:05.125Z]         "body": "[{\"description\":\"noch so eine folge\",\"episode\":1,\"audioUrl\":\"https://google.com/mp4\",\"audioLength\":125,\"bookSlug\":\"tilda-apfelkern\"}]"
[2022-02-12T22:58:05.125Z]     }
[2022-02-12T22:58:05.125Z] }
[2022-02-12T22:58:05.125Z] "now calling callback"
[2022-02-12T22:58:05.125Z] handler called callback, sending result...
[2022-02-12T22:58:05.125Z] "Router", "request", "success", {
[2022-02-12T22:58:05.125Z]     "httpMethod": "GET",
[2022-02-12T22:58:05.126Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T22:58:05.126Z]     "path": "/books/tilda-apfelkern/stories"
[2022-02-12T22:58:05.126Z] }
[2022-02-12T22:58:05.126Z] "promise done, calling callback"
[2022-02-12T22:58:05.126Z] handler promise resolved, sending result...
[2022-02-12T22:58:06.771Z] Received message: {"type":"execute","eventId":"Ud9jUclFJ6_W1U2bocMjG","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:58:06.772Z] Executing event Ud9jUclFJ6_W1U2bocMjG
[2022-02-12T22:58:06.773Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:58:06.864Z] Invoking handler function: "handler"
[2022-02-12T22:58:06.864Z] "Router", "request", "info", {
[2022-02-12T22:58:06.864Z]     "httpMethod": "POST",
[2022-02-12T22:58:06.864Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:58:06.864Z]     "path": "/auth/verify-passcode"
[2022-02-12T22:58:06.864Z] }
[2022-02-12T22:58:06.864Z] "authenticating..."
[2022-02-12T22:58:06.871Z] "handler is promise, awaiting response"
[2022-02-12T22:58:06.871Z] Waiting for handler to finish...
[2022-02-12T22:58:06.904Z] "authenticated"
[2022-02-12T22:58:06.905Z] "Router", "request", "success", {
[2022-02-12T22:58:06.905Z]     "httpMethod": "POST",
[2022-02-12T22:58:06.906Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:58:06.906Z]     "path": "/auth/verify-passcode",
[2022-02-12T22:58:06.906Z]     "error": null,
[2022-02-12T22:58:06.906Z]     "result": {
[2022-02-12T22:58:06.906Z]         "isBase64Encoded": false,
[2022-02-12T22:58:06.906Z]         "statusCode": 200,
[2022-02-12T22:58:06.906Z]         "headers": {
[2022-02-12T22:58:06.906Z]             "Content-Type": "application/json"
[2022-02-12T22:58:06.906Z]         },
[2022-02-12T22:58:06.906Z]         "multiValueHeaders": {},
[2022-02-12T22:58:06.907Z]         "body": "\"OK\""
[2022-02-12T22:58:06.907Z]     }
[2022-02-12T22:58:06.907Z] }
[2022-02-12T22:58:06.907Z] "now calling callback"
[2022-02-12T22:58:06.908Z] handler called callback, sending result...
[2022-02-12T22:58:06.908Z] "Router", "request", "success", {
[2022-02-12T22:58:06.908Z]     "httpMethod": "POST",
[2022-02-12T22:58:06.908Z]     "resource": "/auth/verify-passcode",
[2022-02-12T22:58:06.908Z]     "path": "/auth/verify-passcode"
[2022-02-12T22:58:06.908Z] }
[2022-02-12T22:58:06.908Z] "promise done, calling callback"
[2022-02-12T22:58:06.908Z] handler promise resolved, sending result...
[2022-02-12T22:58:06.954Z] Received message: {"type":"execute","eventId":"sY1qXlVfUBFjMvBy8A2-d","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"50-BQ312bY0Q17S+DqUPRcvPELgLYo\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:58:06.954Z] Executing event sY1qXlVfUBFjMvBy8A2-d
[2022-02-12T22:58:06.954Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:58:07.034Z] Invoking handler function: "handler"
[2022-02-12T22:58:07.034Z] "Router", "request", "info", {
[2022-02-12T22:58:07.034Z]     "httpMethod": "GET",
[2022-02-12T22:58:07.034Z]     "resource": "/books",
[2022-02-12T22:58:07.034Z]     "path": "/books"
[2022-02-12T22:58:07.034Z] }
[2022-02-12T22:58:07.035Z] "authenticating..."
[2022-02-12T22:58:07.041Z] "handler is promise, awaiting response"
[2022-02-12T22:58:07.041Z] Waiting for handler to finish...
[2022-02-12T22:58:07.072Z] "authenticated"
[2022-02-12T22:58:07.073Z] "get books"
[2022-02-12T22:58:07.073Z] "add \"all\" option"
[2022-02-12T22:58:07.073Z] "execute"
[2022-02-12T22:58:07.091Z] "done", [
[2022-02-12T22:58:07.092Z]     {
[2022-02-12T22:58:07.092Z]         "title": "Tilda Apfelkern",
[2022-02-12T22:58:07.092Z]         "description": "some text",
[2022-02-12T22:58:07.092Z]         "slug": "tilda-apfelkern"
[2022-02-12T22:58:07.092Z]     }
[2022-02-12T22:58:07.092Z] ]
[2022-02-12T22:58:07.092Z] "Router", "request", "success", {
[2022-02-12T22:58:07.092Z]     "httpMethod": "GET",
[2022-02-12T22:58:07.093Z]     "resource": "/books",
[2022-02-12T22:58:07.093Z]     "path": "/books",
[2022-02-12T22:58:07.093Z]     "error": null,
[2022-02-12T22:58:07.093Z]     "result": {
[2022-02-12T22:58:07.093Z]         "isBase64Encoded": false,
[2022-02-12T22:58:07.093Z]         "statusCode": 200,
[2022-02-12T22:58:07.093Z]         "headers": {
[2022-02-12T22:58:07.093Z]             "Content-Type": "application/json"
[2022-02-12T22:58:07.093Z]         },
[2022-02-12T22:58:07.094Z]         "multiValueHeaders": {},
[2022-02-12T22:58:07.094Z]         "body": "[{\"title\":\"Tilda Apfelkern\",\"description\":\"some text\",\"slug\":\"tilda-apfelkern\"}]"
[2022-02-12T22:58:07.094Z]     }
[2022-02-12T22:58:07.094Z] }
[2022-02-12T22:58:07.094Z] "now calling callback"
[2022-02-12T22:58:07.094Z] handler called callback, sending result...
[2022-02-12T22:58:07.094Z] "Router", "request", "success", {
[2022-02-12T22:58:07.094Z]     "httpMethod": "GET",
[2022-02-12T22:58:07.095Z]     "resource": "/books",
[2022-02-12T22:58:07.095Z]     "path": "/books"
[2022-02-12T22:58:07.095Z] }
[2022-02-12T22:58:07.095Z] "promise done, calling callback"
[2022-02-12T22:58:07.095Z] handler promise resolved, sending result...
[2022-02-12T22:58:07.125Z] Received message: {"type":"execute","eventId":"VxYi9I0UgoRfRxG1jU2O9","payload":{"event":{"isBase64Encoded":false,"path":"/books/tilda-apfelkern/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"85-OY1+Xy63WOSPom4perGH05XjXDg\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"tilda-apfelkern","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T22:58:07.125Z] Executing event VxYi9I0UgoRfRxG1jU2O9
[2022-02-12T22:58:07.126Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T22:58:07.202Z] Invoking handler function: "handler"
[2022-02-12T22:58:07.203Z] "Router", "request", "info", {
[2022-02-12T22:58:07.203Z]     "httpMethod": "GET",
[2022-02-12T22:58:07.203Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T22:58:07.203Z]     "path": "/books/tilda-apfelkern/stories"
[2022-02-12T22:58:07.203Z] }
[2022-02-12T22:58:07.203Z] "authenticating..."
[2022-02-12T22:58:07.210Z] "handler is promise, awaiting response"
[2022-02-12T22:58:07.210Z] Waiting for handler to finish...
[2022-02-12T22:58:07.247Z] "authenticated"
[2022-02-12T22:58:07.259Z] "Router", "request", "success", {
[2022-02-12T22:58:07.260Z]     "httpMethod": "GET",
[2022-02-12T22:58:07.260Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T22:58:07.260Z]     "path": "/books/tilda-apfelkern/stories",
[2022-02-12T22:58:07.260Z]     "error": null,
[2022-02-12T22:58:07.260Z]     "result": {
[2022-02-12T22:58:07.260Z]         "isBase64Encoded": false,
[2022-02-12T22:58:07.260Z]         "statusCode": 200,
[2022-02-12T22:58:07.261Z]         "headers": {
[2022-02-12T22:58:07.261Z]             "Content-Type": "application/json"
[2022-02-12T22:58:07.261Z]         },
[2022-02-12T22:58:07.261Z]         "multiValueHeaders": {},
[2022-02-12T22:58:07.261Z]         "body": "[{\"description\":\"noch so eine folge\",\"episode\":1,\"audioUrl\":\"https://google.com/mp4\",\"audioLength\":125,\"bookSlug\":\"tilda-apfelkern\"}]"
[2022-02-12T22:58:07.261Z]     }
[2022-02-12T22:58:07.261Z] }
[2022-02-12T22:58:07.261Z] "now calling callback"
[2022-02-12T22:58:07.261Z] handler called callback, sending result...
[2022-02-12T22:58:07.262Z] "Router", "request", "success", {
[2022-02-12T22:58:07.262Z]     "httpMethod": "GET",
[2022-02-12T22:58:07.262Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T22:58:07.262Z]     "path": "/books/tilda-apfelkern/stories"
[2022-02-12T22:58:07.262Z] }
[2022-02-12T22:58:07.262Z] "promise done, calling callback"
[2022-02-12T22:58:07.262Z] handler promise resolved, sending result...
[2022-02-12T23:08:57.097Z] Received message: {"type":"execute","eventId":"1XSlHn_RkkaSiv2oYxRtS","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T23:08:57.099Z] Executing event 1XSlHn_RkkaSiv2oYxRtS
[2022-02-12T23:08:57.099Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T23:08:57.267Z] Invoking handler function: "handler"
[2022-02-12T23:08:57.267Z] "Router", "request", "info", {
[2022-02-12T23:08:57.267Z]     "httpMethod": "POST",
[2022-02-12T23:08:57.267Z]     "resource": "/auth/verify-passcode",
[2022-02-12T23:08:57.267Z]     "path": "/auth/verify-passcode"
[2022-02-12T23:08:57.267Z] }
[2022-02-12T23:08:57.267Z] "authenticating..."
[2022-02-12T23:08:57.276Z] "handler is promise, awaiting response"
[2022-02-12T23:08:57.276Z] Waiting for handler to finish...
[2022-02-12T23:08:57.309Z] "authenticated"
[2022-02-12T23:08:57.309Z] "Router", "request", "success", {
[2022-02-12T23:08:57.309Z]     "httpMethod": "POST",
[2022-02-12T23:08:57.310Z]     "resource": "/auth/verify-passcode",
[2022-02-12T23:08:57.310Z]     "path": "/auth/verify-passcode",
[2022-02-12T23:08:57.310Z]     "error": null,
[2022-02-12T23:08:57.310Z]     "result": {
[2022-02-12T23:08:57.310Z]         "isBase64Encoded": false,
[2022-02-12T23:08:57.310Z]         "statusCode": 200,
[2022-02-12T23:08:57.310Z]         "headers": {
[2022-02-12T23:08:57.310Z]             "Content-Type": "application/json"
[2022-02-12T23:08:57.310Z]         },
[2022-02-12T23:08:57.310Z]         "multiValueHeaders": {},
[2022-02-12T23:08:57.311Z]         "body": "\"OK\""
[2022-02-12T23:08:57.311Z]     }
[2022-02-12T23:08:57.311Z] }
[2022-02-12T23:08:57.311Z] "now calling callback"
[2022-02-12T23:08:57.311Z] handler called callback, sending result...
[2022-02-12T23:08:57.312Z] "Router", "request", "success", {
[2022-02-12T23:08:57.312Z]     "httpMethod": "POST",
[2022-02-12T23:08:57.312Z]     "resource": "/auth/verify-passcode",
[2022-02-12T23:08:57.312Z]     "path": "/auth/verify-passcode"
[2022-02-12T23:08:57.312Z] }
[2022-02-12T23:08:57.313Z] "promise done, calling callback"
[2022-02-12T23:08:57.313Z] handler promise resolved, sending result...
[2022-02-12T23:08:57.365Z] Received message: {"type":"execute","eventId":"zsPFlNIscsOmHkuPrZQ4R","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"50-BQ312bY0Q17S+DqUPRcvPELgLYo\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T23:08:57.365Z] Executing event zsPFlNIscsOmHkuPrZQ4R
[2022-02-12T23:08:57.365Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T23:08:57.469Z] Invoking handler function: "handler"
[2022-02-12T23:08:57.469Z] "Router", "request", "info", {
[2022-02-12T23:08:57.469Z]     "httpMethod": "GET",
[2022-02-12T23:08:57.469Z]     "resource": "/books",
[2022-02-12T23:08:57.470Z]     "path": "/books"
[2022-02-12T23:08:57.470Z] }
[2022-02-12T23:08:57.470Z] "authenticating..."
[2022-02-12T23:08:57.480Z] "handler is promise, awaiting response"
[2022-02-12T23:08:57.481Z] Waiting for handler to finish...
[2022-02-12T23:08:57.529Z] "authenticated"
[2022-02-12T23:08:57.529Z] "get books"
[2022-02-12T23:08:57.529Z] "add \"all\" option"
[2022-02-12T23:08:57.529Z] "execute"
[2022-02-12T23:08:57.539Z] "done", [
[2022-02-12T23:08:57.540Z]     {
[2022-02-12T23:08:57.540Z]         "title": "Tilda Apfelkern",
[2022-02-12T23:08:57.540Z]         "description": "some text",
[2022-02-12T23:08:57.540Z]         "slug": "tilda-apfelkern"
[2022-02-12T23:08:57.540Z]     }
[2022-02-12T23:08:57.540Z] ]
[2022-02-12T23:08:57.541Z] "Router", "request", "success", {
[2022-02-12T23:08:57.541Z]     "httpMethod": "GET",
[2022-02-12T23:08:57.541Z]     "resource": "/books",
[2022-02-12T23:08:57.541Z]     "path": "/books",
[2022-02-12T23:08:57.541Z]     "error": null,
[2022-02-12T23:08:57.541Z]     "result": {
[2022-02-12T23:08:57.541Z]         "isBase64Encoded": false,
[2022-02-12T23:08:57.542Z]         "statusCode": 200,
[2022-02-12T23:08:57.542Z]         "headers": {
[2022-02-12T23:08:57.542Z]             "Content-Type": "application/json"
[2022-02-12T23:08:57.542Z]         },
[2022-02-12T23:08:57.542Z]         "multiValueHeaders": {},
[2022-02-12T23:08:57.542Z]         "body": "[{\"title\":\"Tilda Apfelkern\",\"description\":\"some text\",\"slug\":\"tilda-apfelkern\"}]"
[2022-02-12T23:08:57.542Z]     }
[2022-02-12T23:08:57.542Z] }
[2022-02-12T23:08:57.543Z] "now calling callback"
[2022-02-12T23:08:57.543Z] handler called callback, sending result...
[2022-02-12T23:08:57.543Z] "Router", "request", "success", {
[2022-02-12T23:08:57.543Z]     "httpMethod": "GET",
[2022-02-12T23:08:57.543Z]     "resource": "/books",
[2022-02-12T23:08:57.543Z]     "path": "/books"
[2022-02-12T23:08:57.543Z] }
[2022-02-12T23:08:57.543Z] "promise done, calling callback"
[2022-02-12T23:08:57.544Z] handler promise resolved, sending result...
[2022-02-12T23:08:57.584Z] Received message: {"type":"execute","eventId":"sPkSMGjRlc4VrICydYjLi","payload":{"event":{"isBase64Encoded":false,"path":"/books/tilda-apfelkern/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"85-OY1+Xy63WOSPom4perGH05XjXDg\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"tilda-apfelkern","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T23:08:57.584Z] Executing event sPkSMGjRlc4VrICydYjLi
[2022-02-12T23:08:57.584Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T23:08:57.680Z] Invoking handler function: "handler"
[2022-02-12T23:08:57.680Z] "Router", "request", "info", {
[2022-02-12T23:08:57.681Z]     "httpMethod": "GET",
[2022-02-12T23:08:57.681Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T23:08:57.681Z]     "path": "/books/tilda-apfelkern/stories"
[2022-02-12T23:08:57.681Z] }
[2022-02-12T23:08:57.681Z] "authenticating..."
[2022-02-12T23:08:57.688Z] "handler is promise, awaiting response"
[2022-02-12T23:08:57.688Z] Waiting for handler to finish...
[2022-02-12T23:08:57.715Z] "authenticated"
[2022-02-12T23:08:57.736Z] "Router", "request", "success", {
[2022-02-12T23:08:57.736Z]     "httpMethod": "GET",
[2022-02-12T23:08:57.736Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T23:08:57.736Z]     "path": "/books/tilda-apfelkern/stories",
[2022-02-12T23:08:57.736Z]     "error": null,
[2022-02-12T23:08:57.736Z]     "result": {
[2022-02-12T23:08:57.736Z]         "isBase64Encoded": false,
[2022-02-12T23:08:57.737Z]         "statusCode": 200,
[2022-02-12T23:08:57.737Z]         "headers": {
[2022-02-12T23:08:57.737Z]             "Content-Type": "application/json"
[2022-02-12T23:08:57.737Z]         },
[2022-02-12T23:08:57.737Z]         "multiValueHeaders": {},
[2022-02-12T23:08:57.737Z]         "body": "[{\"description\":\"noch so eine folge\",\"episode\":1,\"audioUrl\":\"https://google.com/mp4\",\"audioLength\":125,\"bookSlug\":\"tilda-apfelkern\"}]"
[2022-02-12T23:08:57.737Z]     }
[2022-02-12T23:08:57.737Z] }
[2022-02-12T23:08:57.738Z] "now calling callback"
[2022-02-12T23:08:57.738Z] handler called callback, sending result...
[2022-02-12T23:08:57.738Z] "Router", "request", "success", {
[2022-02-12T23:08:57.738Z]     "httpMethod": "GET",
[2022-02-12T23:08:57.738Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T23:08:57.738Z]     "path": "/books/tilda-apfelkern/stories"
[2022-02-12T23:08:57.738Z] }
[2022-02-12T23:08:57.738Z] "promise done, calling callback"
[2022-02-12T23:08:57.738Z] handler promise resolved, sending result...
[2022-02-12T23:11:54.904Z] Received message: {"type":"execute","eventId":"_ODY0NQtjCyx0qcJ6z_QV","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T23:11:54.905Z] Executing event _ODY0NQtjCyx0qcJ6z_QV
[2022-02-12T23:11:54.905Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T23:11:55.036Z] Invoking handler function: "handler"
[2022-02-12T23:11:55.037Z] "Router", "request", "info", {
[2022-02-12T23:11:55.037Z]     "httpMethod": "POST",
[2022-02-12T23:11:55.037Z]     "resource": "/auth/verify-passcode",
[2022-02-12T23:11:55.037Z]     "path": "/auth/verify-passcode"
[2022-02-12T23:11:55.037Z] }
[2022-02-12T23:11:55.037Z] "authenticating..."
[2022-02-12T23:11:55.044Z] "handler is promise, awaiting response"
[2022-02-12T23:11:55.044Z] Waiting for handler to finish...
[2022-02-12T23:11:55.084Z] "authenticated"
[2022-02-12T23:11:55.084Z] "Router", "request", "success", {
[2022-02-12T23:11:55.084Z]     "httpMethod": "POST",
[2022-02-12T23:11:55.084Z]     "resource": "/auth/verify-passcode",
[2022-02-12T23:11:55.084Z]     "path": "/auth/verify-passcode",
[2022-02-12T23:11:55.084Z]     "error": null,
[2022-02-12T23:11:55.085Z]     "result": {
[2022-02-12T23:11:55.085Z]         "isBase64Encoded": false,
[2022-02-12T23:11:55.085Z]         "statusCode": 200,
[2022-02-12T23:11:55.085Z]         "headers": {
[2022-02-12T23:11:55.085Z]             "Content-Type": "application/json"
[2022-02-12T23:11:55.086Z]         },
[2022-02-12T23:11:55.086Z]         "multiValueHeaders": {},
[2022-02-12T23:11:55.086Z]         "body": "\"OK\""
[2022-02-12T23:11:55.086Z]     }
[2022-02-12T23:11:55.086Z] }
[2022-02-12T23:11:55.086Z] "now calling callback"
[2022-02-12T23:11:55.086Z] handler called callback, sending result...
[2022-02-12T23:11:55.087Z] "Router", "request", "success", {
[2022-02-12T23:11:55.087Z]     "httpMethod": "POST",
[2022-02-12T23:11:55.087Z]     "resource": "/auth/verify-passcode",
[2022-02-12T23:11:55.087Z]     "path": "/auth/verify-passcode"
[2022-02-12T23:11:55.088Z] }
[2022-02-12T23:11:55.088Z] "promise done, calling callback"
[2022-02-12T23:11:55.088Z] handler promise resolved, sending result...
[2022-02-12T23:11:55.133Z] Received message: {"type":"execute","eventId":"_GxTWhp_dpKBW4xmDAaTZ","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"50-BQ312bY0Q17S+DqUPRcvPELgLYo\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T23:11:55.134Z] Executing event _GxTWhp_dpKBW4xmDAaTZ
[2022-02-12T23:11:55.134Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T23:11:55.219Z] Invoking handler function: "handler"
[2022-02-12T23:11:55.233Z] "Router", "request", "info", {
[2022-02-12T23:11:55.233Z]     "httpMethod": "GET",
[2022-02-12T23:11:55.251Z]     "resource": "/books",
[2022-02-12T23:11:55.251Z]     "path": "/books"
[2022-02-12T23:11:55.302Z] }
[2022-02-12T23:11:55.302Z] "authenticating..."
[2022-02-12T23:11:55.305Z] "handler is promise, awaiting response"
[2022-02-12T23:11:55.305Z] Waiting for handler to finish...
[2022-02-12T23:11:55.306Z] "authenticated"
[2022-02-12T23:11:55.306Z] "get books"
[2022-02-12T23:11:55.306Z] "add \"all\" option"
[2022-02-12T23:11:55.306Z] "execute"
[2022-02-12T23:11:55.306Z] "done", [
[2022-02-12T23:11:55.306Z]     {
[2022-02-12T23:11:55.306Z]         "title": "Tilda Apfelkern",
[2022-02-12T23:11:55.306Z]         "description": "some text",
[2022-02-12T23:11:55.307Z]         "slug": "tilda-apfelkern"
[2022-02-12T23:11:55.307Z]     }
[2022-02-12T23:11:55.307Z] ]
[2022-02-12T23:11:55.307Z] "Router", "request", "success", {
[2022-02-12T23:11:55.307Z]     "httpMethod": "GET",
[2022-02-12T23:11:55.307Z]     "resource": "/books",
[2022-02-12T23:11:55.307Z]     "path": "/books",
[2022-02-12T23:11:55.308Z]     "error": null,
[2022-02-12T23:11:55.308Z]     "result": {
[2022-02-12T23:11:55.308Z]         "isBase64Encoded": false,
[2022-02-12T23:11:55.308Z]         "statusCode": 200,
[2022-02-12T23:11:55.308Z]         "headers": {
[2022-02-12T23:11:55.308Z]             "Content-Type": "application/json"
[2022-02-12T23:11:55.308Z]         },
[2022-02-12T23:11:55.308Z]         "multiValueHeaders": {},
[2022-02-12T23:11:55.308Z]         "body": "[{\"title\":\"Tilda Apfelkern\",\"description\":\"some text\",\"slug\":\"tilda-apfelkern\"}]"
[2022-02-12T23:11:55.309Z]     }
[2022-02-12T23:11:55.309Z] }
[2022-02-12T23:11:55.309Z] "now calling callback"
[2022-02-12T23:11:55.309Z] handler called callback, sending result...
[2022-02-12T23:11:55.309Z] "Router", "request", "success", {
[2022-02-12T23:11:55.309Z]     "httpMethod": "GET",
[2022-02-12T23:11:55.309Z]     "resource": "/books",
[2022-02-12T23:11:55.310Z]     "path": "/books"
[2022-02-12T23:11:55.310Z] }
[2022-02-12T23:11:55.310Z] "promise done, calling callback"
[2022-02-12T23:11:55.310Z] handler promise resolved, sending result...
[2022-02-12T23:11:55.345Z] Received message: {"type":"execute","eventId":"6NxSHXWD_IQebmPvK8ItD","payload":{"event":{"isBase64Encoded":false,"path":"/books/tilda-apfelkern/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"85-OY1+Xy63WOSPom4perGH05XjXDg\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"tilda-apfelkern","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T23:11:55.352Z] Executing event 6NxSHXWD_IQebmPvK8ItD
[2022-02-12T23:11:55.352Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T23:11:55.435Z] Invoking handler function: "handler"
[2022-02-12T23:11:55.435Z] "Router", "request", "info", {
[2022-02-12T23:11:55.435Z]     "httpMethod": "GET",
[2022-02-12T23:11:55.436Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T23:11:55.436Z]     "path": "/books/tilda-apfelkern/stories"
[2022-02-12T23:11:55.436Z] }
[2022-02-12T23:11:55.436Z] "authenticating..."
[2022-02-12T23:11:55.442Z] "handler is promise, awaiting response"
[2022-02-12T23:11:55.442Z] Waiting for handler to finish...
[2022-02-12T23:11:55.472Z] "authenticated"
[2022-02-12T23:11:55.487Z] "Router", "request", "success", {
[2022-02-12T23:11:55.487Z]     "httpMethod": "GET",
[2022-02-12T23:11:55.487Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T23:11:55.487Z]     "path": "/books/tilda-apfelkern/stories",
[2022-02-12T23:11:55.488Z]     "error": null,
[2022-02-12T23:11:55.488Z]     "result": {
[2022-02-12T23:11:55.488Z]         "isBase64Encoded": false,
[2022-02-12T23:11:55.488Z]         "statusCode": 200,
[2022-02-12T23:11:55.488Z]         "headers": {
[2022-02-12T23:11:55.488Z]             "Content-Type": "application/json"
[2022-02-12T23:11:55.489Z]         },
[2022-02-12T23:11:55.489Z]         "multiValueHeaders": {},
[2022-02-12T23:11:55.489Z]         "body": "[{\"description\":\"noch so eine folge\",\"episode\":1,\"audioUrl\":\"https://google.com/mp4\",\"audioLength\":125,\"bookSlug\":\"tilda-apfelkern\"}]"
[2022-02-12T23:11:55.489Z]     }
[2022-02-12T23:11:55.489Z] }
[2022-02-12T23:11:55.489Z] "now calling callback"
[2022-02-12T23:11:55.489Z] handler called callback, sending result...
[2022-02-12T23:11:55.490Z] "Router", "request", "success", {
[2022-02-12T23:11:55.490Z]     "httpMethod": "GET",
[2022-02-12T23:11:55.490Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T23:11:55.490Z]     "path": "/books/tilda-apfelkern/stories"
[2022-02-12T23:11:55.490Z] }
[2022-02-12T23:11:55.490Z] "promise done, calling callback"
[2022-02-12T23:11:55.491Z] handler promise resolved, sending result...
[2022-02-12T23:12:10.131Z] Received message: {"type":"execute","eventId":"svvGrTb1lwD4PyC85g1eX","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T23:12:10.131Z] Executing event svvGrTb1lwD4PyC85g1eX
[2022-02-12T23:12:10.132Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T23:12:10.225Z] Invoking handler function: "handler"
[2022-02-12T23:12:10.225Z] "Router", "request", "info", {
[2022-02-12T23:12:10.225Z]     "httpMethod": "POST",
[2022-02-12T23:12:10.225Z]     "resource": "/auth/verify-passcode",
[2022-02-12T23:12:10.226Z]     "path": "/auth/verify-passcode"
[2022-02-12T23:12:10.226Z] }
[2022-02-12T23:12:10.226Z] "authenticating..."
[2022-02-12T23:12:10.233Z] "handler is promise, awaiting response"
[2022-02-12T23:12:10.233Z] Waiting for handler to finish...
[2022-02-12T23:12:10.261Z] "authenticated"
[2022-02-12T23:12:10.262Z] "Router", "request", "success", {
[2022-02-12T23:12:10.262Z]     "httpMethod": "POST",
[2022-02-12T23:12:10.262Z]     "resource": "/auth/verify-passcode",
[2022-02-12T23:12:10.262Z]     "path": "/auth/verify-passcode",
[2022-02-12T23:12:10.262Z]     "error": null,
[2022-02-12T23:12:10.262Z]     "result": {
[2022-02-12T23:12:10.262Z]         "isBase64Encoded": false,
[2022-02-12T23:12:10.262Z]         "statusCode": 200,
[2022-02-12T23:12:10.263Z]         "headers": {
[2022-02-12T23:12:10.263Z]             "Content-Type": "application/json"
[2022-02-12T23:12:10.263Z]         },
[2022-02-12T23:12:10.263Z]         "multiValueHeaders": {},
[2022-02-12T23:12:10.263Z]         "body": "\"OK\""
[2022-02-12T23:12:10.264Z]     }
[2022-02-12T23:12:10.264Z] }
[2022-02-12T23:12:10.264Z] "now calling callback"
[2022-02-12T23:12:10.264Z] handler called callback, sending result...
[2022-02-12T23:12:10.264Z] "Router", "request", "success", {
[2022-02-12T23:12:10.264Z]     "httpMethod": "POST",
[2022-02-12T23:12:10.264Z]     "resource": "/auth/verify-passcode",
[2022-02-12T23:12:10.265Z]     "path": "/auth/verify-passcode"
[2022-02-12T23:12:10.265Z] }
[2022-02-12T23:12:10.265Z] "promise done, calling callback"
[2022-02-12T23:12:10.265Z] handler promise resolved, sending result...
[2022-02-12T23:12:10.314Z] Received message: {"type":"execute","eventId":"KvgG0-qk8_JWAIuRgxKLy","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"50-BQ312bY0Q17S+DqUPRcvPELgLYo\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T23:12:10.314Z] Executing event KvgG0-qk8_JWAIuRgxKLy
[2022-02-12T23:12:10.314Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T23:12:10.401Z] Invoking handler function: "handler"
[2022-02-12T23:12:10.401Z] "Router", "request", "info", {
[2022-02-12T23:12:10.401Z]     "httpMethod": "GET",
[2022-02-12T23:12:10.401Z]     "resource": "/books",
[2022-02-12T23:12:10.401Z]     "path": "/books"
[2022-02-12T23:12:10.401Z] }
[2022-02-12T23:12:10.402Z] "authenticating..."
[2022-02-12T23:12:10.408Z] "handler is promise, awaiting response"
[2022-02-12T23:12:10.408Z] Waiting for handler to finish...
[2022-02-12T23:12:10.438Z] "authenticated"
[2022-02-12T23:12:10.438Z] "get books"
[2022-02-12T23:12:10.438Z] "add \"all\" option"
[2022-02-12T23:12:10.438Z] "execute"
[2022-02-12T23:12:10.452Z] "done", [
[2022-02-12T23:12:10.452Z]     {
[2022-02-12T23:12:10.452Z]         "title": "Tilda Apfelkern",
[2022-02-12T23:12:10.453Z]         "description": "some text",
[2022-02-12T23:12:10.453Z]         "slug": "tilda-apfelkern"
[2022-02-12T23:12:10.453Z]     }
[2022-02-12T23:12:10.453Z] ]
[2022-02-12T23:12:10.453Z] "Router", "request", "success", {
[2022-02-12T23:12:10.454Z]     "httpMethod": "GET",
[2022-02-12T23:12:10.454Z]     "resource": "/books",
[2022-02-12T23:12:10.454Z]     "path": "/books",
[2022-02-12T23:12:10.454Z]     "error": null,
[2022-02-12T23:12:10.455Z]     "result": {
[2022-02-12T23:12:10.455Z]         "isBase64Encoded": false,
[2022-02-12T23:12:10.455Z]         "statusCode": 200,
[2022-02-12T23:12:10.455Z]         "headers": {
[2022-02-12T23:12:10.455Z]             "Content-Type": "application/json"
[2022-02-12T23:12:10.455Z]         },
[2022-02-12T23:12:10.455Z]         "multiValueHeaders": {},
[2022-02-12T23:12:10.455Z]         "body": "[{\"title\":\"Tilda Apfelkern\",\"description\":\"some text\",\"slug\":\"tilda-apfelkern\"}]"
[2022-02-12T23:12:10.455Z]     }
[2022-02-12T23:12:10.456Z] }
[2022-02-12T23:12:10.456Z] "now calling callback"
[2022-02-12T23:12:10.456Z] handler called callback, sending result...
[2022-02-12T23:12:10.456Z] "Router", "request", "success", {
[2022-02-12T23:12:10.456Z]     "httpMethod": "GET",
[2022-02-12T23:12:10.456Z]     "resource": "/books",
[2022-02-12T23:12:10.456Z]     "path": "/books"
[2022-02-12T23:12:10.457Z] }
[2022-02-12T23:12:10.457Z] "promise done, calling callback"
[2022-02-12T23:12:10.457Z] handler promise resolved, sending result...
[2022-02-12T23:12:10.496Z] Received message: {"type":"execute","eventId":"90MMMz_RZrABVkXTECCbX","payload":{"event":{"isBase64Encoded":false,"path":"/books/tilda-apfelkern/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"85-OY1+Xy63WOSPom4perGH05XjXDg\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"tilda-apfelkern","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T23:12:10.496Z] Executing event 90MMMz_RZrABVkXTECCbX
[2022-02-12T23:12:10.496Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T23:12:10.607Z] Invoking handler function: "handler"
[2022-02-12T23:12:10.607Z] "Router", "request", "info", {
[2022-02-12T23:12:10.607Z]     "httpMethod": "GET",
[2022-02-12T23:12:10.608Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T23:12:10.609Z]     "path": "/books/tilda-apfelkern/stories"
[2022-02-12T23:12:10.609Z] }
[2022-02-12T23:12:10.609Z] "authenticating..."
[2022-02-12T23:12:10.615Z] "handler is promise, awaiting response"
[2022-02-12T23:12:10.615Z] Waiting for handler to finish...
[2022-02-12T23:12:10.644Z] "authenticated"
[2022-02-12T23:12:10.659Z] "Router", "request", "success", {
[2022-02-12T23:12:10.659Z]     "httpMethod": "GET",
[2022-02-12T23:12:10.659Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T23:12:10.660Z]     "path": "/books/tilda-apfelkern/stories",
[2022-02-12T23:12:10.660Z]     "error": null,
[2022-02-12T23:12:10.660Z]     "result": {
[2022-02-12T23:12:10.660Z]         "isBase64Encoded": false,
[2022-02-12T23:12:10.660Z]         "statusCode": 200,
[2022-02-12T23:12:10.666Z]         "headers": {
[2022-02-12T23:12:10.666Z]             "Content-Type": "application/json"
[2022-02-12T23:12:10.667Z]         },
[2022-02-12T23:12:10.667Z]         "multiValueHeaders": {},
[2022-02-12T23:12:10.667Z]         "body": "[{\"description\":\"noch so eine folge\",\"episode\":1,\"audioUrl\":\"https://google.com/mp4\",\"audioLength\":125,\"bookSlug\":\"tilda-apfelkern\"}]"
[2022-02-12T23:12:10.667Z]     }
[2022-02-12T23:12:10.667Z] }
[2022-02-12T23:12:10.667Z] "now calling callback"
[2022-02-12T23:12:10.667Z] handler called callback, sending result...
[2022-02-12T23:12:10.668Z] "Router", "request", "success", {
[2022-02-12T23:12:10.668Z]     "httpMethod": "GET",
[2022-02-12T23:12:10.668Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T23:12:10.669Z]     "path": "/books/tilda-apfelkern/stories"
[2022-02-12T23:12:10.669Z] }
[2022-02-12T23:12:10.669Z] "promise done, calling callback"
[2022-02-12T23:12:10.669Z] handler promise resolved, sending result...
[2022-02-12T23:22:39.224Z] Received message: {"type":"execute","eventId":"BFQWIkVGvEEek7a_KqcXz","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T23:22:39.227Z] Executing event BFQWIkVGvEEek7a_KqcXz
[2022-02-12T23:22:39.228Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T23:22:39.384Z] Invoking handler function: "handler"
[2022-02-12T23:22:39.384Z] "Router", "request", "info", {
[2022-02-12T23:22:39.384Z]     "httpMethod": "POST",
[2022-02-12T23:22:39.384Z]     "resource": "/auth/verify-passcode",
[2022-02-12T23:22:39.385Z]     "path": "/auth/verify-passcode"
[2022-02-12T23:22:39.385Z] }
[2022-02-12T23:22:39.385Z] "authenticating..."
[2022-02-12T23:22:39.385Z] "handler is promise, awaiting response"
[2022-02-12T23:22:39.385Z] Waiting for handler to finish...
[2022-02-12T23:22:39.399Z] {
[2022-02-12T23:22:39.399Z]     "errorResponse": {
[2022-02-12T23:22:39.399Z]         "isBase64Encoded": false,
[2022-02-12T23:22:39.399Z]         "statusCode": 401,
[2022-02-12T23:22:39.399Z]         "headers": {
[2022-02-12T23:22:39.399Z]             "Content-Type": "application/json"
[2022-02-12T23:22:39.399Z]         },
[2022-02-12T23:22:39.400Z]         "multiValueHeaders": {},
[2022-02-12T23:22:39.400Z]         "body": "{\"error\":\"PassCode is missing\"}"
[2022-02-12T23:22:39.400Z]     },
[2022-02-12T23:22:39.400Z]     "originalError": {
[2022-02-12T23:22:39.400Z]         "httpStatusCode": 401,
[2022-02-12T23:22:39.400Z]         "name": "Error",
[2022-02-12T23:22:39.400Z]         "message": "PassCode is missing",
[2022-02-12T23:22:39.400Z]         "stack": "Error: PassCode is missing\n    at /Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/webpack:/bobs-bedtime-stories/apps/backend/api/src/utils/authenticate.ts:9:11\n    at Generator.next (<anonymous>)\n    at /Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:117:75\n    at new Promise (<anonymous>)\n    at __awaiter (/Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:113:16)\n    at authenticate (/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main.js:92:34)\n    at /Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/webpack:/bobs-bedtime-stories/apps/backend/api/src/utils/wrap-api-handler.ts:8:23\n    at Generator.next (<anonymous>)\n    at /Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:117:75\n    at new Promise (<anonymous>)"
[2022-02-12T23:22:39.400Z]     }
[2022-02-12T23:22:39.400Z] }
[2022-02-12T23:22:39.401Z] "Router", "request", "success", {
[2022-02-12T23:22:39.401Z]     "httpMethod": "POST",
[2022-02-12T23:22:39.401Z]     "resource": "/auth/verify-passcode",
[2022-02-12T23:22:39.401Z]     "path": "/auth/verify-passcode",
[2022-02-12T23:22:39.401Z]     "error": null,
[2022-02-12T23:22:39.401Z]     "result": {
[2022-02-12T23:22:39.401Z]         "isBase64Encoded": false,
[2022-02-12T23:22:39.401Z]         "statusCode": 401,
[2022-02-12T23:22:39.401Z]         "headers": {
[2022-02-12T23:22:39.401Z]             "Content-Type": "application/json"
[2022-02-12T23:22:39.401Z]         },
[2022-02-12T23:22:39.402Z]         "multiValueHeaders": {},
[2022-02-12T23:22:39.402Z]         "body": "{\"error\":\"PassCode is missing\"}"
[2022-02-12T23:22:39.402Z]     }
[2022-02-12T23:22:39.402Z] }
[2022-02-12T23:22:39.402Z] "now calling callback"
[2022-02-12T23:22:39.402Z] handler called callback, sending result...
[2022-02-12T23:22:39.402Z] "Router", "request", "success", {
[2022-02-12T23:22:39.403Z]     "httpMethod": "POST",
[2022-02-12T23:22:39.403Z]     "resource": "/auth/verify-passcode",
[2022-02-12T23:22:39.403Z]     "path": "/auth/verify-passcode"
[2022-02-12T23:22:39.403Z] }
[2022-02-12T23:22:39.403Z] "promise done, calling callback"
[2022-02-12T23:22:39.403Z] handler promise resolved, sending result...
[2022-02-12T23:22:44.822Z] Received message: {"type":"execute","eventId":"kaOiUs3jjmu3bavP6tn6q","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T23:22:44.824Z] Executing event kaOiUs3jjmu3bavP6tn6q
[2022-02-12T23:22:44.824Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T23:22:44.905Z] Invoking handler function: "handler"
[2022-02-12T23:22:44.905Z] "Router", "request", "info", {
[2022-02-12T23:22:44.905Z]     "httpMethod": "POST",
[2022-02-12T23:22:44.905Z]     "resource": "/auth/verify-passcode",
[2022-02-12T23:22:44.905Z]     "path": "/auth/verify-passcode"
[2022-02-12T23:22:44.906Z] }
[2022-02-12T23:22:44.906Z] "authenticating..."
[2022-02-12T23:22:44.912Z] "handler is promise, awaiting response"
[2022-02-12T23:22:44.913Z] Waiting for handler to finish...
[2022-02-12T23:22:44.954Z] "authenticated"
[2022-02-12T23:22:44.954Z] "Router", "request", "success", {
[2022-02-12T23:22:44.954Z]     "httpMethod": "POST",
[2022-02-12T23:22:44.955Z]     "resource": "/auth/verify-passcode",
[2022-02-12T23:22:44.955Z]     "path": "/auth/verify-passcode",
[2022-02-12T23:22:44.955Z]     "error": null,
[2022-02-12T23:22:44.955Z]     "result": {
[2022-02-12T23:22:44.955Z]         "isBase64Encoded": false,
[2022-02-12T23:22:44.955Z]         "statusCode": 200,
[2022-02-12T23:22:44.955Z]         "headers": {
[2022-02-12T23:22:44.955Z]             "Content-Type": "application/json"
[2022-02-12T23:22:44.956Z]         },
[2022-02-12T23:22:44.956Z]         "multiValueHeaders": {},
[2022-02-12T23:22:44.956Z]         "body": "\"OK\""
[2022-02-12T23:22:44.956Z]     }
[2022-02-12T23:22:44.956Z] }
[2022-02-12T23:22:44.956Z] "now calling callback"
[2022-02-12T23:22:44.956Z] handler called callback, sending result...
[2022-02-12T23:22:44.956Z] "Router", "request", "success", {
[2022-02-12T23:22:44.956Z]     "httpMethod": "POST",
[2022-02-12T23:22:44.956Z]     "resource": "/auth/verify-passcode",
[2022-02-12T23:22:44.957Z]     "path": "/auth/verify-passcode"
[2022-02-12T23:22:44.957Z] }
[2022-02-12T23:22:44.957Z] "promise done, calling callback"
[2022-02-12T23:22:44.957Z] handler promise resolved, sending result...
[2022-02-12T23:22:45.019Z] Received message: {"type":"execute","eventId":"TOVZkf_yC9s_vfQyFA4kl","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"50-BQ312bY0Q17S+DqUPRcvPELgLYo\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T23:22:45.019Z] Executing event TOVZkf_yC9s_vfQyFA4kl
[2022-02-12T23:22:45.019Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T23:22:45.094Z] Invoking handler function: "handler"
[2022-02-12T23:22:45.095Z] "Router", "request", "info", {
[2022-02-12T23:22:45.095Z]     "httpMethod": "GET",
[2022-02-12T23:22:45.095Z]     "resource": "/books",
[2022-02-12T23:22:45.095Z]     "path": "/books"
[2022-02-12T23:22:45.095Z] }
[2022-02-12T23:22:45.096Z] "authenticating..."
[2022-02-12T23:22:45.101Z] "handler is promise, awaiting response"
[2022-02-12T23:22:45.102Z] Waiting for handler to finish...
[2022-02-12T23:22:45.129Z] "authenticated"
[2022-02-12T23:22:45.129Z] "get books"
[2022-02-12T23:22:45.129Z] "add \"all\" option"
[2022-02-12T23:22:45.129Z] "execute"
[2022-02-12T23:22:45.138Z] "done", [
[2022-02-12T23:22:45.139Z]     {
[2022-02-12T23:22:45.139Z]         "title": "Tilda Apfelkern",
[2022-02-12T23:22:45.139Z]         "description": "some text",
[2022-02-12T23:22:45.139Z]         "slug": "tilda-apfelkern"
[2022-02-12T23:22:45.139Z]     }
[2022-02-12T23:22:45.139Z] ]
[2022-02-12T23:22:45.139Z] "Router", "request", "success", {
[2022-02-12T23:22:45.139Z]     "httpMethod": "GET",
[2022-02-12T23:22:45.140Z]     "resource": "/books",
[2022-02-12T23:22:45.140Z]     "path": "/books",
[2022-02-12T23:22:45.140Z]     "error": null,
[2022-02-12T23:22:45.140Z]     "result": {
[2022-02-12T23:22:45.140Z]         "isBase64Encoded": false,
[2022-02-12T23:22:45.140Z]         "statusCode": 200,
[2022-02-12T23:22:45.140Z]         "headers": {
[2022-02-12T23:22:45.140Z]             "Content-Type": "application/json"
[2022-02-12T23:22:45.140Z]         },
[2022-02-12T23:22:45.140Z]         "multiValueHeaders": {},
[2022-02-12T23:22:45.140Z]         "body": "[{\"title\":\"Tilda Apfelkern\",\"description\":\"some text\",\"slug\":\"tilda-apfelkern\"}]"
[2022-02-12T23:22:45.141Z]     }
[2022-02-12T23:22:45.141Z] }
[2022-02-12T23:22:45.141Z] "now calling callback"
[2022-02-12T23:22:45.141Z] handler called callback, sending result...
[2022-02-12T23:22:45.141Z] "Router", "request", "success", {
[2022-02-12T23:22:45.141Z]     "httpMethod": "GET",
[2022-02-12T23:22:45.141Z]     "resource": "/books",
[2022-02-12T23:22:45.142Z]     "path": "/books"
[2022-02-12T23:22:45.142Z] }
[2022-02-12T23:22:45.142Z] "promise done, calling callback"
[2022-02-12T23:22:45.142Z] handler promise resolved, sending result...
[2022-02-12T23:22:45.176Z] Received message: {"type":"execute","eventId":"9P8pghX9Uiwfu0DH04kB9","payload":{"event":{"isBase64Encoded":false,"path":"/books/tilda-apfelkern/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"85-OY1+Xy63WOSPom4perGH05XjXDg\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"tilda-apfelkern","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-12T23:22:45.176Z] Executing event 9P8pghX9Uiwfu0DH04kB9
[2022-02-12T23:22:45.177Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-12T23:22:45.251Z] Invoking handler function: "handler"
[2022-02-12T23:22:45.252Z] "Router", "request", "info", {
[2022-02-12T23:22:45.252Z]     "httpMethod": "GET",
[2022-02-12T23:22:45.252Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T23:22:45.252Z]     "path": "/books/tilda-apfelkern/stories"
[2022-02-12T23:22:45.252Z] }
[2022-02-12T23:22:45.253Z] "authenticating..."
[2022-02-12T23:22:45.258Z] "handler is promise, awaiting response"
[2022-02-12T23:22:45.259Z] Waiting for handler to finish...
[2022-02-12T23:22:45.296Z] "authenticated"
[2022-02-12T23:22:45.308Z] "Router", "request", "success", {
[2022-02-12T23:22:45.308Z]     "httpMethod": "GET",
[2022-02-12T23:22:45.308Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T23:22:45.309Z]     "path": "/books/tilda-apfelkern/stories",
[2022-02-12T23:22:45.309Z]     "error": null,
[2022-02-12T23:22:45.309Z]     "result": {
[2022-02-12T23:22:45.309Z]         "isBase64Encoded": false,
[2022-02-12T23:22:45.309Z]         "statusCode": 200,
[2022-02-12T23:22:45.309Z]         "headers": {
[2022-02-12T23:22:45.309Z]             "Content-Type": "application/json"
[2022-02-12T23:22:45.309Z]         },
[2022-02-12T23:22:45.309Z]         "multiValueHeaders": {},
[2022-02-12T23:22:45.310Z]         "body": "[{\"description\":\"noch so eine folge\",\"episode\":1,\"audioUrl\":\"https://google.com/mp4\",\"audioLength\":125,\"bookSlug\":\"tilda-apfelkern\"}]"
[2022-02-12T23:22:45.310Z]     }
[2022-02-12T23:22:45.310Z] }
[2022-02-12T23:22:45.310Z] "now calling callback"
[2022-02-12T23:22:45.310Z] handler called callback, sending result...
[2022-02-12T23:22:45.311Z] "Router", "request", "success", {
[2022-02-12T23:22:45.311Z]     "httpMethod": "GET",
[2022-02-12T23:22:45.311Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-12T23:22:45.311Z]     "path": "/books/tilda-apfelkern/stories"
[2022-02-12T23:22:45.311Z] }
[2022-02-12T23:22:45.311Z] "promise done, calling callback"
[2022-02-12T23:22:45.311Z] handler promise resolved, sending result...
[2022-02-13T10:37:52.235Z] Received message: {"type":"execute","eventId":"n8OUnEib-zoDN-9fDZAel","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPad; CPU OS 13_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/87.0.4280.77 Mobile/15E148 Safari/604.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T10:37:52.240Z] Executing event n8OUnEib-zoDN-9fDZAel
[2022-02-13T10:37:52.240Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T10:37:52.398Z] Invoking handler function: "handler"
[2022-02-13T10:37:52.398Z] "Router", "request", "info", {
[2022-02-13T10:37:52.398Z]     "httpMethod": "POST",
[2022-02-13T10:37:52.399Z]     "resource": "/auth/verify-passcode",
[2022-02-13T10:37:52.399Z]     "path": "/auth/verify-passcode"
[2022-02-13T10:37:52.399Z] }
[2022-02-13T10:37:52.399Z] "authenticating..."
[2022-02-13T10:37:52.406Z] "handler is promise, awaiting response"
[2022-02-13T10:37:52.407Z] Waiting for handler to finish...
[2022-02-13T10:37:52.454Z] "authenticated"
[2022-02-13T10:37:52.454Z] "Router", "request", "success", {
[2022-02-13T10:37:52.454Z]     "httpMethod": "POST",
[2022-02-13T10:37:52.454Z]     "resource": "/auth/verify-passcode",
[2022-02-13T10:37:52.454Z]     "path": "/auth/verify-passcode",
[2022-02-13T10:37:52.454Z]     "error": null,
[2022-02-13T10:37:52.454Z]     "result": {
[2022-02-13T10:37:52.455Z]         "isBase64Encoded": false,
[2022-02-13T10:37:52.455Z]         "statusCode": 200,
[2022-02-13T10:37:52.455Z]         "headers": {
[2022-02-13T10:37:52.455Z]             "Content-Type": "application/json"
[2022-02-13T10:37:52.455Z]         },
[2022-02-13T10:37:52.455Z]         "multiValueHeaders": {},
[2022-02-13T10:37:52.456Z]         "body": "\"OK\""
[2022-02-13T10:37:52.456Z]     }
[2022-02-13T10:37:52.456Z] }
[2022-02-13T10:37:52.456Z] "now calling callback"
[2022-02-13T10:37:52.456Z] handler called callback, sending result...
[2022-02-13T10:37:52.456Z] "Router", "request", "success", {
[2022-02-13T10:37:52.457Z]     "httpMethod": "POST",
[2022-02-13T10:37:52.457Z]     "resource": "/auth/verify-passcode",
[2022-02-13T10:37:52.457Z]     "path": "/auth/verify-passcode"
[2022-02-13T10:37:52.457Z] }
[2022-02-13T10:37:52.457Z] "promise done, calling callback"
[2022-02-13T10:37:52.457Z] handler promise resolved, sending result...
[2022-02-13T10:37:52.507Z] Received message: {"type":"execute","eventId":"2kqIQJWzYMYedbnt2kIbP","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPad; CPU OS 13_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/87.0.4280.77 Mobile/15E148 Safari/604.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"50-BQ312bY0Q17S+DqUPRcvPELgLYo\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T10:37:52.508Z] Executing event 2kqIQJWzYMYedbnt2kIbP
[2022-02-13T10:37:52.508Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T10:37:52.583Z] Invoking handler function: "handler"
[2022-02-13T10:37:52.583Z] "Router", "request", "info", {
[2022-02-13T10:37:52.583Z]     "httpMethod": "GET",
[2022-02-13T10:37:52.584Z]     "resource": "/books",
[2022-02-13T10:37:52.584Z]     "path": "/books"
[2022-02-13T10:37:52.584Z] }
[2022-02-13T10:37:52.584Z] "authenticating..."
[2022-02-13T10:37:52.590Z] "handler is promise, awaiting response"
[2022-02-13T10:37:52.590Z] Waiting for handler to finish...
[2022-02-13T10:37:52.614Z] "authenticated"
[2022-02-13T10:37:52.614Z] "get books"
[2022-02-13T10:37:52.614Z] "add \"all\" option"
[2022-02-13T10:37:52.614Z] "execute"
[2022-02-13T10:37:52.631Z] "done", [
[2022-02-13T10:37:52.631Z]     {
[2022-02-13T10:37:52.631Z]         "title": "Tilda Apfelkern",
[2022-02-13T10:37:52.631Z]         "description": "some text",
[2022-02-13T10:37:52.632Z]         "slug": "tilda-apfelkern"
[2022-02-13T10:37:52.632Z]     }
[2022-02-13T10:37:52.632Z] ]
[2022-02-13T10:37:52.632Z] "Router", "request", "success", {
[2022-02-13T10:37:52.632Z]     "httpMethod": "GET",
[2022-02-13T10:37:52.632Z]     "resource": "/books",
[2022-02-13T10:37:52.632Z]     "path": "/books",
[2022-02-13T10:37:52.633Z]     "error": null,
[2022-02-13T10:37:52.633Z]     "result": {
[2022-02-13T10:37:52.633Z]         "isBase64Encoded": false,
[2022-02-13T10:37:52.633Z]         "statusCode": 200,
[2022-02-13T10:37:52.633Z]         "headers": {
[2022-02-13T10:37:52.633Z]             "Content-Type": "application/json"
[2022-02-13T10:37:52.633Z]         },
[2022-02-13T10:37:52.633Z]         "multiValueHeaders": {},
[2022-02-13T10:37:52.633Z]         "body": "[{\"title\":\"Tilda Apfelkern\",\"description\":\"some text\",\"slug\":\"tilda-apfelkern\"}]"
[2022-02-13T10:37:52.633Z]     }
[2022-02-13T10:37:52.633Z] }
[2022-02-13T10:37:52.634Z] "now calling callback"
[2022-02-13T10:37:52.634Z] handler called callback, sending result...
[2022-02-13T10:37:52.634Z] "Router", "request", "success", {
[2022-02-13T10:37:52.634Z]     "httpMethod": "GET",
[2022-02-13T10:37:52.634Z]     "resource": "/books",
[2022-02-13T10:37:52.634Z]     "path": "/books"
[2022-02-13T10:37:52.634Z] }
[2022-02-13T10:37:52.634Z] "promise done, calling callback"
[2022-02-13T10:37:52.634Z] handler promise resolved, sending result...
[2022-02-13T10:37:52.664Z] Received message: {"type":"execute","eventId":"4O_tShcEohtJUkfGnPsDK","payload":{"event":{"isBase64Encoded":false,"path":"/books/tilda-apfelkern/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPad; CPU OS 13_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/87.0.4280.77 Mobile/15E148 Safari/604.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"85-OY1+Xy63WOSPom4perGH05XjXDg\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"tilda-apfelkern","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T10:37:52.665Z] Executing event 4O_tShcEohtJUkfGnPsDK
[2022-02-13T10:37:52.665Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T10:37:52.740Z] Invoking handler function: "handler"
[2022-02-13T10:37:52.740Z] "Router", "request", "info", {
[2022-02-13T10:37:52.741Z]     "httpMethod": "GET",
[2022-02-13T10:37:52.741Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T10:37:52.741Z]     "path": "/books/tilda-apfelkern/stories"
[2022-02-13T10:37:52.741Z] }
[2022-02-13T10:37:52.741Z] "authenticating..."
[2022-02-13T10:37:52.747Z] "handler is promise, awaiting response"
[2022-02-13T10:37:52.747Z] Waiting for handler to finish...
[2022-02-13T10:37:52.769Z] "authenticated"
[2022-02-13T10:37:52.788Z] "Router", "request", "success", {
[2022-02-13T10:37:52.788Z]     "httpMethod": "GET",
[2022-02-13T10:37:52.788Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T10:37:52.788Z]     "path": "/books/tilda-apfelkern/stories",
[2022-02-13T10:37:52.788Z]     "error": null,
[2022-02-13T10:37:52.789Z]     "result": {
[2022-02-13T10:37:52.789Z]         "isBase64Encoded": false,
[2022-02-13T10:37:52.789Z]         "statusCode": 200,
[2022-02-13T10:37:52.789Z]         "headers": {
[2022-02-13T10:37:52.789Z]             "Content-Type": "application/json"
[2022-02-13T10:37:52.789Z]         },
[2022-02-13T10:37:52.789Z]         "multiValueHeaders": {},
[2022-02-13T10:37:52.789Z]         "body": "[{\"description\":\"noch so eine folge\",\"episode\":1,\"audioUrl\":\"https://google.com/mp4\",\"audioLength\":125,\"bookSlug\":\"tilda-apfelkern\"}]"
[2022-02-13T10:37:52.789Z]     }
[2022-02-13T10:37:52.790Z] }
[2022-02-13T10:37:52.790Z] "now calling callback"
[2022-02-13T10:37:52.790Z] handler called callback, sending result...
[2022-02-13T10:37:52.790Z] "Router", "request", "success", {
[2022-02-13T10:37:52.790Z]     "httpMethod": "GET",
[2022-02-13T10:37:52.791Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T10:37:52.791Z]     "path": "/books/tilda-apfelkern/stories"
[2022-02-13T10:37:52.791Z] }
[2022-02-13T10:37:52.791Z] "promise done, calling callback"
[2022-02-13T10:37:52.791Z] handler promise resolved, sending result...
[2022-02-13T10:48:31.756Z] Received message: {"type":"execute","eventId":"4RXwhGHJUM-3jEIkQtYng","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T10:48:31.757Z] Executing event 4RXwhGHJUM-3jEIkQtYng
[2022-02-13T10:48:31.757Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T10:48:31.885Z] Invoking handler function: "handler"
[2022-02-13T10:48:31.885Z] "Router", "request", "info", {
[2022-02-13T10:48:31.885Z]     "httpMethod": "POST",
[2022-02-13T10:48:31.885Z]     "resource": "/auth/verify-passcode",
[2022-02-13T10:48:31.885Z]     "path": "/auth/verify-passcode"
[2022-02-13T10:48:31.885Z] }
[2022-02-13T10:48:31.886Z] "authenticating..."
[2022-02-13T10:48:31.894Z] "handler is promise, awaiting response"
[2022-02-13T10:48:31.894Z] Waiting for handler to finish...
[2022-02-13T10:48:31.894Z] Received message: {"type":"execute","eventId":"ziHUhuk25SInHYdpM9vI9","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"50-BQ312bY0Q17S+DqUPRcvPELgLYo\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T10:48:31.894Z] Executing event ziHUhuk25SInHYdpM9vI9
[2022-02-13T10:48:31.894Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T10:48:31.895Z] Invoking handler function: "handler"
[2022-02-13T10:48:31.895Z] "Router", "request", "info", {
[2022-02-13T10:48:31.895Z]     "httpMethod": "GET",
[2022-02-13T10:48:31.895Z]     "resource": "/books",
[2022-02-13T10:48:31.895Z]     "path": "/books"
[2022-02-13T10:48:31.895Z] }
[2022-02-13T10:48:31.895Z] "authenticating..."
[2022-02-13T10:48:31.895Z] "handler is promise, awaiting response"
[2022-02-13T10:48:31.895Z] Waiting for handler to finish...
[2022-02-13T10:48:31.925Z] "authenticated"
[2022-02-13T10:48:31.926Z] "Router", "request", "success", {
[2022-02-13T10:48:31.926Z]     "httpMethod": "POST",
[2022-02-13T10:48:31.926Z]     "resource": "/auth/verify-passcode",
[2022-02-13T10:48:31.926Z]     "path": "/auth/verify-passcode",
[2022-02-13T10:48:31.926Z]     "error": null,
[2022-02-13T10:48:31.926Z]     "result": {
[2022-02-13T10:48:31.926Z]         "isBase64Encoded": false,
[2022-02-13T10:48:31.926Z]         "statusCode": 200,
[2022-02-13T10:48:31.926Z]         "headers": {
[2022-02-13T10:48:31.926Z]             "Content-Type": "application/json"
[2022-02-13T10:48:31.927Z]         },
[2022-02-13T10:48:31.927Z]         "multiValueHeaders": {},
[2022-02-13T10:48:31.927Z]         "body": "\"OK\""
[2022-02-13T10:48:31.927Z]     }
[2022-02-13T10:48:31.927Z] }
[2022-02-13T10:48:31.927Z] "now calling callback"
[2022-02-13T10:48:31.927Z] handler called callback, sending result...
[2022-02-13T10:48:31.927Z] "Router", "request", "success", {
[2022-02-13T10:48:31.928Z]     "httpMethod": "POST",
[2022-02-13T10:48:31.928Z]     "resource": "/auth/verify-passcode",
[2022-02-13T10:48:31.928Z]     "path": "/auth/verify-passcode"
[2022-02-13T10:48:31.928Z] }
[2022-02-13T10:48:31.928Z] "promise done, calling callback"
[2022-02-13T10:48:31.928Z] handler promise resolved, sending result...
[2022-02-13T10:48:31.941Z] "authenticated"
[2022-02-13T10:48:31.942Z] "get books"
[2022-02-13T10:48:31.942Z] "add \"all\" option"
[2022-02-13T10:48:31.942Z] "execute"
[2022-02-13T10:48:31.952Z] "done", [
[2022-02-13T10:48:31.952Z]     {
[2022-02-13T10:48:31.952Z]         "title": "Tilda Apfelkern",
[2022-02-13T10:48:31.952Z]         "description": "some text",
[2022-02-13T10:48:31.952Z]         "slug": "tilda-apfelkern"
[2022-02-13T10:48:31.953Z]     }
[2022-02-13T10:48:31.953Z] ]
[2022-02-13T10:48:31.953Z] "Router", "request", "success", {
[2022-02-13T10:48:31.953Z]     "httpMethod": "GET",
[2022-02-13T10:48:31.953Z]     "resource": "/books",
[2022-02-13T10:48:31.953Z]     "path": "/books",
[2022-02-13T10:48:31.953Z]     "error": null,
[2022-02-13T10:48:31.954Z]     "result": {
[2022-02-13T10:48:31.954Z]         "isBase64Encoded": false,
[2022-02-13T10:48:31.954Z]         "statusCode": 200,
[2022-02-13T10:48:31.954Z]         "headers": {
[2022-02-13T10:48:31.954Z]             "Content-Type": "application/json"
[2022-02-13T10:48:31.954Z]         },
[2022-02-13T10:48:31.954Z]         "multiValueHeaders": {},
[2022-02-13T10:48:31.954Z]         "body": "[{\"title\":\"Tilda Apfelkern\",\"description\":\"some text\",\"slug\":\"tilda-apfelkern\"}]"
[2022-02-13T10:48:31.954Z]     }
[2022-02-13T10:48:31.954Z] }
[2022-02-13T10:48:31.954Z] "now calling callback"
[2022-02-13T10:48:31.954Z] handler called callback, sending result...
[2022-02-13T10:48:31.955Z] "Router", "request", "success", {
[2022-02-13T10:48:31.955Z]     "httpMethod": "GET",
[2022-02-13T10:48:31.955Z]     "resource": "/books",
[2022-02-13T10:48:31.955Z]     "path": "/books"
[2022-02-13T10:48:31.955Z] }
[2022-02-13T10:48:31.955Z] "promise done, calling callback"
[2022-02-13T10:48:31.955Z] handler promise resolved, sending result...
[2022-02-13T10:48:31.987Z] Received message: {"type":"execute","eventId":"fvL3lwPzt2tbhe7PXgbZb","payload":{"event":{"isBase64Encoded":false,"path":"/books/tilda-apfelkern/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"85-OY1+Xy63WOSPom4perGH05XjXDg\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"tilda-apfelkern","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T10:48:31.987Z] Executing event fvL3lwPzt2tbhe7PXgbZb
[2022-02-13T10:48:31.987Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T10:48:32.062Z] Invoking handler function: "handler"
[2022-02-13T10:48:32.062Z] "Router", "request", "info", {
[2022-02-13T10:48:32.063Z]     "httpMethod": "GET",
[2022-02-13T10:48:32.063Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T10:48:32.063Z]     "path": "/books/tilda-apfelkern/stories"
[2022-02-13T10:48:32.063Z] }
[2022-02-13T10:48:32.063Z] "authenticating..."
[2022-02-13T10:48:32.069Z] "handler is promise, awaiting response"
[2022-02-13T10:48:32.070Z] Waiting for handler to finish...
[2022-02-13T10:48:32.103Z] "authenticated"
[2022-02-13T10:48:32.117Z] "Router", "request", "success", {
[2022-02-13T10:48:32.118Z]     "httpMethod": "GET",
[2022-02-13T10:48:32.118Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T10:48:32.118Z]     "path": "/books/tilda-apfelkern/stories",
[2022-02-13T10:48:32.118Z]     "error": null,
[2022-02-13T10:48:32.118Z]     "result": {
[2022-02-13T10:48:32.118Z]         "isBase64Encoded": false,
[2022-02-13T10:48:32.118Z]         "statusCode": 200,
[2022-02-13T10:48:32.118Z]         "headers": {
[2022-02-13T10:48:32.118Z]             "Content-Type": "application/json"
[2022-02-13T10:48:32.118Z]         },
[2022-02-13T10:48:32.118Z]         "multiValueHeaders": {},
[2022-02-13T10:48:32.119Z]         "body": "[{\"description\":\"noch so eine folge\",\"episode\":1,\"audioUrl\":\"https://google.com/mp4\",\"audioLength\":125,\"bookSlug\":\"tilda-apfelkern\"}]"
[2022-02-13T10:48:32.119Z]     }
[2022-02-13T10:48:32.119Z] }
[2022-02-13T10:48:32.119Z] "now calling callback"
[2022-02-13T10:48:32.119Z] handler called callback, sending result...
[2022-02-13T10:48:32.120Z] "Router", "request", "success", {
[2022-02-13T10:48:32.120Z]     "httpMethod": "GET",
[2022-02-13T10:48:32.121Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T10:48:32.121Z]     "path": "/books/tilda-apfelkern/stories"
[2022-02-13T10:48:32.121Z] }
[2022-02-13T10:48:32.121Z] "promise done, calling callback"
[2022-02-13T10:48:32.121Z] handler promise resolved, sending result...
[2022-02-13T11:04:23.053Z] Received message: {"type":"execute","eventId":"xXijFqyPKKohDmIXGzDzl","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:04:23.053Z] Executing event xXijFqyPKKohDmIXGzDzl
[2022-02-13T11:04:23.054Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:04:23.153Z] Invoking handler function: "handler"
[2022-02-13T11:04:23.153Z] "Router", "request", "info", {
[2022-02-13T11:04:23.153Z]     "httpMethod": "POST",
[2022-02-13T11:04:23.153Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:04:23.154Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:04:23.154Z] }
[2022-02-13T11:04:23.154Z] "authenticating..."
[2022-02-13T11:04:23.160Z] "handler is promise, awaiting response"
[2022-02-13T11:04:23.161Z] Waiting for handler to finish...
[2022-02-13T11:04:23.206Z] "authenticated"
[2022-02-13T11:04:23.207Z] "Router", "request", "success", {
[2022-02-13T11:04:23.207Z]     "httpMethod": "POST",
[2022-02-13T11:04:23.207Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:04:23.208Z]     "path": "/auth/verify-passcode",
[2022-02-13T11:04:23.208Z]     "error": null,
[2022-02-13T11:04:23.208Z]     "result": {
[2022-02-13T11:04:23.208Z]         "isBase64Encoded": false,
[2022-02-13T11:04:23.208Z]         "statusCode": 200,
[2022-02-13T11:04:23.208Z]         "headers": {
[2022-02-13T11:04:23.208Z]             "Content-Type": "application/json"
[2022-02-13T11:04:23.208Z]         },
[2022-02-13T11:04:23.208Z]         "multiValueHeaders": {},
[2022-02-13T11:04:23.209Z]         "body": "\"OK\""
[2022-02-13T11:04:23.209Z]     }
[2022-02-13T11:04:23.209Z] }
[2022-02-13T11:04:23.209Z] "now calling callback"
[2022-02-13T11:04:23.209Z] handler called callback, sending result...
[2022-02-13T11:04:23.209Z] "Router", "request", "success", {
[2022-02-13T11:04:23.209Z]     "httpMethod": "POST",
[2022-02-13T11:04:23.210Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:04:23.210Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:04:23.210Z] }
[2022-02-13T11:04:23.210Z] "promise done, calling callback"
[2022-02-13T11:04:23.210Z] handler promise resolved, sending result...
[2022-02-13T11:04:23.263Z] Received message: {"type":"execute","eventId":"fL-K-UcPZInySZ1djLiQU","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"50-BQ312bY0Q17S+DqUPRcvPELgLYo\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:04:23.263Z] Executing event fL-K-UcPZInySZ1djLiQU
[2022-02-13T11:04:23.264Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:04:23.342Z] Invoking handler function: "handler"
[2022-02-13T11:04:23.343Z] "Router", "request", "info", {
[2022-02-13T11:04:23.343Z]     "httpMethod": "GET",
[2022-02-13T11:04:23.343Z]     "resource": "/books",
[2022-02-13T11:04:23.343Z]     "path": "/books"
[2022-02-13T11:04:23.343Z] }
[2022-02-13T11:04:23.343Z] "authenticating..."
[2022-02-13T11:04:23.349Z] "handler is promise, awaiting response"
[2022-02-13T11:04:23.349Z] Waiting for handler to finish...
[2022-02-13T11:04:23.419Z] "authenticated"
[2022-02-13T11:04:23.420Z] "get books"
[2022-02-13T11:04:23.420Z] "add \"all\" option"
[2022-02-13T11:04:23.420Z] "execute"
[2022-02-13T11:04:23.445Z] "done", []
[2022-02-13T11:04:23.445Z] "Router", "request", "success", {
[2022-02-13T11:04:23.445Z]     "httpMethod": "GET",
[2022-02-13T11:04:23.446Z]     "resource": "/books",
[2022-02-13T11:04:23.446Z]     "path": "/books",
[2022-02-13T11:04:23.446Z]     "error": null,
[2022-02-13T11:04:23.446Z]     "result": {
[2022-02-13T11:04:23.446Z]         "isBase64Encoded": false,
[2022-02-13T11:04:23.446Z]         "statusCode": 200,
[2022-02-13T11:04:23.446Z]         "headers": {
[2022-02-13T11:04:23.446Z]             "Content-Type": "application/json"
[2022-02-13T11:04:23.446Z]         },
[2022-02-13T11:04:23.447Z]         "multiValueHeaders": {},
[2022-02-13T11:04:23.447Z]         "body": "[]"
[2022-02-13T11:04:23.447Z]     }
[2022-02-13T11:04:23.447Z] }
[2022-02-13T11:04:23.447Z] "now calling callback"
[2022-02-13T11:04:23.447Z] handler called callback, sending result...
[2022-02-13T11:04:23.447Z] "Router", "request", "success", {
[2022-02-13T11:04:23.447Z]     "httpMethod": "GET",
[2022-02-13T11:04:23.447Z]     "resource": "/books",
[2022-02-13T11:04:23.448Z]     "path": "/books"
[2022-02-13T11:04:23.448Z] }
[2022-02-13T11:04:23.448Z] "promise done, calling callback"
[2022-02-13T11:04:23.448Z] handler promise resolved, sending result...
[2022-02-13T11:04:36.473Z] Received message: {"type":"execute","eventId":"MiHRpbVOVozc_aPWArcj3","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"70","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\"}","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:04:36.473Z] Executing event MiHRpbVOVozc_aPWArcj3
[2022-02-13T11:04:36.474Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:04:36.559Z] Invoking handler function: "handler"
[2022-02-13T11:04:36.559Z] "Router", "request", "info", {
[2022-02-13T11:04:36.560Z]     "httpMethod": "POST",
[2022-02-13T11:04:36.560Z]     "resource": "/books",
[2022-02-13T11:04:36.560Z]     "path": "/books"
[2022-02-13T11:04:36.560Z] }
[2022-02-13T11:04:36.560Z] "authenticating..."
[2022-02-13T11:04:36.566Z] "handler is promise, awaiting response"
[2022-02-13T11:04:36.567Z] Waiting for handler to finish...
[2022-02-13T11:04:36.703Z] "authenticated"
[2022-02-13T11:04:36.711Z] {
[2022-02-13T11:04:36.711Z]     "errorResponse": {
[2022-02-13T11:04:36.711Z]         "isBase64Encoded": false,
[2022-02-13T11:04:36.711Z]         "statusCode": 500,
[2022-02-13T11:04:36.711Z]         "headers": {
[2022-02-13T11:04:36.711Z]             "Content-Type": "application/json"
[2022-02-13T11:04:36.711Z]         },
[2022-02-13T11:04:36.711Z]         "multiValueHeaders": {},
[2022-02-13T11:04:36.712Z]         "body": "{\"error\":\"(0 , slug_1.default) is not a function\"}"
[2022-02-13T11:04:36.712Z]     },
[2022-02-13T11:04:36.712Z]     "originalError": {
[2022-02-13T11:04:36.712Z]         "name": "TypeError",
[2022-02-13T11:04:36.712Z]         "message": "(0 , slug_1.default) is not a function",
[2022-02-13T11:04:36.712Z]         "stack": "TypeError: (0 , slug_1.default) is not a function\n    at /Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/webpack:/bobs-bedtime-stories/apps/backend/api/src/handlers/books.post.ts:10:24\n    at Generator.next (<anonymous>)\n    at /Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:117:75\n    at new Promise (<anonymous>)\n    at __awaiter (/Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:113:16)\n    at /Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/webpack:/bobs-bedtime-stories/apps/backend/api/src/handlers/books.post.ts:7:56\n    at /Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/webpack:/bobs-bedtime-stories/apps/backend/api/src/utils/wrap-api-handler.ts:11:12\n    at Generator.next (<anonymous>)\n    at fulfilled (/Users/jappy/code/bobs-bedtime-stories/node_modules/tslib/tslib.js:114:62)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)",
[2022-02-13T11:04:36.713Z]         "httpStatusCode": "not-given"
[2022-02-13T11:04:36.713Z]     }
[2022-02-13T11:04:36.713Z] }
[2022-02-13T11:04:36.713Z] "Router", "request", "success", {
[2022-02-13T11:04:36.713Z]     "httpMethod": "POST",
[2022-02-13T11:04:36.713Z]     "resource": "/books",
[2022-02-13T11:04:36.713Z]     "path": "/books",
[2022-02-13T11:04:36.713Z]     "error": null,
[2022-02-13T11:04:36.714Z]     "result": {
[2022-02-13T11:04:36.714Z]         "isBase64Encoded": false,
[2022-02-13T11:04:36.714Z]         "statusCode": 500,
[2022-02-13T11:04:36.714Z]         "headers": {
[2022-02-13T11:04:36.714Z]             "Content-Type": "application/json"
[2022-02-13T11:04:36.714Z]         },
[2022-02-13T11:04:36.714Z]         "multiValueHeaders": {},
[2022-02-13T11:04:36.714Z]         "body": "{\"error\":\"(0 , slug_1.default) is not a function\"}"
[2022-02-13T11:04:36.714Z]     }
[2022-02-13T11:04:36.714Z] }
[2022-02-13T11:04:36.714Z] "now calling callback"
[2022-02-13T11:04:36.715Z] handler called callback, sending result...
[2022-02-13T11:04:36.715Z] "Router", "request", "success", {
[2022-02-13T11:04:36.715Z]     "httpMethod": "POST",
[2022-02-13T11:04:36.715Z]     "resource": "/books",
[2022-02-13T11:04:36.715Z]     "path": "/books"
[2022-02-13T11:04:36.715Z] }
[2022-02-13T11:04:36.715Z] "promise done, calling callback"
[2022-02-13T11:04:36.715Z] handler promise resolved, sending result...
[2022-02-13T11:05:02.570Z] Received message: {"type":"execute","eventId":"kQs2PhED1b1lw0U2bIoJI","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"70","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\"}","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:05:02.571Z] Executing event kQs2PhED1b1lw0U2bIoJI
[2022-02-13T11:05:02.571Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:05:02.697Z] Invoking handler function: "handler"
[2022-02-13T11:05:02.697Z] "Router", "request", "info", {
[2022-02-13T11:05:02.697Z]     "httpMethod": "POST",
[2022-02-13T11:05:02.697Z]     "resource": "/books",
[2022-02-13T11:05:02.698Z]     "path": "/books"
[2022-02-13T11:05:02.698Z] }
[2022-02-13T11:05:02.698Z] "authenticating..."
[2022-02-13T11:05:02.705Z] "handler is promise, awaiting response"
[2022-02-13T11:05:02.705Z] Waiting for handler to finish...
[2022-02-13T11:05:02.752Z] "authenticated"
[2022-02-13T11:05:02.778Z] {
[2022-02-13T11:05:02.778Z]     "errorResponse": {
[2022-02-13T11:05:02.778Z]         "isBase64Encoded": false,
[2022-02-13T11:05:02.778Z]         "statusCode": 500,
[2022-02-13T11:05:02.778Z]         "headers": {
[2022-02-13T11:05:02.779Z]             "Content-Type": "application/json"
[2022-02-13T11:05:02.779Z]         },
[2022-02-13T11:05:02.779Z]         "multiValueHeaders": {},
[2022-02-13T11:05:02.779Z]         "body": "{\"error\":\"coverImageUrl is a required property but has no value when trying to save document\"}"
[2022-02-13T11:05:02.779Z]     },
[2022-02-13T11:05:02.779Z]     "originalError": {
[2022-02-13T11:05:02.779Z]         "name": "ValidationError",
[2022-02-13T11:05:02.779Z]         "message": "coverImageUrl is a required property but has no value when trying to save document",
[2022-02-13T11:05:02.780Z]         "stack": "ValidationError: coverImageUrl is a required property but has no value when trying to save document\n    at Schema.requiredCheck (/Users/jappy/code/bobs-bedtime-stories/node_modules/dynamoose/lib/Schema.ts:654:9)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at check (/Users/jappy/code/bobs-bedtime-stories/node_modules/dynamoose/lib/Document.ts:476:5)\n    at /Users/jappy/code/bobs-bedtime-stories/node_modules/dynamoose/lib/Document.ts:488:5\n    at async Promise.all (index 3)\n    at Function.Document.objectFromSchema (/Users/jappy/code/bobs-bedtime-stories/node_modules/dynamoose/lib/Document.ts:473:3)\n    at Document.toDynamo (/Users/jappy/code/bobs-bedtime-stories/node_modules/dynamoose/lib/Document.ts:513:17)\n    at async Promise.all (index 0)\n    at /Users/jappy/code/bobs-bedtime-stories/node_modules/dynamoose/lib/Document.ts:197:5",
[2022-02-13T11:05:02.780Z]         "httpStatusCode": "not-given"
[2022-02-13T11:05:02.780Z]     }
[2022-02-13T11:05:02.780Z] }
[2022-02-13T11:05:02.780Z] "Router", "request", "success", {
[2022-02-13T11:05:02.780Z]     "httpMethod": "POST",
[2022-02-13T11:05:02.780Z]     "resource": "/books",
[2022-02-13T11:05:02.780Z]     "path": "/books",
[2022-02-13T11:05:02.780Z]     "error": null,
[2022-02-13T11:05:02.781Z]     "result": {
[2022-02-13T11:05:02.781Z]         "isBase64Encoded": false,
[2022-02-13T11:05:02.781Z]         "statusCode": 500,
[2022-02-13T11:05:02.781Z]         "headers": {
[2022-02-13T11:05:02.781Z]             "Content-Type": "application/json"
[2022-02-13T11:05:02.781Z]         },
[2022-02-13T11:05:02.781Z]         "multiValueHeaders": {},
[2022-02-13T11:05:02.781Z]         "body": "{\"error\":\"coverImageUrl is a required property but has no value when trying to save document\"}"
[2022-02-13T11:05:02.781Z]     }
[2022-02-13T11:05:02.782Z] }
[2022-02-13T11:05:02.782Z] "now calling callback"
[2022-02-13T11:05:02.782Z] handler called callback, sending result...
[2022-02-13T11:05:02.782Z] "Router", "request", "success", {
[2022-02-13T11:05:02.782Z]     "httpMethod": "POST",
[2022-02-13T11:05:02.782Z]     "resource": "/books",
[2022-02-13T11:05:02.782Z]     "path": "/books"
[2022-02-13T11:05:02.783Z] }
[2022-02-13T11:05:02.783Z] "promise done, calling callback"
[2022-02-13T11:05:02.783Z] handler promise resolved, sending result...
[2022-02-13T11:05:17.294Z] Received message: {"type":"execute","eventId":"GXmVLeAOfX8p78zSY0_Iz","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"70","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\"}","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:05:17.294Z] Executing event GXmVLeAOfX8p78zSY0_Iz
[2022-02-13T11:05:17.294Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:05:17.423Z] Invoking handler function: "handler"
[2022-02-13T11:05:17.423Z] "Router", "request", "info", {
[2022-02-13T11:05:17.426Z]     "httpMethod": "POST",
[2022-02-13T11:05:17.426Z]     "resource": "/books",
[2022-02-13T11:05:17.426Z]     "path": "/books"
[2022-02-13T11:05:17.427Z] }
[2022-02-13T11:05:17.427Z] "authenticating..."
[2022-02-13T11:05:17.431Z] "handler is promise, awaiting response"
[2022-02-13T11:05:17.432Z] Waiting for handler to finish...
[2022-02-13T11:05:17.472Z] "authenticated"
[2022-02-13T11:05:17.567Z] "Router", "request", "success", {
[2022-02-13T11:05:17.567Z]     "httpMethod": "POST",
[2022-02-13T11:05:17.567Z]     "resource": "/books",
[2022-02-13T11:05:17.567Z]     "path": "/books",
[2022-02-13T11:05:17.567Z]     "error": null,
[2022-02-13T11:05:17.567Z]     "result": {
[2022-02-13T11:05:17.568Z]         "isBase64Encoded": false,
[2022-02-13T11:05:17.568Z]         "statusCode": 200,
[2022-02-13T11:05:17.568Z]         "headers": {
[2022-02-13T11:05:17.568Z]             "Content-Type": "application/json"
[2022-02-13T11:05:17.569Z]         },
[2022-02-13T11:05:17.569Z]         "multiValueHeaders": {},
[2022-02-13T11:05:17.569Z]         "body": "{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\",\"slug\":\"jan-findet-freunde\"}"
[2022-02-13T11:05:17.569Z]     }
[2022-02-13T11:05:17.569Z] }
[2022-02-13T11:05:17.569Z] "now calling callback"
[2022-02-13T11:05:17.569Z] handler called callback, sending result...
[2022-02-13T11:05:17.569Z] "Router", "request", "success", {
[2022-02-13T11:05:17.570Z]     "httpMethod": "POST",
[2022-02-13T11:05:17.570Z]     "resource": "/books",
[2022-02-13T11:05:17.570Z]     "path": "/books"
[2022-02-13T11:05:17.570Z] }
[2022-02-13T11:05:17.570Z] "promise done, calling callback"
[2022-02-13T11:05:17.570Z] handler promise resolved, sending result...
[2022-02-13T11:06:01.664Z] Received message: {"type":"execute","eventId":"aBHfglnW7u2JjDqAt5Z0c","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:06:01.665Z] Executing event aBHfglnW7u2JjDqAt5Z0c
[2022-02-13T11:06:01.665Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:06:01.814Z] Invoking handler function: "handler"
[2022-02-13T11:06:01.815Z] "Router", "request", "info", {
[2022-02-13T11:06:01.815Z]     "httpMethod": "POST",
[2022-02-13T11:06:01.815Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:06:01.815Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:06:01.815Z] }
[2022-02-13T11:06:01.815Z] "authenticating..."
[2022-02-13T11:06:01.848Z] "handler is promise, awaiting response"
[2022-02-13T11:06:01.848Z] Waiting for handler to finish...
[2022-02-13T11:06:01.860Z] Received message: {"type":"execute","eventId":"p13pNYYtgNDCwKJpSWSWk","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:06:01.860Z] Executing event p13pNYYtgNDCwKJpSWSWk
[2022-02-13T11:06:01.860Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:06:01.865Z] Invoking handler function: "handler"
[2022-02-13T11:06:01.865Z] "Router", "request", "info", {
[2022-02-13T11:06:01.865Z]     "httpMethod": "GET",
[2022-02-13T11:06:01.865Z]     "resource": "/books",
[2022-02-13T11:06:01.865Z]     "path": "/books"
[2022-02-13T11:06:01.865Z] }
[2022-02-13T11:06:01.865Z] "authenticating..."
[2022-02-13T11:06:01.866Z] "handler is promise, awaiting response"
[2022-02-13T11:06:01.866Z] Waiting for handler to finish...
[2022-02-13T11:06:01.923Z] "authenticated"
[2022-02-13T11:06:01.925Z] "get books"
[2022-02-13T11:06:01.926Z] "add \"all\" option"
[2022-02-13T11:06:01.927Z] "execute"
[2022-02-13T11:06:01.929Z] "authenticated"
[2022-02-13T11:06:01.930Z] "Router", "request", "success", {
[2022-02-13T11:06:01.931Z]     "httpMethod": "POST",
[2022-02-13T11:06:01.931Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:06:01.931Z]     "path": "/auth/verify-passcode",
[2022-02-13T11:06:01.931Z]     "error": null,
[2022-02-13T11:06:01.931Z]     "result": {
[2022-02-13T11:06:01.931Z]         "isBase64Encoded": false,
[2022-02-13T11:06:01.931Z]         "statusCode": 200,
[2022-02-13T11:06:01.932Z]         "headers": {
[2022-02-13T11:06:01.932Z]             "Content-Type": "application/json"
[2022-02-13T11:06:01.932Z]         },
[2022-02-13T11:06:01.933Z]         "multiValueHeaders": {},
[2022-02-13T11:06:01.933Z]         "body": "\"OK\""
[2022-02-13T11:06:01.933Z]     }
[2022-02-13T11:06:01.933Z] }
[2022-02-13T11:06:01.933Z] "now calling callback"
[2022-02-13T11:06:01.934Z] handler called callback, sending result...
[2022-02-13T11:06:01.934Z] "Router", "request", "success", {
[2022-02-13T11:06:01.934Z]     "httpMethod": "POST",
[2022-02-13T11:06:01.935Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:06:01.935Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:06:01.935Z] }
[2022-02-13T11:06:01.936Z] "promise done, calling callback"
[2022-02-13T11:06:01.936Z] handler promise resolved, sending result...
[2022-02-13T11:06:01.955Z] "done", [
[2022-02-13T11:06:01.956Z]     {
[2022-02-13T11:06:01.956Z]         "title": "Jan findet freunde",
[2022-02-13T11:06:01.956Z]         "description": "Der titel sagt alles...",
[2022-02-13T11:06:01.956Z]         "slug": "jan-findet-freunde"
[2022-02-13T11:06:01.956Z]     }
[2022-02-13T11:06:01.956Z] ]
[2022-02-13T11:06:01.956Z] "Router", "request", "success", {
[2022-02-13T11:06:01.956Z]     "httpMethod": "GET",
[2022-02-13T11:06:01.957Z]     "resource": "/books",
[2022-02-13T11:06:01.957Z]     "path": "/books",
[2022-02-13T11:06:01.957Z]     "error": null,
[2022-02-13T11:06:01.957Z]     "result": {
[2022-02-13T11:06:01.958Z]         "isBase64Encoded": false,
[2022-02-13T11:06:01.958Z]         "statusCode": 200,
[2022-02-13T11:06:01.958Z]         "headers": {
[2022-02-13T11:06:01.958Z]             "Content-Type": "application/json"
[2022-02-13T11:06:01.958Z]         },
[2022-02-13T11:06:01.959Z]         "multiValueHeaders": {},
[2022-02-13T11:06:01.959Z]         "body": "[{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\",\"slug\":\"jan-findet-freunde\"}]"
[2022-02-13T11:06:01.959Z]     }
[2022-02-13T11:06:01.959Z] }
[2022-02-13T11:06:01.959Z] "now calling callback"
[2022-02-13T11:06:01.959Z] handler called callback, sending result...
[2022-02-13T11:06:01.960Z] "Router", "request", "success", {
[2022-02-13T11:06:01.960Z]     "httpMethod": "GET",
[2022-02-13T11:06:01.960Z]     "resource": "/books",
[2022-02-13T11:06:01.960Z]     "path": "/books"
[2022-02-13T11:06:01.961Z] }
[2022-02-13T11:06:01.961Z] "promise done, calling callback"
[2022-02-13T11:06:01.961Z] handler promise resolved, sending result...
[2022-02-13T11:06:01.998Z] Received message: {"type":"execute","eventId":"AgJDSVPLC0r4UIrqMht3I","payload":{"event":{"isBase64Encoded":false,"path":"/books/jan-findet-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jan-findet-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:06:01.998Z] Executing event AgJDSVPLC0r4UIrqMht3I
[2022-02-13T11:06:01.998Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:06:02.112Z] Invoking handler function: "handler"
[2022-02-13T11:06:02.112Z] "Router", "request", "info", {
[2022-02-13T11:06:02.113Z]     "httpMethod": "GET",
[2022-02-13T11:06:02.113Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:06:02.113Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:06:02.113Z] }
[2022-02-13T11:06:02.113Z] "authenticating..."
[2022-02-13T11:06:02.119Z] "handler is promise, awaiting response"
[2022-02-13T11:06:02.120Z] Waiting for handler to finish...
[2022-02-13T11:06:02.161Z] "authenticated"
[2022-02-13T11:06:02.188Z] "Router", "request", "success", {
[2022-02-13T11:06:02.188Z]     "httpMethod": "GET",
[2022-02-13T11:06:02.189Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:06:02.189Z]     "path": "/books/jan-findet-freunde/stories",
[2022-02-13T11:06:02.189Z]     "error": null,
[2022-02-13T11:06:02.190Z]     "result": {
[2022-02-13T11:06:02.190Z]         "isBase64Encoded": false,
[2022-02-13T11:06:02.190Z]         "statusCode": 200,
[2022-02-13T11:06:02.190Z]         "headers": {
[2022-02-13T11:06:02.190Z]             "Content-Type": "application/json"
[2022-02-13T11:06:02.190Z]         },
[2022-02-13T11:06:02.190Z]         "multiValueHeaders": {},
[2022-02-13T11:06:02.190Z]         "body": "[]"
[2022-02-13T11:06:02.190Z]     }
[2022-02-13T11:06:02.190Z] }
[2022-02-13T11:06:02.191Z] "now calling callback"
[2022-02-13T11:06:02.191Z] handler called callback, sending result...
[2022-02-13T11:06:02.191Z] "Router", "request", "success", {
[2022-02-13T11:06:02.192Z]     "httpMethod": "GET",
[2022-02-13T11:06:02.192Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:06:02.192Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:06:02.192Z] }
[2022-02-13T11:06:02.192Z] "promise done, calling callback"
[2022-02-13T11:06:02.192Z] handler promise resolved, sending result...
[2022-02-13T11:06:26.160Z] Received message: {"type":"execute","eventId":"nyuYtUYLQ0f6w1N8PqhBJ","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:06:26.160Z] Executing event nyuYtUYLQ0f6w1N8PqhBJ
[2022-02-13T11:06:26.161Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:06:26.245Z] Invoking handler function: "handler"
[2022-02-13T11:06:26.246Z] "Router", "request", "info", {
[2022-02-13T11:06:26.246Z]     "httpMethod": "POST",
[2022-02-13T11:06:26.246Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:06:26.246Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:06:26.246Z] }
[2022-02-13T11:06:26.246Z] "authenticating..."
[2022-02-13T11:06:26.254Z] "handler is promise, awaiting response"
[2022-02-13T11:06:26.254Z] Waiting for handler to finish...
[2022-02-13T11:06:26.254Z] Received message: {"type":"execute","eventId":"KYna6RMGYulqb9Trd_ItQ","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"64-VeHhmCAgMrSt3Z+T+IojmaLEA78\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:06:26.255Z] Executing event KYna6RMGYulqb9Trd_ItQ
[2022-02-13T11:06:26.255Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:06:26.255Z] Invoking handler function: "handler"
[2022-02-13T11:06:26.256Z] "Router", "request", "info", {
[2022-02-13T11:06:26.256Z]     "httpMethod": "GET",
[2022-02-13T11:06:26.256Z]     "resource": "/books",
[2022-02-13T11:06:26.256Z]     "path": "/books"
[2022-02-13T11:06:26.256Z] }
[2022-02-13T11:06:26.256Z] "authenticating..."
[2022-02-13T11:06:26.256Z] "handler is promise, awaiting response"
[2022-02-13T11:06:26.256Z] Waiting for handler to finish...
[2022-02-13T11:06:26.295Z] "authenticated"
[2022-02-13T11:06:26.295Z] "get books"
[2022-02-13T11:06:26.295Z] "add \"all\" option"
[2022-02-13T11:06:26.296Z] "execute"
[2022-02-13T11:06:26.308Z] "done", [
[2022-02-13T11:06:26.309Z]     {
[2022-02-13T11:06:26.309Z]         "title": "Jan findet freunde",
[2022-02-13T11:06:26.309Z]         "description": "Der titel sagt alles...",
[2022-02-13T11:06:26.309Z]         "slug": "jan-findet-freunde"
[2022-02-13T11:06:26.309Z]     }
[2022-02-13T11:06:26.309Z] ]
[2022-02-13T11:06:26.310Z] "Router", "request", "success", {
[2022-02-13T11:06:26.310Z]     "httpMethod": "GET",
[2022-02-13T11:06:26.310Z]     "resource": "/books",
[2022-02-13T11:06:26.310Z]     "path": "/books",
[2022-02-13T11:06:26.310Z]     "error": null,
[2022-02-13T11:06:26.310Z]     "result": {
[2022-02-13T11:06:26.310Z]         "isBase64Encoded": false,
[2022-02-13T11:06:26.310Z]         "statusCode": 200,
[2022-02-13T11:06:26.311Z]         "headers": {
[2022-02-13T11:06:26.311Z]             "Content-Type": "application/json"
[2022-02-13T11:06:26.311Z]         },
[2022-02-13T11:06:26.311Z]         "multiValueHeaders": {},
[2022-02-13T11:06:26.311Z]         "body": "[{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\",\"slug\":\"jan-findet-freunde\"}]"
[2022-02-13T11:06:26.311Z]     }
[2022-02-13T11:06:26.311Z] }
[2022-02-13T11:06:26.311Z] "now calling callback"
[2022-02-13T11:06:26.311Z] handler called callback, sending result...
[2022-02-13T11:06:26.311Z] "Router", "request", "success", {
[2022-02-13T11:06:26.312Z]     "httpMethod": "GET",
[2022-02-13T11:06:26.312Z]     "resource": "/books",
[2022-02-13T11:06:26.312Z]     "path": "/books"
[2022-02-13T11:06:26.312Z] }
[2022-02-13T11:06:26.312Z] "promise done, calling callback"
[2022-02-13T11:06:26.312Z] handler promise resolved, sending result...
[2022-02-13T11:06:26.313Z] "authenticated"
[2022-02-13T11:06:26.313Z] "Router", "request", "success", {
[2022-02-13T11:06:26.313Z]     "httpMethod": "POST",
[2022-02-13T11:06:26.313Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:06:26.313Z]     "path": "/auth/verify-passcode",
[2022-02-13T11:06:26.313Z]     "error": null,
[2022-02-13T11:06:26.313Z]     "result": {
[2022-02-13T11:06:26.314Z]         "isBase64Encoded": false,
[2022-02-13T11:06:26.314Z]         "statusCode": 200,
[2022-02-13T11:06:26.314Z]         "headers": {
[2022-02-13T11:06:26.314Z]             "Content-Type": "application/json"
[2022-02-13T11:06:26.314Z]         },
[2022-02-13T11:06:26.314Z]         "multiValueHeaders": {},
[2022-02-13T11:06:26.314Z]         "body": "\"OK\""
[2022-02-13T11:06:26.315Z]     }
[2022-02-13T11:06:26.315Z] }
[2022-02-13T11:06:26.315Z] "now calling callback"
[2022-02-13T11:06:26.315Z] handler called callback, sending result...
[2022-02-13T11:06:26.315Z] "Router", "request", "success", {
[2022-02-13T11:06:26.315Z]     "httpMethod": "POST",
[2022-02-13T11:06:26.316Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:06:26.316Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:06:26.316Z] }
[2022-02-13T11:06:26.316Z] "promise done, calling callback"
[2022-02-13T11:06:26.316Z] handler promise resolved, sending result...
[2022-02-13T11:06:26.346Z] Received message: {"type":"execute","eventId":"xPEvU8sLFETWHcJv1Vt6H","payload":{"event":{"isBase64Encoded":false,"path":"/books/jan-findet-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jan-findet-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:06:26.346Z] Executing event xPEvU8sLFETWHcJv1Vt6H
[2022-02-13T11:06:26.347Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:06:26.426Z] Invoking handler function: "handler"
[2022-02-13T11:06:26.426Z] "Router", "request", "info", {
[2022-02-13T11:06:26.426Z]     "httpMethod": "GET",
[2022-02-13T11:06:26.427Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:06:26.427Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:06:26.427Z] }
[2022-02-13T11:06:26.427Z] "authenticating..."
[2022-02-13T11:06:26.433Z] "handler is promise, awaiting response"
[2022-02-13T11:06:26.433Z] Waiting for handler to finish...
[2022-02-13T11:06:26.466Z] "authenticated"
[2022-02-13T11:06:26.475Z] "Router", "request", "success", {
[2022-02-13T11:06:26.475Z]     "httpMethod": "GET",
[2022-02-13T11:06:26.475Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:06:26.475Z]     "path": "/books/jan-findet-freunde/stories",
[2022-02-13T11:06:26.476Z]     "error": null,
[2022-02-13T11:06:26.476Z]     "result": {
[2022-02-13T11:06:26.476Z]         "isBase64Encoded": false,
[2022-02-13T11:06:26.476Z]         "statusCode": 200,
[2022-02-13T11:06:26.476Z]         "headers": {
[2022-02-13T11:06:26.476Z]             "Content-Type": "application/json"
[2022-02-13T11:06:26.476Z]         },
[2022-02-13T11:06:26.476Z]         "multiValueHeaders": {},
[2022-02-13T11:06:26.476Z]         "body": "[]"
[2022-02-13T11:06:26.477Z]     }
[2022-02-13T11:06:26.477Z] }
[2022-02-13T11:06:26.477Z] "now calling callback"
[2022-02-13T11:06:26.477Z] handler called callback, sending result...
[2022-02-13T11:06:26.477Z] "Router", "request", "success", {
[2022-02-13T11:06:26.477Z]     "httpMethod": "GET",
[2022-02-13T11:06:26.477Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:06:26.477Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:06:26.477Z] }
[2022-02-13T11:06:26.477Z] "promise done, calling callback"
[2022-02-13T11:06:26.478Z] handler promise resolved, sending result...
[2022-02-13T11:06:39.372Z] Received message: {"type":"execute","eventId":"CGXYnbX8HnwRttCkDiDYc","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:06:39.389Z] Executing event CGXYnbX8HnwRttCkDiDYc
[2022-02-13T11:06:39.389Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:06:39.466Z] Invoking handler function: "handler"
[2022-02-13T11:06:39.467Z] "Router", "request", "info", {
[2022-02-13T11:06:39.467Z]     "httpMethod": "POST",
[2022-02-13T11:06:39.467Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:06:39.467Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:06:39.467Z] }
[2022-02-13T11:06:39.467Z] "authenticating..."
[2022-02-13T11:06:39.474Z] "handler is promise, awaiting response"
[2022-02-13T11:06:39.474Z] Waiting for handler to finish...
[2022-02-13T11:06:39.516Z] "authenticated"
[2022-02-13T11:06:39.516Z] "Router", "request", "success", {
[2022-02-13T11:06:39.516Z]     "httpMethod": "POST",
[2022-02-13T11:06:39.516Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:06:39.517Z]     "path": "/auth/verify-passcode",
[2022-02-13T11:06:39.517Z]     "error": null,
[2022-02-13T11:06:39.517Z]     "result": {
[2022-02-13T11:06:39.517Z]         "isBase64Encoded": false,
[2022-02-13T11:06:39.517Z]         "statusCode": 200,
[2022-02-13T11:06:39.517Z]         "headers": {
[2022-02-13T11:06:39.517Z]             "Content-Type": "application/json"
[2022-02-13T11:06:39.517Z]         },
[2022-02-13T11:06:39.517Z]         "multiValueHeaders": {},
[2022-02-13T11:06:39.517Z]         "body": "\"OK\""
[2022-02-13T11:06:39.517Z]     }
[2022-02-13T11:06:39.518Z] }
[2022-02-13T11:06:39.518Z] "now calling callback"
[2022-02-13T11:06:39.518Z] handler called callback, sending result...
[2022-02-13T11:06:39.518Z] "Router", "request", "success", {
[2022-02-13T11:06:39.518Z]     "httpMethod": "POST",
[2022-02-13T11:06:39.518Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:06:39.519Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:06:39.519Z] }
[2022-02-13T11:06:39.519Z] "promise done, calling callback"
[2022-02-13T11:06:39.519Z] handler promise resolved, sending result...
[2022-02-13T11:06:39.568Z] Received message: {"type":"execute","eventId":"NASzl-_3pYF6ADdXbpr5X","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"64-VeHhmCAgMrSt3Z+T+IojmaLEA78\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:06:39.568Z] Executing event NASzl-_3pYF6ADdXbpr5X
[2022-02-13T11:06:39.569Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:06:39.651Z] Invoking handler function: "handler"
[2022-02-13T11:06:39.651Z] "Router", "request", "info", {
[2022-02-13T11:06:39.652Z]     "httpMethod": "GET",
[2022-02-13T11:06:39.652Z]     "resource": "/books",
[2022-02-13T11:06:39.652Z]     "path": "/books"
[2022-02-13T11:06:39.652Z] }
[2022-02-13T11:06:39.652Z] "authenticating..."
[2022-02-13T11:06:39.659Z] "handler is promise, awaiting response"
[2022-02-13T11:06:39.659Z] Waiting for handler to finish...
[2022-02-13T11:06:39.697Z] "authenticated"
[2022-02-13T11:06:39.698Z] "get books"
[2022-02-13T11:06:39.698Z] "add \"all\" option"
[2022-02-13T11:06:39.698Z] "execute"
[2022-02-13T11:06:39.709Z] "done", [
[2022-02-13T11:06:39.709Z]     {
[2022-02-13T11:06:39.709Z]         "title": "Jan findet freunde",
[2022-02-13T11:06:39.709Z]         "description": "Der titel sagt alles...",
[2022-02-13T11:06:39.709Z]         "slug": "jan-findet-freunde"
[2022-02-13T11:06:39.709Z]     }
[2022-02-13T11:06:39.710Z] ]
[2022-02-13T11:06:39.710Z] "Router", "request", "success", {
[2022-02-13T11:06:39.710Z]     "httpMethod": "GET",
[2022-02-13T11:06:39.710Z]     "resource": "/books",
[2022-02-13T11:06:39.710Z]     "path": "/books",
[2022-02-13T11:06:39.710Z]     "error": null,
[2022-02-13T11:06:39.710Z]     "result": {
[2022-02-13T11:06:39.710Z]         "isBase64Encoded": false,
[2022-02-13T11:06:39.711Z]         "statusCode": 200,
[2022-02-13T11:06:39.711Z]         "headers": {
[2022-02-13T11:06:39.711Z]             "Content-Type": "application/json"
[2022-02-13T11:06:39.711Z]         },
[2022-02-13T11:06:39.711Z]         "multiValueHeaders": {},
[2022-02-13T11:06:39.711Z]         "body": "[{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\",\"slug\":\"jan-findet-freunde\"}]"
[2022-02-13T11:06:39.711Z]     }
[2022-02-13T11:06:39.711Z] }
[2022-02-13T11:06:39.711Z] "now calling callback"
[2022-02-13T11:06:39.711Z] handler called callback, sending result...
[2022-02-13T11:06:39.712Z] "Router", "request", "success", {
[2022-02-13T11:06:39.712Z]     "httpMethod": "GET",
[2022-02-13T11:06:39.712Z]     "resource": "/books",
[2022-02-13T11:06:39.712Z]     "path": "/books"
[2022-02-13T11:06:39.712Z] }
[2022-02-13T11:06:39.712Z] "promise done, calling callback"
[2022-02-13T11:06:39.713Z] handler promise resolved, sending result...
[2022-02-13T11:06:39.745Z] Received message: {"type":"execute","eventId":"oGR4LlGE9qYUU-e7X8_uc","payload":{"event":{"isBase64Encoded":false,"path":"/books/jan-findet-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jan-findet-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:06:39.745Z] Executing event oGR4LlGE9qYUU-e7X8_uc
[2022-02-13T11:06:39.745Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:06:39.826Z] Invoking handler function: "handler"
[2022-02-13T11:06:39.826Z] "Router", "request", "info", {
[2022-02-13T11:06:39.826Z]     "httpMethod": "GET",
[2022-02-13T11:06:39.826Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:06:39.827Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:06:39.827Z] }
[2022-02-13T11:06:39.827Z] "authenticating..."
[2022-02-13T11:06:39.833Z] "handler is promise, awaiting response"
[2022-02-13T11:06:39.833Z] Waiting for handler to finish...
[2022-02-13T11:06:39.869Z] "authenticated"
[2022-02-13T11:06:39.879Z] "Router", "request", "success", {
[2022-02-13T11:06:39.879Z]     "httpMethod": "GET",
[2022-02-13T11:06:39.879Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:06:39.879Z]     "path": "/books/jan-findet-freunde/stories",
[2022-02-13T11:06:39.879Z]     "error": null,
[2022-02-13T11:06:39.880Z]     "result": {
[2022-02-13T11:06:39.880Z]         "isBase64Encoded": false,
[2022-02-13T11:06:39.880Z]         "statusCode": 200,
[2022-02-13T11:06:39.880Z]         "headers": {
[2022-02-13T11:06:39.880Z]             "Content-Type": "application/json"
[2022-02-13T11:06:39.880Z]         },
[2022-02-13T11:06:39.880Z]         "multiValueHeaders": {},
[2022-02-13T11:06:39.880Z]         "body": "[]"
[2022-02-13T11:06:39.880Z]     }
[2022-02-13T11:06:39.881Z] }
[2022-02-13T11:06:39.881Z] "now calling callback"
[2022-02-13T11:06:39.881Z] handler called callback, sending result...
[2022-02-13T11:06:39.882Z] "Router", "request", "success", {
[2022-02-13T11:06:39.882Z]     "httpMethod": "GET",
[2022-02-13T11:06:39.882Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:06:39.882Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:06:39.882Z] }
[2022-02-13T11:06:39.882Z] "promise done, calling callback"
[2022-02-13T11:06:39.882Z] handler promise resolved, sending result...
[2022-02-13T11:07:20.093Z] Received message: {"type":"execute","eventId":"0CJBs0PMEkW41l9UkfYC2","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:07:20.103Z] Executing event 0CJBs0PMEkW41l9UkfYC2
[2022-02-13T11:07:20.104Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:07:20.179Z] Invoking handler function: "handler"
[2022-02-13T11:07:20.179Z] "Router", "request", "info", {
[2022-02-13T11:07:20.180Z]     "httpMethod": "POST",
[2022-02-13T11:07:20.180Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:07:20.180Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:07:20.180Z] }
[2022-02-13T11:07:20.180Z] "authenticating..."
[2022-02-13T11:07:20.187Z] "handler is promise, awaiting response"
[2022-02-13T11:07:20.190Z] Waiting for handler to finish...
[2022-02-13T11:07:20.192Z] Received message: {"type":"execute","eventId":"yzC0eYW04UAYkREsUWN1z","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"64-VeHhmCAgMrSt3Z+T+IojmaLEA78\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:07:20.192Z] Executing event yzC0eYW04UAYkREsUWN1z
[2022-02-13T11:07:20.194Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:07:20.194Z] Invoking handler function: "handler"
[2022-02-13T11:07:20.194Z] "Router", "request", "info", {
[2022-02-13T11:07:20.194Z]     "httpMethod": "GET",
[2022-02-13T11:07:20.194Z]     "resource": "/books",
[2022-02-13T11:07:20.194Z]     "path": "/books"
[2022-02-13T11:07:20.194Z] }
[2022-02-13T11:07:20.194Z] "authenticating..."
[2022-02-13T11:07:20.194Z] "handler is promise, awaiting response"
[2022-02-13T11:07:20.194Z] Waiting for handler to finish...
[2022-02-13T11:07:20.240Z] "authenticated"
[2022-02-13T11:07:20.240Z] "Router", "request", "success", {
[2022-02-13T11:07:20.240Z]     "httpMethod": "POST",
[2022-02-13T11:07:20.240Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:07:20.240Z]     "path": "/auth/verify-passcode",
[2022-02-13T11:07:20.241Z]     "error": null,
[2022-02-13T11:07:20.241Z]     "result": {
[2022-02-13T11:07:20.241Z]         "isBase64Encoded": false,
[2022-02-13T11:07:20.241Z]         "statusCode": 200,
[2022-02-13T11:07:20.241Z]         "headers": {
[2022-02-13T11:07:20.241Z]             "Content-Type": "application/json"
[2022-02-13T11:07:20.241Z]         },
[2022-02-13T11:07:20.241Z]         "multiValueHeaders": {},
[2022-02-13T11:07:20.241Z]         "body": "\"OK\""
[2022-02-13T11:07:20.241Z]     }
[2022-02-13T11:07:20.241Z] }
[2022-02-13T11:07:20.241Z] "now calling callback"
[2022-02-13T11:07:20.241Z] handler called callback, sending result...
[2022-02-13T11:07:20.242Z] "Router", "request", "success", {
[2022-02-13T11:07:20.243Z]     "httpMethod": "POST",
[2022-02-13T11:07:20.243Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:07:20.243Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:07:20.243Z] }
[2022-02-13T11:07:20.243Z] "promise done, calling callback"
[2022-02-13T11:07:20.243Z] handler promise resolved, sending result...
[2022-02-13T11:07:20.258Z] "authenticated"
[2022-02-13T11:07:20.258Z] "get books"
[2022-02-13T11:07:20.258Z] "add \"all\" option"
[2022-02-13T11:07:20.258Z] "execute"
[2022-02-13T11:07:20.269Z] "done", [
[2022-02-13T11:07:20.270Z]     {
[2022-02-13T11:07:20.270Z]         "title": "Jan findet freunde",
[2022-02-13T11:07:20.270Z]         "description": "Der titel sagt alles...",
[2022-02-13T11:07:20.270Z]         "slug": "jan-findet-freunde"
[2022-02-13T11:07:20.270Z]     }
[2022-02-13T11:07:20.270Z] ]
[2022-02-13T11:07:20.270Z] "Router", "request", "success", {
[2022-02-13T11:07:20.270Z]     "httpMethod": "GET",
[2022-02-13T11:07:20.270Z]     "resource": "/books",
[2022-02-13T11:07:20.271Z]     "path": "/books",
[2022-02-13T11:07:20.271Z]     "error": null,
[2022-02-13T11:07:20.271Z]     "result": {
[2022-02-13T11:07:20.271Z]         "isBase64Encoded": false,
[2022-02-13T11:07:20.271Z]         "statusCode": 200,
[2022-02-13T11:07:20.271Z]         "headers": {
[2022-02-13T11:07:20.271Z]             "Content-Type": "application/json"
[2022-02-13T11:07:20.271Z]         },
[2022-02-13T11:07:20.271Z]         "multiValueHeaders": {},
[2022-02-13T11:07:20.271Z]         "body": "[{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\",\"slug\":\"jan-findet-freunde\"}]"
[2022-02-13T11:07:20.272Z]     }
[2022-02-13T11:07:20.272Z] }
[2022-02-13T11:07:20.272Z] "now calling callback"
[2022-02-13T11:07:20.272Z] handler called callback, sending result...
[2022-02-13T11:07:20.272Z] "Router", "request", "success", {
[2022-02-13T11:07:20.272Z]     "httpMethod": "GET",
[2022-02-13T11:07:20.273Z]     "resource": "/books",
[2022-02-13T11:07:20.273Z]     "path": "/books"
[2022-02-13T11:07:20.273Z] }
[2022-02-13T11:07:20.273Z] "promise done, calling callback"
[2022-02-13T11:07:20.273Z] handler promise resolved, sending result...
[2022-02-13T11:07:20.312Z] Received message: {"type":"execute","eventId":"dj-OJIlOiS4mmJ4FVVIup","payload":{"event":{"isBase64Encoded":false,"path":"/books/jan-findet-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jan-findet-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:07:20.312Z] Executing event dj-OJIlOiS4mmJ4FVVIup
[2022-02-13T11:07:20.312Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:07:20.393Z] Invoking handler function: "handler"
[2022-02-13T11:07:20.393Z] "Router", "request", "info", {
[2022-02-13T11:07:20.394Z]     "httpMethod": "GET",
[2022-02-13T11:07:20.394Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:07:20.394Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:07:20.395Z] }
[2022-02-13T11:07:20.395Z] "authenticating..."
[2022-02-13T11:07:20.401Z] "handler is promise, awaiting response"
[2022-02-13T11:07:20.406Z] Waiting for handler to finish...
[2022-02-13T11:07:20.449Z] "authenticated"
[2022-02-13T11:07:20.458Z] "Router", "request", "success", {
[2022-02-13T11:07:20.459Z]     "httpMethod": "GET",
[2022-02-13T11:07:20.459Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:07:20.459Z]     "path": "/books/jan-findet-freunde/stories",
[2022-02-13T11:07:20.459Z]     "error": null,
[2022-02-13T11:07:20.459Z]     "result": {
[2022-02-13T11:07:20.460Z]         "isBase64Encoded": false,
[2022-02-13T11:07:20.460Z]         "statusCode": 200,
[2022-02-13T11:07:20.460Z]         "headers": {
[2022-02-13T11:07:20.460Z]             "Content-Type": "application/json"
[2022-02-13T11:07:20.460Z]         },
[2022-02-13T11:07:20.460Z]         "multiValueHeaders": {},
[2022-02-13T11:07:20.460Z]         "body": "[]"
[2022-02-13T11:07:20.460Z]     }
[2022-02-13T11:07:20.460Z] }
[2022-02-13T11:07:20.460Z] "now calling callback"
[2022-02-13T11:07:20.460Z] handler called callback, sending result...
[2022-02-13T11:07:20.461Z] "Router", "request", "success", {
[2022-02-13T11:07:20.461Z]     "httpMethod": "GET",
[2022-02-13T11:07:20.461Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:07:20.461Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:07:20.461Z] }
[2022-02-13T11:07:20.461Z] "promise done, calling callback"
[2022-02-13T11:07:20.461Z] handler promise resolved, sending result...
[2022-02-13T11:07:26.929Z] Received message: {"type":"execute","eventId":"Qr3sgK1g-m7Wme9PNAMGM","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:07:26.929Z] Executing event Qr3sgK1g-m7Wme9PNAMGM
[2022-02-13T11:07:26.931Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:07:27.026Z] Invoking handler function: "handler"
[2022-02-13T11:07:27.027Z] "Router", "request", "info", {
[2022-02-13T11:07:27.027Z]     "httpMethod": "POST",
[2022-02-13T11:07:27.027Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:07:27.027Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:07:27.027Z] }
[2022-02-13T11:07:27.027Z] "authenticating..."
[2022-02-13T11:07:27.034Z] "handler is promise, awaiting response"
[2022-02-13T11:07:27.034Z] Waiting for handler to finish...
[2022-02-13T11:07:27.034Z] Received message: {"type":"execute","eventId":"loTLJondXMx4_7xpH9Y9H","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"64-VeHhmCAgMrSt3Z+T+IojmaLEA78\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:07:27.034Z] Executing event loTLJondXMx4_7xpH9Y9H
[2022-02-13T11:07:27.035Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:07:27.035Z] Invoking handler function: "handler"
[2022-02-13T11:07:27.035Z] "Router", "request", "info", {
[2022-02-13T11:07:27.036Z]     "httpMethod": "GET",
[2022-02-13T11:07:27.036Z]     "resource": "/books",
[2022-02-13T11:07:27.036Z]     "path": "/books"
[2022-02-13T11:07:27.036Z] }
[2022-02-13T11:07:27.036Z] "authenticating..."
[2022-02-13T11:07:27.036Z] "handler is promise, awaiting response"
[2022-02-13T11:07:27.036Z] Waiting for handler to finish...
[2022-02-13T11:07:27.067Z] "authenticated"
[2022-02-13T11:07:27.067Z] "get books"
[2022-02-13T11:07:27.068Z] "add \"all\" option"
[2022-02-13T11:07:27.068Z] "execute"
[2022-02-13T11:07:27.081Z] "done", [
[2022-02-13T11:07:27.082Z]     {
[2022-02-13T11:07:27.082Z]         "title": "Jan findet freunde",
[2022-02-13T11:07:27.082Z]         "description": "Der titel sagt alles...",
[2022-02-13T11:07:27.082Z]         "slug": "jan-findet-freunde"
[2022-02-13T11:07:27.082Z]     }
[2022-02-13T11:07:27.082Z] ]
[2022-02-13T11:07:27.083Z] "Router", "request", "success", {
[2022-02-13T11:07:27.083Z]     "httpMethod": "GET",
[2022-02-13T11:07:27.083Z]     "resource": "/books",
[2022-02-13T11:07:27.083Z]     "path": "/books",
[2022-02-13T11:07:27.083Z]     "error": null,
[2022-02-13T11:07:27.083Z]     "result": {
[2022-02-13T11:07:27.083Z]         "isBase64Encoded": false,
[2022-02-13T11:07:27.083Z]         "statusCode": 200,
[2022-02-13T11:07:27.083Z]         "headers": {
[2022-02-13T11:07:27.083Z]             "Content-Type": "application/json"
[2022-02-13T11:07:27.084Z]         },
[2022-02-13T11:07:27.084Z]         "multiValueHeaders": {},
[2022-02-13T11:07:27.084Z]         "body": "[{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\",\"slug\":\"jan-findet-freunde\"}]"
[2022-02-13T11:07:27.084Z]     }
[2022-02-13T11:07:27.084Z] }
[2022-02-13T11:07:27.084Z] "now calling callback"
[2022-02-13T11:07:27.084Z] handler called callback, sending result...
[2022-02-13T11:07:27.084Z] "Router", "request", "success", {
[2022-02-13T11:07:27.084Z]     "httpMethod": "GET",
[2022-02-13T11:07:27.084Z]     "resource": "/books",
[2022-02-13T11:07:27.085Z]     "path": "/books"
[2022-02-13T11:07:27.085Z] }
[2022-02-13T11:07:27.085Z] "promise done, calling callback"
[2022-02-13T11:07:27.085Z] handler promise resolved, sending result...
[2022-02-13T11:07:27.085Z] "authenticated"
[2022-02-13T11:07:27.086Z] "Router", "request", "success", {
[2022-02-13T11:07:27.086Z]     "httpMethod": "POST",
[2022-02-13T11:07:27.086Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:07:27.086Z]     "path": "/auth/verify-passcode",
[2022-02-13T11:07:27.086Z]     "error": null,
[2022-02-13T11:07:27.086Z]     "result": {
[2022-02-13T11:07:27.086Z]         "isBase64Encoded": false,
[2022-02-13T11:07:27.086Z]         "statusCode": 200,
[2022-02-13T11:07:27.086Z]         "headers": {
[2022-02-13T11:07:27.086Z]             "Content-Type": "application/json"
[2022-02-13T11:07:27.086Z]         },
[2022-02-13T11:07:27.087Z]         "multiValueHeaders": {},
[2022-02-13T11:07:27.087Z]         "body": "\"OK\""
[2022-02-13T11:07:27.087Z]     }
[2022-02-13T11:07:27.087Z] }
[2022-02-13T11:07:27.087Z] "now calling callback"
[2022-02-13T11:07:27.087Z] handler called callback, sending result...
[2022-02-13T11:07:27.087Z] "Router", "request", "success", {
[2022-02-13T11:07:27.087Z]     "httpMethod": "POST",
[2022-02-13T11:07:27.087Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:07:27.087Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:07:27.088Z] }
[2022-02-13T11:07:27.088Z] "promise done, calling callback"
[2022-02-13T11:07:27.088Z] handler promise resolved, sending result...
[2022-02-13T11:07:27.123Z] Received message: {"type":"execute","eventId":"Z8IFB9XnOPvhLZZ2QVU4c","payload":{"event":{"isBase64Encoded":false,"path":"/books/jan-findet-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jan-findet-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:07:27.123Z] Executing event Z8IFB9XnOPvhLZZ2QVU4c
[2022-02-13T11:07:27.123Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:07:27.202Z] Invoking handler function: "handler"
[2022-02-13T11:07:27.202Z] "Router", "request", "info", {
[2022-02-13T11:07:27.202Z]     "httpMethod": "GET",
[2022-02-13T11:07:27.202Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:07:27.203Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:07:27.203Z] }
[2022-02-13T11:07:27.203Z] "authenticating..."
[2022-02-13T11:07:27.209Z] "handler is promise, awaiting response"
[2022-02-13T11:07:27.209Z] Waiting for handler to finish...
[2022-02-13T11:07:27.242Z] "authenticated"
[2022-02-13T11:07:27.254Z] "Router", "request", "success", {
[2022-02-13T11:07:27.255Z]     "httpMethod": "GET",
[2022-02-13T11:07:27.255Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:07:27.255Z]     "path": "/books/jan-findet-freunde/stories",
[2022-02-13T11:07:27.255Z]     "error": null,
[2022-02-13T11:07:27.255Z]     "result": {
[2022-02-13T11:07:27.256Z]         "isBase64Encoded": false,
[2022-02-13T11:07:27.256Z]         "statusCode": 200,
[2022-02-13T11:07:27.256Z]         "headers": {
[2022-02-13T11:07:27.256Z]             "Content-Type": "application/json"
[2022-02-13T11:07:27.256Z]         },
[2022-02-13T11:07:27.256Z]         "multiValueHeaders": {},
[2022-02-13T11:07:27.256Z]         "body": "[]"
[2022-02-13T11:07:27.256Z]     }
[2022-02-13T11:07:27.256Z] }
[2022-02-13T11:07:27.256Z] "now calling callback"
[2022-02-13T11:07:27.256Z] handler called callback, sending result...
[2022-02-13T11:07:27.257Z] "Router", "request", "success", {
[2022-02-13T11:07:27.257Z]     "httpMethod": "GET",
[2022-02-13T11:07:27.257Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:07:27.257Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:07:27.257Z] }
[2022-02-13T11:07:27.258Z] "promise done, calling callback"
[2022-02-13T11:07:27.258Z] handler promise resolved, sending result...
[2022-02-13T11:07:29.585Z] Received message: {"type":"execute","eventId":"p7zhF6jKGrC-LoCfeB35L","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:07:29.586Z] Executing event p7zhF6jKGrC-LoCfeB35L
[2022-02-13T11:07:29.586Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:07:29.673Z] Invoking handler function: "handler"
[2022-02-13T11:07:29.674Z] "Router", "request", "info", {
[2022-02-13T11:07:29.674Z]     "httpMethod": "POST",
[2022-02-13T11:07:29.674Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:07:29.674Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:07:29.674Z] }
[2022-02-13T11:07:29.674Z] "authenticating..."
[2022-02-13T11:07:29.681Z] "handler is promise, awaiting response"
[2022-02-13T11:07:29.681Z] Waiting for handler to finish...
[2022-02-13T11:07:29.713Z] "authenticated"
[2022-02-13T11:07:29.714Z] "Router", "request", "success", {
[2022-02-13T11:07:29.714Z]     "httpMethod": "POST",
[2022-02-13T11:07:29.714Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:07:29.714Z]     "path": "/auth/verify-passcode",
[2022-02-13T11:07:29.714Z]     "error": null,
[2022-02-13T11:07:29.714Z]     "result": {
[2022-02-13T11:07:29.715Z]         "isBase64Encoded": false,
[2022-02-13T11:07:29.715Z]         "statusCode": 200,
[2022-02-13T11:07:29.715Z]         "headers": {
[2022-02-13T11:07:29.715Z]             "Content-Type": "application/json"
[2022-02-13T11:07:29.715Z]         },
[2022-02-13T11:07:29.715Z]         "multiValueHeaders": {},
[2022-02-13T11:07:29.715Z]         "body": "\"OK\""
[2022-02-13T11:07:29.715Z]     }
[2022-02-13T11:07:29.716Z] }
[2022-02-13T11:07:29.716Z] "now calling callback"
[2022-02-13T11:07:29.716Z] handler called callback, sending result...
[2022-02-13T11:07:29.716Z] "Router", "request", "success", {
[2022-02-13T11:07:29.717Z]     "httpMethod": "POST",
[2022-02-13T11:07:29.717Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:07:29.717Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:07:29.717Z] }
[2022-02-13T11:07:29.717Z] "promise done, calling callback"
[2022-02-13T11:07:29.717Z] handler promise resolved, sending result...
[2022-02-13T11:07:29.763Z] Received message: {"type":"execute","eventId":"PJOjHOu9m-7LDFu9scKXl","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"64-VeHhmCAgMrSt3Z+T+IojmaLEA78\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:07:29.763Z] Executing event PJOjHOu9m-7LDFu9scKXl
[2022-02-13T11:07:29.763Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:07:29.847Z] Invoking handler function: "handler"
[2022-02-13T11:07:29.847Z] "Router", "request", "info", {
[2022-02-13T11:07:29.847Z]     "httpMethod": "GET",
[2022-02-13T11:07:29.848Z]     "resource": "/books",
[2022-02-13T11:07:29.848Z]     "path": "/books"
[2022-02-13T11:07:29.848Z] }
[2022-02-13T11:07:29.848Z] "authenticating..."
[2022-02-13T11:07:29.854Z] "handler is promise, awaiting response"
[2022-02-13T11:07:29.854Z] Waiting for handler to finish...
[2022-02-13T11:07:29.893Z] "authenticated"
[2022-02-13T11:07:29.893Z] "get books"
[2022-02-13T11:07:29.893Z] "add \"all\" option"
[2022-02-13T11:07:29.893Z] "execute"
[2022-02-13T11:07:29.905Z] "done", [
[2022-02-13T11:07:29.906Z]     {
[2022-02-13T11:07:29.906Z]         "title": "Jan findet freunde",
[2022-02-13T11:07:29.906Z]         "description": "Der titel sagt alles...",
[2022-02-13T11:07:29.906Z]         "slug": "jan-findet-freunde"
[2022-02-13T11:07:29.906Z]     }
[2022-02-13T11:07:29.906Z] ]
[2022-02-13T11:07:29.906Z] "Router", "request", "success", {
[2022-02-13T11:07:29.906Z]     "httpMethod": "GET",
[2022-02-13T11:07:29.906Z]     "resource": "/books",
[2022-02-13T11:07:29.907Z]     "path": "/books",
[2022-02-13T11:07:29.907Z]     "error": null,
[2022-02-13T11:07:29.907Z]     "result": {
[2022-02-13T11:07:29.907Z]         "isBase64Encoded": false,
[2022-02-13T11:07:29.907Z]         "statusCode": 200,
[2022-02-13T11:07:29.907Z]         "headers": {
[2022-02-13T11:07:29.907Z]             "Content-Type": "application/json"
[2022-02-13T11:07:29.907Z]         },
[2022-02-13T11:07:29.907Z]         "multiValueHeaders": {},
[2022-02-13T11:07:29.907Z]         "body": "[{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\",\"slug\":\"jan-findet-freunde\"}]"
[2022-02-13T11:07:29.907Z]     }
[2022-02-13T11:07:29.907Z] }
[2022-02-13T11:07:29.908Z] "now calling callback"
[2022-02-13T11:07:29.908Z] handler called callback, sending result...
[2022-02-13T11:07:29.908Z] "Router", "request", "success", {
[2022-02-13T11:07:29.908Z]     "httpMethod": "GET",
[2022-02-13T11:07:29.908Z]     "resource": "/books",
[2022-02-13T11:07:29.909Z]     "path": "/books"
[2022-02-13T11:07:29.909Z] }
[2022-02-13T11:07:29.909Z] "promise done, calling callback"
[2022-02-13T11:07:29.909Z] handler promise resolved, sending result...
[2022-02-13T11:07:29.941Z] Received message: {"type":"execute","eventId":"2W6ocnrUV_ZX66D7U7nvq","payload":{"event":{"isBase64Encoded":false,"path":"/books/jan-findet-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jan-findet-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:07:29.941Z] Executing event 2W6ocnrUV_ZX66D7U7nvq
[2022-02-13T11:07:29.941Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:07:30.022Z] Invoking handler function: "handler"
[2022-02-13T11:07:30.022Z] "Router", "request", "info", {
[2022-02-13T11:07:30.022Z]     "httpMethod": "GET",
[2022-02-13T11:07:30.023Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:07:30.023Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:07:30.023Z] }
[2022-02-13T11:07:30.023Z] "authenticating..."
[2022-02-13T11:07:30.029Z] "handler is promise, awaiting response"
[2022-02-13T11:07:30.029Z] Waiting for handler to finish...
[2022-02-13T11:07:30.058Z] "authenticated"
[2022-02-13T11:07:30.067Z] "Router", "request", "success", {
[2022-02-13T11:07:30.068Z]     "httpMethod": "GET",
[2022-02-13T11:07:30.068Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:07:30.068Z]     "path": "/books/jan-findet-freunde/stories",
[2022-02-13T11:07:30.068Z]     "error": null,
[2022-02-13T11:07:30.068Z]     "result": {
[2022-02-13T11:07:30.068Z]         "isBase64Encoded": false,
[2022-02-13T11:07:30.069Z]         "statusCode": 200,
[2022-02-13T11:07:30.069Z]         "headers": {
[2022-02-13T11:07:30.069Z]             "Content-Type": "application/json"
[2022-02-13T11:07:30.069Z]         },
[2022-02-13T11:07:30.069Z]         "multiValueHeaders": {},
[2022-02-13T11:07:30.069Z]         "body": "[]"
[2022-02-13T11:07:30.069Z]     }
[2022-02-13T11:07:30.070Z] }
[2022-02-13T11:07:30.070Z] "now calling callback"
[2022-02-13T11:07:30.070Z] handler called callback, sending result...
[2022-02-13T11:07:30.070Z] "Router", "request", "success", {
[2022-02-13T11:07:30.070Z]     "httpMethod": "GET",
[2022-02-13T11:07:30.070Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:07:30.070Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:07:30.070Z] }
[2022-02-13T11:07:30.070Z] "promise done, calling callback"
[2022-02-13T11:07:30.071Z] handler promise resolved, sending result...
[2022-02-13T11:09:06.310Z] Received message: {"type":"execute","eventId":"uOXLZmjyhaDSfbsQq36PI","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"69","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"{\"title\":\"Rina findet auch Freunde\",\"description\":\"lol. nachmacher!\"}","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:09:06.310Z] Executing event uOXLZmjyhaDSfbsQq36PI
[2022-02-13T11:09:06.310Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:09:06.442Z] Invoking handler function: "handler"
[2022-02-13T11:09:06.458Z] "Router", "request", "info", {
[2022-02-13T11:09:06.458Z]     "httpMethod": "POST",
[2022-02-13T11:09:06.459Z]     "resource": "/books",
[2022-02-13T11:09:06.459Z]     "path": "/books"
[2022-02-13T11:09:06.459Z] }
[2022-02-13T11:09:06.459Z] "authenticating..."
[2022-02-13T11:09:06.459Z] "handler is promise, awaiting response"
[2022-02-13T11:09:06.459Z] Waiting for handler to finish...
[2022-02-13T11:09:06.476Z] "authenticated"
[2022-02-13T11:09:06.513Z] "Router", "request", "success", {
[2022-02-13T11:09:06.514Z]     "httpMethod": "POST",
[2022-02-13T11:09:06.514Z]     "resource": "/books",
[2022-02-13T11:09:06.514Z]     "path": "/books",
[2022-02-13T11:09:06.514Z]     "error": null,
[2022-02-13T11:09:06.515Z]     "result": {
[2022-02-13T11:09:06.515Z]         "isBase64Encoded": false,
[2022-02-13T11:09:06.515Z]         "statusCode": 200,
[2022-02-13T11:09:06.515Z]         "headers": {
[2022-02-13T11:09:06.515Z]             "Content-Type": "application/json"
[2022-02-13T11:09:06.515Z]         },
[2022-02-13T11:09:06.515Z]         "multiValueHeaders": {},
[2022-02-13T11:09:06.515Z]         "body": "{\"title\":\"Rina findet auch Freunde\",\"description\":\"lol. nachmacher!\",\"slug\":\"rina-findet-auch-freunde\"}"
[2022-02-13T11:09:06.515Z]     }
[2022-02-13T11:09:06.515Z] }
[2022-02-13T11:09:06.515Z] "now calling callback"
[2022-02-13T11:09:06.515Z] handler called callback, sending result...
[2022-02-13T11:09:06.516Z] "Router", "request", "success", {
[2022-02-13T11:09:06.516Z]     "httpMethod": "POST",
[2022-02-13T11:09:06.516Z]     "resource": "/books",
[2022-02-13T11:09:06.516Z]     "path": "/books"
[2022-02-13T11:09:06.516Z] }
[2022-02-13T11:09:06.517Z] "promise done, calling callback"
[2022-02-13T11:09:06.517Z] handler promise resolved, sending result...
[2022-02-13T11:18:48.708Z] Received message: {"type":"execute","eventId":"bmN5qhdMJGw9gqQ9n7Grx","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:18:48.708Z] Executing event bmN5qhdMJGw9gqQ9n7Grx
[2022-02-13T11:18:48.712Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:18:48.860Z] Invoking handler function: "handler"
[2022-02-13T11:18:48.860Z] "Router", "request", "info", {
[2022-02-13T11:18:48.860Z]     "httpMethod": "POST",
[2022-02-13T11:18:48.860Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:18:48.860Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:18:48.860Z] }
[2022-02-13T11:18:48.860Z] "authenticating..."
[2022-02-13T11:18:48.868Z] "handler is promise, awaiting response"
[2022-02-13T11:18:48.868Z] Waiting for handler to finish...
[2022-02-13T11:18:48.909Z] "authenticated"
[2022-02-13T11:18:48.910Z] "Router", "request", "success", {
[2022-02-13T11:18:48.910Z]     "httpMethod": "POST",
[2022-02-13T11:18:48.910Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:18:48.911Z]     "path": "/auth/verify-passcode",
[2022-02-13T11:18:48.911Z]     "error": null,
[2022-02-13T11:18:48.911Z]     "result": {
[2022-02-13T11:18:48.911Z]         "isBase64Encoded": false,
[2022-02-13T11:18:48.911Z]         "statusCode": 200,
[2022-02-13T11:18:48.911Z]         "headers": {
[2022-02-13T11:18:48.911Z]             "Content-Type": "application/json"
[2022-02-13T11:18:48.911Z]         },
[2022-02-13T11:18:48.911Z]         "multiValueHeaders": {},
[2022-02-13T11:18:48.911Z]         "body": "\"OK\""
[2022-02-13T11:18:48.911Z]     }
[2022-02-13T11:18:48.911Z] }
[2022-02-13T11:18:48.912Z] "now calling callback"
[2022-02-13T11:18:48.912Z] handler called callback, sending result...
[2022-02-13T11:18:48.913Z] "Router", "request", "success", {
[2022-02-13T11:18:48.913Z]     "httpMethod": "POST",
[2022-02-13T11:18:48.913Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:18:48.913Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:18:48.913Z] }
[2022-02-13T11:18:48.913Z] "promise done, calling callback"
[2022-02-13T11:18:48.913Z] handler promise resolved, sending result...
[2022-02-13T11:18:48.969Z] Received message: {"type":"execute","eventId":"ai_AMWw0gCvwi0ehzbjUq","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:18:48.970Z] Executing event ai_AMWw0gCvwi0ehzbjUq
[2022-02-13T11:18:48.970Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:18:49.069Z] Invoking handler function: "handler"
[2022-02-13T11:18:49.070Z] "Router", "request", "info", {
[2022-02-13T11:18:49.070Z]     "httpMethod": "GET",
[2022-02-13T11:18:49.070Z]     "resource": "/books",
[2022-02-13T11:18:49.070Z]     "path": "/books"
[2022-02-13T11:18:49.070Z] }
[2022-02-13T11:18:49.070Z] "authenticating..."
[2022-02-13T11:18:49.076Z] "handler is promise, awaiting response"
[2022-02-13T11:18:49.077Z] Waiting for handler to finish...
[2022-02-13T11:18:49.116Z] "authenticated"
[2022-02-13T11:18:49.116Z] "get books"
[2022-02-13T11:18:49.116Z] "add \"all\" option"
[2022-02-13T11:18:49.116Z] "execute"
[2022-02-13T11:18:49.126Z] "done", [
[2022-02-13T11:18:49.126Z]     {
[2022-02-13T11:18:49.126Z]         "title": "Rina findet auch Freunde",
[2022-02-13T11:18:49.126Z]         "description": "lol. nachmacher!",
[2022-02-13T11:18:49.127Z]         "slug": "rina-findet-auch-freunde"
[2022-02-13T11:18:49.127Z]     },
[2022-02-13T11:18:49.127Z]     {
[2022-02-13T11:18:49.127Z]         "title": "Jan findet freunde",
[2022-02-13T11:18:49.127Z]         "description": "Der titel sagt alles...",
[2022-02-13T11:18:49.127Z]         "slug": "jan-findet-freunde"
[2022-02-13T11:18:49.127Z]     }
[2022-02-13T11:18:49.127Z] ]
[2022-02-13T11:18:49.127Z] "Router", "request", "success", {
[2022-02-13T11:18:49.128Z]     "httpMethod": "GET",
[2022-02-13T11:18:49.128Z]     "resource": "/books",
[2022-02-13T11:18:49.128Z]     "path": "/books",
[2022-02-13T11:18:49.128Z]     "error": null,
[2022-02-13T11:18:49.128Z]     "result": {
[2022-02-13T11:18:49.128Z]         "isBase64Encoded": false,
[2022-02-13T11:18:49.128Z]         "statusCode": 200,
[2022-02-13T11:18:49.128Z]         "headers": {
[2022-02-13T11:18:49.128Z]             "Content-Type": "application/json"
[2022-02-13T11:18:49.128Z]         },
[2022-02-13T11:18:49.128Z]         "multiValueHeaders": {},
[2022-02-13T11:18:49.128Z]         "body": "[{\"title\":\"Rina findet auch Freunde\",\"description\":\"lol. nachmacher!\",\"slug\":\"rina-findet-auch-freunde\"},{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\",\"slug\":\"jan-findet-freunde\"}]"
[2022-02-13T11:18:49.129Z]     }
[2022-02-13T11:18:49.129Z] }
[2022-02-13T11:18:49.129Z] "now calling callback"
[2022-02-13T11:18:49.129Z] handler called callback, sending result...
[2022-02-13T11:18:49.129Z] "Router", "request", "success", {
[2022-02-13T11:18:49.129Z]     "httpMethod": "GET",
[2022-02-13T11:18:49.129Z]     "resource": "/books",
[2022-02-13T11:18:49.129Z]     "path": "/books"
[2022-02-13T11:18:49.130Z] }
[2022-02-13T11:18:49.130Z] "promise done, calling callback"
[2022-02-13T11:18:49.130Z] handler promise resolved, sending result...
[2022-02-13T11:18:49.163Z] Received message: {"type":"execute","eventId":"pKWYrWX7XQv3oyXJKEhlM","payload":{"event":{"isBase64Encoded":false,"path":"/books/rina-findet-auch-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"rina-findet-auch-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:18:49.163Z] Executing event pKWYrWX7XQv3oyXJKEhlM
[2022-02-13T11:18:49.163Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:18:49.238Z] Invoking handler function: "handler"
[2022-02-13T11:18:49.239Z] "Router", "request", "info", {
[2022-02-13T11:18:49.239Z]     "httpMethod": "GET",
[2022-02-13T11:18:49.239Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:18:49.239Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T11:18:49.239Z] }
[2022-02-13T11:18:49.240Z] "authenticating..."
[2022-02-13T11:18:49.245Z] "handler is promise, awaiting response"
[2022-02-13T11:18:49.245Z] Waiting for handler to finish...
[2022-02-13T11:18:49.246Z] Received message: {"type":"execute","eventId":"y_pfgjMoyYuMBpG4Us8xV","payload":{"event":{"isBase64Encoded":false,"path":"/books/jan-findet-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jan-findet-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:18:49.246Z] Executing event y_pfgjMoyYuMBpG4Us8xV
[2022-02-13T11:18:49.246Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:18:49.246Z] Invoking handler function: "handler"
[2022-02-13T11:18:49.246Z] "Router", "request", "info", {
[2022-02-13T11:18:49.246Z]     "httpMethod": "GET",
[2022-02-13T11:18:49.246Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:18:49.246Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:18:49.246Z] }
[2022-02-13T11:18:49.247Z] "authenticating..."
[2022-02-13T11:18:49.247Z] "handler is promise, awaiting response"
[2022-02-13T11:18:49.247Z] Waiting for handler to finish...
[2022-02-13T11:18:49.282Z] "authenticated"
[2022-02-13T11:18:49.285Z] "authenticated"
[2022-02-13T11:18:49.297Z] "Router", "request", "success", {
[2022-02-13T11:18:49.297Z]     "httpMethod": "GET",
[2022-02-13T11:18:49.297Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:18:49.297Z]     "path": "/books/jan-findet-freunde/stories",
[2022-02-13T11:18:49.297Z]     "error": null,
[2022-02-13T11:18:49.297Z]     "result": {
[2022-02-13T11:18:49.298Z]         "isBase64Encoded": false,
[2022-02-13T11:18:49.298Z]         "statusCode": 200,
[2022-02-13T11:18:49.298Z]         "headers": {
[2022-02-13T11:18:49.298Z]             "Content-Type": "application/json"
[2022-02-13T11:18:49.298Z]         },
[2022-02-13T11:18:49.298Z]         "multiValueHeaders": {},
[2022-02-13T11:18:49.298Z]         "body": "[]"
[2022-02-13T11:18:49.298Z]     }
[2022-02-13T11:18:49.298Z] }
[2022-02-13T11:18:49.298Z] "now calling callback"
[2022-02-13T11:18:49.299Z] handler called callback, sending result...
[2022-02-13T11:18:49.299Z] "Router", "request", "success", {
[2022-02-13T11:18:49.299Z]     "httpMethod": "GET",
[2022-02-13T11:18:49.299Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:18:49.299Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:18:49.299Z] }
[2022-02-13T11:18:49.299Z] "promise done, calling callback"
[2022-02-13T11:18:49.300Z] handler promise resolved, sending result...
[2022-02-13T11:18:49.300Z] "Router", "request", "success", {
[2022-02-13T11:18:49.300Z]     "httpMethod": "GET",
[2022-02-13T11:18:49.300Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:18:49.300Z]     "path": "/books/rina-findet-auch-freunde/stories",
[2022-02-13T11:18:49.300Z]     "error": null,
[2022-02-13T11:18:49.300Z]     "result": {
[2022-02-13T11:18:49.300Z]         "isBase64Encoded": false,
[2022-02-13T11:18:49.301Z]         "statusCode": 200,
[2022-02-13T11:18:49.301Z]         "headers": {
[2022-02-13T11:18:49.301Z]             "Content-Type": "application/json"
[2022-02-13T11:18:49.301Z]         },
[2022-02-13T11:18:49.301Z]         "multiValueHeaders": {},
[2022-02-13T11:18:49.301Z]         "body": "[]"
[2022-02-13T11:18:49.301Z]     }
[2022-02-13T11:18:49.301Z] }
[2022-02-13T11:18:49.301Z] "now calling callback"
[2022-02-13T11:18:49.301Z] handler called callback, sending result...
[2022-02-13T11:18:49.302Z] "Router", "request", "success", {
[2022-02-13T11:18:49.302Z]     "httpMethod": "GET",
[2022-02-13T11:18:49.302Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:18:49.302Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T11:18:49.302Z] }
[2022-02-13T11:18:49.302Z] "promise done, calling callback"
[2022-02-13T11:18:49.302Z] handler promise resolved, sending result...
[2022-02-13T11:29:03.357Z] Received message: {"type":"execute","eventId":"AFvhwcxQS6Q2hgC8jkXtO","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:29:03.357Z] Executing event AFvhwcxQS6Q2hgC8jkXtO
[2022-02-13T11:29:03.357Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:29:03.520Z] Invoking handler function: "handler"
[2022-02-13T11:29:03.520Z] "Router", "request", "info", {
[2022-02-13T11:29:03.520Z]     "httpMethod": "POST",
[2022-02-13T11:29:03.520Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:29:03.520Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:29:03.520Z] }
[2022-02-13T11:29:03.521Z] "authenticating..."
[2022-02-13T11:29:03.527Z] "handler is promise, awaiting response"
[2022-02-13T11:29:03.527Z] Waiting for handler to finish...
[2022-02-13T11:29:03.572Z] "authenticated"
[2022-02-13T11:29:03.572Z] "Router", "request", "success", {
[2022-02-13T11:29:03.572Z]     "httpMethod": "POST",
[2022-02-13T11:29:03.572Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:29:03.573Z]     "path": "/auth/verify-passcode",
[2022-02-13T11:29:03.573Z]     "error": null,
[2022-02-13T11:29:03.573Z]     "result": {
[2022-02-13T11:29:03.573Z]         "isBase64Encoded": false,
[2022-02-13T11:29:03.573Z]         "statusCode": 200,
[2022-02-13T11:29:03.573Z]         "headers": {
[2022-02-13T11:29:03.573Z]             "Content-Type": "application/json"
[2022-02-13T11:29:03.574Z]         },
[2022-02-13T11:29:03.574Z]         "multiValueHeaders": {},
[2022-02-13T11:29:03.574Z]         "body": "\"OK\""
[2022-02-13T11:29:03.574Z]     }
[2022-02-13T11:29:03.574Z] }
[2022-02-13T11:29:03.574Z] "now calling callback"
[2022-02-13T11:29:03.574Z] handler called callback, sending result...
[2022-02-13T11:29:03.575Z] "Router", "request", "success", {
[2022-02-13T11:29:03.575Z]     "httpMethod": "POST",
[2022-02-13T11:29:03.575Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:29:03.575Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:29:03.575Z] }
[2022-02-13T11:29:03.575Z] "promise done, calling callback"
[2022-02-13T11:29:03.575Z] handler promise resolved, sending result...
[2022-02-13T11:29:03.630Z] Received message: {"type":"execute","eventId":"7aO_AWNZhhixNRoFIFQ7Q","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"cc-FP8ymwMD21GTkmFIJwoFY75UGbQ\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:29:03.630Z] Executing event 7aO_AWNZhhixNRoFIFQ7Q
[2022-02-13T11:29:03.630Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:29:03.712Z] Invoking handler function: "handler"
[2022-02-13T11:29:03.712Z] "Router", "request", "info", {
[2022-02-13T11:29:03.712Z]     "httpMethod": "GET",
[2022-02-13T11:29:03.713Z]     "resource": "/books",
[2022-02-13T11:29:03.713Z]     "path": "/books"
[2022-02-13T11:29:03.713Z] }
[2022-02-13T11:29:03.713Z] "authenticating..."
[2022-02-13T11:29:03.719Z] "handler is promise, awaiting response"
[2022-02-13T11:29:03.719Z] Waiting for handler to finish...
[2022-02-13T11:29:03.747Z] "authenticated"
[2022-02-13T11:29:03.748Z] "get books"
[2022-02-13T11:29:03.748Z] "add \"all\" option"
[2022-02-13T11:29:03.748Z] "execute"
[2022-02-13T11:29:03.763Z] "done", [
[2022-02-13T11:29:03.763Z]     {
[2022-02-13T11:29:03.763Z]         "title": "Rina findet auch Freunde",
[2022-02-13T11:29:03.763Z]         "description": "lol. nachmacher!",
[2022-02-13T11:29:03.763Z]         "slug": "rina-findet-auch-freunde"
[2022-02-13T11:29:03.764Z]     },
[2022-02-13T11:29:03.764Z]     {
[2022-02-13T11:29:03.764Z]         "title": "Jan findet freunde",
[2022-02-13T11:29:03.764Z]         "description": "Der titel sagt alles...",
[2022-02-13T11:29:03.764Z]         "slug": "jan-findet-freunde"
[2022-02-13T11:29:03.764Z]     }
[2022-02-13T11:29:03.764Z] ]
[2022-02-13T11:29:03.764Z] "Router", "request", "success", {
[2022-02-13T11:29:03.764Z]     "httpMethod": "GET",
[2022-02-13T11:29:03.764Z]     "resource": "/books",
[2022-02-13T11:29:03.764Z]     "path": "/books",
[2022-02-13T11:29:03.765Z]     "error": null,
[2022-02-13T11:29:03.765Z]     "result": {
[2022-02-13T11:29:03.765Z]         "isBase64Encoded": false,
[2022-02-13T11:29:03.765Z]         "statusCode": 200,
[2022-02-13T11:29:03.765Z]         "headers": {
[2022-02-13T11:29:03.765Z]             "Content-Type": "application/json"
[2022-02-13T11:29:03.765Z]         },
[2022-02-13T11:29:03.765Z]         "multiValueHeaders": {},
[2022-02-13T11:29:03.765Z]         "body": "[{\"title\":\"Rina findet auch Freunde\",\"description\":\"lol. nachmacher!\",\"slug\":\"rina-findet-auch-freunde\"},{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\",\"slug\":\"jan-findet-freunde\"}]"
[2022-02-13T11:29:03.765Z]     }
[2022-02-13T11:29:03.765Z] }
[2022-02-13T11:29:03.765Z] "now calling callback"
[2022-02-13T11:29:03.765Z] handler called callback, sending result...
[2022-02-13T11:29:03.766Z] "Router", "request", "success", {
[2022-02-13T11:29:03.766Z]     "httpMethod": "GET",
[2022-02-13T11:29:03.766Z]     "resource": "/books",
[2022-02-13T11:29:03.766Z]     "path": "/books"
[2022-02-13T11:29:03.766Z] }
[2022-02-13T11:29:03.766Z] "promise done, calling callback"
[2022-02-13T11:29:03.766Z] handler promise resolved, sending result...
[2022-02-13T11:29:03.799Z] Received message: {"type":"execute","eventId":"RLDnQXCqGPlTdzSDDl_z0","payload":{"event":{"isBase64Encoded":false,"path":"/books/jan-findet-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jan-findet-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:29:03.800Z] Executing event RLDnQXCqGPlTdzSDDl_z0
[2022-02-13T11:29:03.800Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:29:03.878Z] Invoking handler function: "handler"
[2022-02-13T11:29:03.879Z] "Router", "request", "info", {
[2022-02-13T11:29:03.879Z]     "httpMethod": "GET",
[2022-02-13T11:29:03.879Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:29:03.879Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:29:03.879Z] }
[2022-02-13T11:29:03.879Z] "authenticating..."
[2022-02-13T11:29:03.886Z] "handler is promise, awaiting response"
[2022-02-13T11:29:03.887Z] Waiting for handler to finish...
[2022-02-13T11:29:03.899Z] Received message: {"type":"execute","eventId":"EApMZ5ith7CIzMrnYQY2E","payload":{"event":{"isBase64Encoded":false,"path":"/books/rina-findet-auch-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"rina-findet-auch-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:29:03.899Z] Executing event EApMZ5ith7CIzMrnYQY2E
[2022-02-13T11:29:03.900Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:29:03.900Z] Invoking handler function: "handler"
[2022-02-13T11:29:03.900Z] "Router", "request", "info", {
[2022-02-13T11:29:03.900Z]     "httpMethod": "GET",
[2022-02-13T11:29:03.901Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:29:03.901Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T11:29:03.901Z] }
[2022-02-13T11:29:03.901Z] "authenticating..."
[2022-02-13T11:29:03.901Z] "handler is promise, awaiting response"
[2022-02-13T11:29:03.901Z] Waiting for handler to finish...
[2022-02-13T11:29:03.930Z] "authenticated"
[2022-02-13T11:29:03.939Z] "authenticated"
[2022-02-13T11:29:03.948Z] "Router", "request", "success", {
[2022-02-13T11:29:03.948Z]     "httpMethod": "GET",
[2022-02-13T11:29:03.948Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:29:03.948Z]     "path": "/books/rina-findet-auch-freunde/stories",
[2022-02-13T11:29:03.949Z]     "error": null,
[2022-02-13T11:29:03.949Z]     "result": {
[2022-02-13T11:29:03.949Z]         "isBase64Encoded": false,
[2022-02-13T11:29:03.949Z]         "statusCode": 200,
[2022-02-13T11:29:03.949Z]         "headers": {
[2022-02-13T11:29:03.949Z]             "Content-Type": "application/json"
[2022-02-13T11:29:03.949Z]         },
[2022-02-13T11:29:03.949Z]         "multiValueHeaders": {},
[2022-02-13T11:29:03.949Z]         "body": "[]"
[2022-02-13T11:29:03.949Z]     }
[2022-02-13T11:29:03.949Z] }
[2022-02-13T11:29:03.950Z] "now calling callback"
[2022-02-13T11:29:03.950Z] handler called callback, sending result...
[2022-02-13T11:29:03.950Z] "Router", "request", "success", {
[2022-02-13T11:29:03.950Z]     "httpMethod": "GET",
[2022-02-13T11:29:03.950Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:29:03.950Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T11:29:03.950Z] }
[2022-02-13T11:29:03.950Z] "promise done, calling callback"
[2022-02-13T11:29:03.951Z] handler promise resolved, sending result...
[2022-02-13T11:29:03.951Z] "Router", "request", "success", {
[2022-02-13T11:29:03.951Z]     "httpMethod": "GET",
[2022-02-13T11:29:03.951Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:29:03.951Z]     "path": "/books/jan-findet-freunde/stories",
[2022-02-13T11:29:03.951Z]     "error": null,
[2022-02-13T11:29:03.951Z]     "result": {
[2022-02-13T11:29:03.951Z]         "isBase64Encoded": false,
[2022-02-13T11:29:03.952Z]         "statusCode": 200,
[2022-02-13T11:29:03.952Z]         "headers": {
[2022-02-13T11:29:03.952Z]             "Content-Type": "application/json"
[2022-02-13T11:29:03.952Z]         },
[2022-02-13T11:29:03.952Z]         "multiValueHeaders": {},
[2022-02-13T11:29:03.952Z]         "body": "[]"
[2022-02-13T11:29:03.952Z]     }
[2022-02-13T11:29:03.952Z] }
[2022-02-13T11:29:03.952Z] "now calling callback"
[2022-02-13T11:29:03.952Z] handler called callback, sending result...
[2022-02-13T11:29:03.952Z] "Router", "request", "success", {
[2022-02-13T11:29:03.953Z]     "httpMethod": "GET",
[2022-02-13T11:29:03.953Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:29:03.953Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:29:03.953Z] }
[2022-02-13T11:29:03.953Z] "promise done, calling callback"
[2022-02-13T11:29:03.953Z] handler promise resolved, sending result...
[2022-02-13T11:34:07.247Z] Received message: {"type":"execute","eventId":"U3g7dPTpqVOT3Xj0kddxh","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:34:07.247Z] Executing event U3g7dPTpqVOT3Xj0kddxh
[2022-02-13T11:34:07.247Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:34:07.413Z] Invoking handler function: "handler"
[2022-02-13T11:34:07.414Z] "Router", "request", "info", {
[2022-02-13T11:34:07.414Z]     "httpMethod": "POST",
[2022-02-13T11:34:07.414Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:34:07.414Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:34:07.414Z] }
[2022-02-13T11:34:07.414Z] "authenticating..."
[2022-02-13T11:34:07.421Z] "handler is promise, awaiting response"
[2022-02-13T11:34:07.421Z] Waiting for handler to finish...
[2022-02-13T11:34:07.456Z] "authenticated"
[2022-02-13T11:34:07.457Z] "Router", "request", "success", {
[2022-02-13T11:34:07.457Z]     "httpMethod": "POST",
[2022-02-13T11:34:07.457Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:34:07.458Z]     "path": "/auth/verify-passcode",
[2022-02-13T11:34:07.458Z]     "error": null,
[2022-02-13T11:34:07.458Z]     "result": {
[2022-02-13T11:34:07.458Z]         "isBase64Encoded": false,
[2022-02-13T11:34:07.458Z]         "statusCode": 200,
[2022-02-13T11:34:07.458Z]         "headers": {
[2022-02-13T11:34:07.458Z]             "Content-Type": "application/json"
[2022-02-13T11:34:07.458Z]         },
[2022-02-13T11:34:07.458Z]         "multiValueHeaders": {},
[2022-02-13T11:34:07.459Z]         "body": "\"OK\""
[2022-02-13T11:34:07.459Z]     }
[2022-02-13T11:34:07.459Z] }
[2022-02-13T11:34:07.459Z] "now calling callback"
[2022-02-13T11:34:07.459Z] handler called callback, sending result...
[2022-02-13T11:34:07.460Z] "Router", "request", "success", {
[2022-02-13T11:34:07.460Z]     "httpMethod": "POST",
[2022-02-13T11:34:07.460Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:34:07.460Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:34:07.460Z] }
[2022-02-13T11:34:07.460Z] "promise done, calling callback"
[2022-02-13T11:34:07.460Z] handler promise resolved, sending result...
[2022-02-13T11:34:07.512Z] Received message: {"type":"execute","eventId":"021QJWFHAidXphCyrbXKQ","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"cc-FP8ymwMD21GTkmFIJwoFY75UGbQ\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:34:07.513Z] Executing event 021QJWFHAidXphCyrbXKQ
[2022-02-13T11:34:07.513Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:34:07.594Z] Invoking handler function: "handler"
[2022-02-13T11:34:07.595Z] "Router", "request", "info", {
[2022-02-13T11:34:07.595Z]     "httpMethod": "GET",
[2022-02-13T11:34:07.595Z]     "resource": "/books",
[2022-02-13T11:34:07.595Z]     "path": "/books"
[2022-02-13T11:34:07.595Z] }
[2022-02-13T11:34:07.595Z] "authenticating..."
[2022-02-13T11:34:07.602Z] "handler is promise, awaiting response"
[2022-02-13T11:34:07.602Z] Waiting for handler to finish...
[2022-02-13T11:34:07.630Z] "authenticated"
[2022-02-13T11:34:07.630Z] "get books"
[2022-02-13T11:34:07.630Z] "add \"all\" option"
[2022-02-13T11:34:07.631Z] "execute"
[2022-02-13T11:34:07.645Z] "done", [
[2022-02-13T11:34:07.646Z]     {
[2022-02-13T11:34:07.646Z]         "title": "Rina findet auch Freunde",
[2022-02-13T11:34:07.646Z]         "description": "lol. nachmacher!",
[2022-02-13T11:34:07.646Z]         "slug": "rina-findet-auch-freunde"
[2022-02-13T11:34:07.646Z]     },
[2022-02-13T11:34:07.646Z]     {
[2022-02-13T11:34:07.647Z]         "title": "Jan findet freunde",
[2022-02-13T11:34:07.647Z]         "description": "Der titel sagt alles...",
[2022-02-13T11:34:07.647Z]         "slug": "jan-findet-freunde"
[2022-02-13T11:34:07.647Z]     }
[2022-02-13T11:34:07.647Z] ]
[2022-02-13T11:34:07.647Z] "Router", "request", "success", {
[2022-02-13T11:34:07.648Z]     "httpMethod": "GET",
[2022-02-13T11:34:07.648Z]     "resource": "/books",
[2022-02-13T11:34:07.648Z]     "path": "/books",
[2022-02-13T11:34:07.648Z]     "error": null,
[2022-02-13T11:34:07.648Z]     "result": {
[2022-02-13T11:34:07.648Z]         "isBase64Encoded": false,
[2022-02-13T11:34:07.648Z]         "statusCode": 200,
[2022-02-13T11:34:07.648Z]         "headers": {
[2022-02-13T11:34:07.648Z]             "Content-Type": "application/json"
[2022-02-13T11:34:07.648Z]         },
[2022-02-13T11:34:07.648Z]         "multiValueHeaders": {},
[2022-02-13T11:34:07.648Z]         "body": "[{\"title\":\"Rina findet auch Freunde\",\"description\":\"lol. nachmacher!\",\"slug\":\"rina-findet-auch-freunde\"},{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\",\"slug\":\"jan-findet-freunde\"}]"
[2022-02-13T11:34:07.649Z]     }
[2022-02-13T11:34:07.649Z] }
[2022-02-13T11:34:07.649Z] "now calling callback"
[2022-02-13T11:34:07.649Z] handler called callback, sending result...
[2022-02-13T11:34:07.649Z] "Router", "request", "success", {
[2022-02-13T11:34:07.649Z]     "httpMethod": "GET",
[2022-02-13T11:34:07.649Z]     "resource": "/books",
[2022-02-13T11:34:07.649Z]     "path": "/books"
[2022-02-13T11:34:07.649Z] }
[2022-02-13T11:34:07.650Z] "promise done, calling callback"
[2022-02-13T11:34:07.650Z] handler promise resolved, sending result...
[2022-02-13T11:34:07.683Z] Received message: {"type":"execute","eventId":"hdtyIJVvU4jTP1ru0jg2X","payload":{"event":{"isBase64Encoded":false,"path":"/books/rina-findet-auch-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"rina-findet-auch-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:34:07.683Z] Executing event hdtyIJVvU4jTP1ru0jg2X
[2022-02-13T11:34:07.683Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:34:07.761Z] Invoking handler function: "handler"
[2022-02-13T11:34:07.762Z] "Router", "request", "info", {
[2022-02-13T11:34:07.762Z]     "httpMethod": "GET",
[2022-02-13T11:34:07.762Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:34:07.762Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T11:34:07.762Z] }
[2022-02-13T11:34:07.762Z] "authenticating..."
[2022-02-13T11:34:07.769Z] "handler is promise, awaiting response"
[2022-02-13T11:34:07.769Z] Waiting for handler to finish...
[2022-02-13T11:34:07.769Z] Received message: {"type":"execute","eventId":"p9vW-Lk2156av26EinA4g","payload":{"event":{"isBase64Encoded":false,"path":"/books/jan-findet-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jan-findet-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:34:07.769Z] Executing event p9vW-Lk2156av26EinA4g
[2022-02-13T11:34:07.769Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:34:07.769Z] Invoking handler function: "handler"
[2022-02-13T11:34:07.769Z] "Router", "request", "info", {
[2022-02-13T11:34:07.769Z]     "httpMethod": "GET",
[2022-02-13T11:34:07.770Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:34:07.770Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:34:07.770Z] }
[2022-02-13T11:34:07.770Z] "authenticating..."
[2022-02-13T11:34:07.770Z] "handler is promise, awaiting response"
[2022-02-13T11:34:07.770Z] Waiting for handler to finish...
[2022-02-13T11:34:07.806Z] "authenticated"
[2022-02-13T11:34:07.817Z] "Router", "request", "success", {
[2022-02-13T11:34:07.817Z]     "httpMethod": "GET",
[2022-02-13T11:34:07.817Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:34:07.817Z]     "path": "/books/rina-findet-auch-freunde/stories",
[2022-02-13T11:34:07.817Z]     "error": null,
[2022-02-13T11:34:07.817Z]     "result": {
[2022-02-13T11:34:07.817Z]         "isBase64Encoded": false,
[2022-02-13T11:34:07.818Z]         "statusCode": 200,
[2022-02-13T11:34:07.818Z]         "headers": {
[2022-02-13T11:34:07.818Z]             "Content-Type": "application/json"
[2022-02-13T11:34:07.818Z]         },
[2022-02-13T11:34:07.818Z]         "multiValueHeaders": {},
[2022-02-13T11:34:07.818Z]         "body": "[]"
[2022-02-13T11:34:07.819Z]     }
[2022-02-13T11:34:07.819Z] }
[2022-02-13T11:34:07.819Z] "now calling callback"
[2022-02-13T11:34:07.819Z] handler called callback, sending result...
[2022-02-13T11:34:07.819Z] "Router", "request", "success", {
[2022-02-13T11:34:07.819Z]     "httpMethod": "GET",
[2022-02-13T11:34:07.819Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:34:07.819Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T11:34:07.819Z] }
[2022-02-13T11:34:07.819Z] "promise done, calling callback"
[2022-02-13T11:34:07.820Z] handler promise resolved, sending result...
[2022-02-13T11:34:07.820Z] "authenticated"
[2022-02-13T11:34:07.825Z] "Router", "request", "success", {
[2022-02-13T11:34:07.826Z]     "httpMethod": "GET",
[2022-02-13T11:34:07.826Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:34:07.826Z]     "path": "/books/jan-findet-freunde/stories",
[2022-02-13T11:34:07.826Z]     "error": null,
[2022-02-13T11:34:07.826Z]     "result": {
[2022-02-13T11:34:07.826Z]         "isBase64Encoded": false,
[2022-02-13T11:34:07.826Z]         "statusCode": 200,
[2022-02-13T11:34:07.826Z]         "headers": {
[2022-02-13T11:34:07.826Z]             "Content-Type": "application/json"
[2022-02-13T11:34:07.827Z]         },
[2022-02-13T11:34:07.827Z]         "multiValueHeaders": {},
[2022-02-13T11:34:07.827Z]         "body": "[]"
[2022-02-13T11:34:07.827Z]     }
[2022-02-13T11:34:07.827Z] }
[2022-02-13T11:34:07.827Z] "now calling callback"
[2022-02-13T11:34:07.827Z] handler called callback, sending result...
[2022-02-13T11:34:07.828Z] "Router", "request", "success", {
[2022-02-13T11:34:07.828Z]     "httpMethod": "GET",
[2022-02-13T11:34:07.828Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:34:07.828Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:34:07.828Z] }
[2022-02-13T11:34:07.828Z] "promise done, calling callback"
[2022-02-13T11:34:07.828Z] handler promise resolved, sending result...
[2022-02-13T11:35:24.237Z] Received message: {"type":"execute","eventId":"Yrat8sKoF8WlafnJf-zyU","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:35:24.238Z] Executing event Yrat8sKoF8WlafnJf-zyU
[2022-02-13T11:35:24.238Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:35:24.377Z] Invoking handler function: "handler"
[2022-02-13T11:35:24.377Z] "Router", "request", "info", {
[2022-02-13T11:35:24.377Z]     "httpMethod": "POST",
[2022-02-13T11:35:24.377Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:35:24.378Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:35:24.378Z] }
[2022-02-13T11:35:24.378Z] "authenticating..."
[2022-02-13T11:35:24.385Z] "handler is promise, awaiting response"
[2022-02-13T11:35:24.385Z] Waiting for handler to finish...
[2022-02-13T11:35:24.423Z] "authenticated"
[2022-02-13T11:35:24.423Z] "Router", "request", "success", {
[2022-02-13T11:35:24.423Z]     "httpMethod": "POST",
[2022-02-13T11:35:24.423Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:35:24.423Z]     "path": "/auth/verify-passcode",
[2022-02-13T11:35:24.423Z]     "error": null,
[2022-02-13T11:35:24.423Z]     "result": {
[2022-02-13T11:35:24.424Z]         "isBase64Encoded": false,
[2022-02-13T11:35:24.424Z]         "statusCode": 200,
[2022-02-13T11:35:24.424Z]         "headers": {
[2022-02-13T11:35:24.424Z]             "Content-Type": "application/json"
[2022-02-13T11:35:24.424Z]         },
[2022-02-13T11:35:24.425Z]         "multiValueHeaders": {},
[2022-02-13T11:35:24.425Z]         "body": "\"OK\""
[2022-02-13T11:35:24.425Z]     }
[2022-02-13T11:35:24.425Z] }
[2022-02-13T11:35:24.425Z] "now calling callback"
[2022-02-13T11:35:24.425Z] handler called callback, sending result...
[2022-02-13T11:35:24.426Z] "Router", "request", "success", {
[2022-02-13T11:35:24.426Z]     "httpMethod": "POST",
[2022-02-13T11:35:24.426Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:35:24.426Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:35:24.426Z] }
[2022-02-13T11:35:24.426Z] "promise done, calling callback"
[2022-02-13T11:35:24.427Z] handler promise resolved, sending result...
[2022-02-13T11:35:24.475Z] Received message: {"type":"execute","eventId":"nRVec51ItACbIKiqSRnjS","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"cc-FP8ymwMD21GTkmFIJwoFY75UGbQ\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:35:24.475Z] Executing event nRVec51ItACbIKiqSRnjS
[2022-02-13T11:35:24.476Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:35:24.558Z] Invoking handler function: "handler"
[2022-02-13T11:35:24.558Z] "Router", "request", "info", {
[2022-02-13T11:35:24.558Z]     "httpMethod": "GET",
[2022-02-13T11:35:24.559Z]     "resource": "/books",
[2022-02-13T11:35:24.559Z]     "path": "/books"
[2022-02-13T11:35:24.559Z] }
[2022-02-13T11:35:24.559Z] "authenticating..."
[2022-02-13T11:35:24.565Z] "handler is promise, awaiting response"
[2022-02-13T11:35:24.565Z] Waiting for handler to finish...
[2022-02-13T11:35:24.605Z] "authenticated"
[2022-02-13T11:35:24.605Z] "get books"
[2022-02-13T11:35:24.605Z] "add \"all\" option"
[2022-02-13T11:35:24.605Z] "execute"
[2022-02-13T11:35:24.616Z] "done", [
[2022-02-13T11:35:24.616Z]     {
[2022-02-13T11:35:24.616Z]         "title": "Rina findet auch Freunde",
[2022-02-13T11:35:24.617Z]         "description": "lol. nachmacher!",
[2022-02-13T11:35:24.617Z]         "slug": "rina-findet-auch-freunde"
[2022-02-13T11:35:24.617Z]     },
[2022-02-13T11:35:24.617Z]     {
[2022-02-13T11:35:24.617Z]         "title": "Jan findet freunde",
[2022-02-13T11:35:24.617Z]         "description": "Der titel sagt alles...",
[2022-02-13T11:35:24.618Z]         "slug": "jan-findet-freunde"
[2022-02-13T11:35:24.618Z]     }
[2022-02-13T11:35:24.618Z] ]
[2022-02-13T11:35:24.618Z] "Router", "request", "success", {
[2022-02-13T11:35:24.618Z]     "httpMethod": "GET",
[2022-02-13T11:35:24.618Z]     "resource": "/books",
[2022-02-13T11:35:24.618Z]     "path": "/books",
[2022-02-13T11:35:24.618Z]     "error": null,
[2022-02-13T11:35:24.618Z]     "result": {
[2022-02-13T11:35:24.618Z]         "isBase64Encoded": false,
[2022-02-13T11:35:24.619Z]         "statusCode": 200,
[2022-02-13T11:35:24.619Z]         "headers": {
[2022-02-13T11:35:24.619Z]             "Content-Type": "application/json"
[2022-02-13T11:35:24.619Z]         },
[2022-02-13T11:35:24.619Z]         "multiValueHeaders": {},
[2022-02-13T11:35:24.619Z]         "body": "[{\"title\":\"Rina findet auch Freunde\",\"description\":\"lol. nachmacher!\",\"slug\":\"rina-findet-auch-freunde\"},{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\",\"slug\":\"jan-findet-freunde\"}]"
[2022-02-13T11:35:24.619Z]     }
[2022-02-13T11:35:24.619Z] }
[2022-02-13T11:35:24.619Z] "now calling callback"
[2022-02-13T11:35:24.619Z] handler called callback, sending result...
[2022-02-13T11:35:24.620Z] "Router", "request", "success", {
[2022-02-13T11:35:24.620Z]     "httpMethod": "GET",
[2022-02-13T11:35:24.620Z]     "resource": "/books",
[2022-02-13T11:35:24.620Z]     "path": "/books"
[2022-02-13T11:35:24.620Z] }
[2022-02-13T11:35:24.620Z] "promise done, calling callback"
[2022-02-13T11:35:24.620Z] handler promise resolved, sending result...
[2022-02-13T11:35:24.652Z] Received message: {"type":"execute","eventId":"7YRl2yF4-4DjgctIF3fnm","payload":{"event":{"isBase64Encoded":false,"path":"/books/rina-findet-auch-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"rina-findet-auch-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:35:24.653Z] Executing event 7YRl2yF4-4DjgctIF3fnm
[2022-02-13T11:35:24.653Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:35:24.735Z] Invoking handler function: "handler"
[2022-02-13T11:35:24.735Z] "Router", "request", "info", {
[2022-02-13T11:35:24.735Z]     "httpMethod": "GET",
[2022-02-13T11:35:24.735Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:35:24.735Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T11:35:24.735Z] }
[2022-02-13T11:35:24.735Z] "authenticating..."
[2022-02-13T11:35:24.742Z] "handler is promise, awaiting response"
[2022-02-13T11:35:24.742Z] Waiting for handler to finish...
[2022-02-13T11:35:24.742Z] Received message: {"type":"execute","eventId":"K195VmdmyhWDYFfmXxge3","payload":{"event":{"isBase64Encoded":false,"path":"/books/jan-findet-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jan-findet-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:35:24.743Z] Executing event K195VmdmyhWDYFfmXxge3
[2022-02-13T11:35:24.743Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:35:24.743Z] Invoking handler function: "handler"
[2022-02-13T11:35:24.743Z] "Router", "request", "info", {
[2022-02-13T11:35:24.743Z]     "httpMethod": "GET",
[2022-02-13T11:35:24.743Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:35:24.743Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:35:24.743Z] }
[2022-02-13T11:35:24.744Z] "authenticating..."
[2022-02-13T11:35:24.744Z] "handler is promise, awaiting response"
[2022-02-13T11:35:24.744Z] Waiting for handler to finish...
[2022-02-13T11:35:24.766Z] "authenticated"
[2022-02-13T11:35:24.772Z] "authenticated"
[2022-02-13T11:35:24.787Z] "Router", "request", "success", {
[2022-02-13T11:35:24.787Z]     "httpMethod": "GET",
[2022-02-13T11:35:24.787Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:35:24.787Z]     "path": "/books/rina-findet-auch-freunde/stories",
[2022-02-13T11:35:24.787Z]     "error": null,
[2022-02-13T11:35:24.787Z]     "result": {
[2022-02-13T11:35:24.787Z]         "isBase64Encoded": false,
[2022-02-13T11:35:24.788Z]         "statusCode": 200,
[2022-02-13T11:35:24.788Z]         "headers": {
[2022-02-13T11:35:24.788Z]             "Content-Type": "application/json"
[2022-02-13T11:35:24.788Z]         },
[2022-02-13T11:35:24.788Z]         "multiValueHeaders": {},
[2022-02-13T11:35:24.788Z]         "body": "[]"
[2022-02-13T11:35:24.788Z]     }
[2022-02-13T11:35:24.788Z] }
[2022-02-13T11:35:24.788Z] "now calling callback"
[2022-02-13T11:35:24.788Z] handler called callback, sending result...
[2022-02-13T11:35:24.789Z] "Router", "request", "success", {
[2022-02-13T11:35:24.789Z]     "httpMethod": "GET",
[2022-02-13T11:35:24.789Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:35:24.789Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T11:35:24.789Z] }
[2022-02-13T11:35:24.789Z] "promise done, calling callback"
[2022-02-13T11:35:24.789Z] handler promise resolved, sending result...
[2022-02-13T11:35:24.789Z] "Router", "request", "success", {
[2022-02-13T11:35:24.789Z]     "httpMethod": "GET",
[2022-02-13T11:35:24.789Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:35:24.789Z]     "path": "/books/jan-findet-freunde/stories",
[2022-02-13T11:35:24.790Z]     "error": null,
[2022-02-13T11:35:24.790Z]     "result": {
[2022-02-13T11:35:24.790Z]         "isBase64Encoded": false,
[2022-02-13T11:35:24.790Z]         "statusCode": 200,
[2022-02-13T11:35:24.790Z]         "headers": {
[2022-02-13T11:35:24.790Z]             "Content-Type": "application/json"
[2022-02-13T11:35:24.790Z]         },
[2022-02-13T11:35:24.790Z]         "multiValueHeaders": {},
[2022-02-13T11:35:24.791Z]         "body": "[]"
[2022-02-13T11:35:24.791Z]     }
[2022-02-13T11:35:24.791Z] }
[2022-02-13T11:35:24.791Z] "now calling callback"
[2022-02-13T11:35:24.791Z] handler called callback, sending result...
[2022-02-13T11:35:24.791Z] "Router", "request", "success", {
[2022-02-13T11:35:24.791Z]     "httpMethod": "GET",
[2022-02-13T11:35:24.791Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:35:24.791Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:35:24.792Z] }
[2022-02-13T11:35:24.792Z] "promise done, calling callback"
[2022-02-13T11:35:24.792Z] handler promise resolved, sending result...
[2022-02-13T11:37:10.750Z] Received message: {"type":"execute","eventId":"0CYLnvz5OjLPMKZ3S85fY","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:37:10.751Z] Executing event 0CYLnvz5OjLPMKZ3S85fY
[2022-02-13T11:37:10.751Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:37:10.908Z] Invoking handler function: "handler"
[2022-02-13T11:37:10.908Z] "Router", "request", "info", {
[2022-02-13T11:37:10.908Z]     "httpMethod": "POST",
[2022-02-13T11:37:10.908Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:37:10.908Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:37:10.908Z] }
[2022-02-13T11:37:10.908Z] "authenticating..."
[2022-02-13T11:37:10.916Z] "handler is promise, awaiting response"
[2022-02-13T11:37:10.916Z] Waiting for handler to finish...
[2022-02-13T11:37:10.944Z] "authenticated"
[2022-02-13T11:37:10.944Z] "Router", "request", "success", {
[2022-02-13T11:37:10.944Z]     "httpMethod": "POST",
[2022-02-13T11:37:10.947Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:37:10.947Z]     "path": "/auth/verify-passcode",
[2022-02-13T11:37:10.947Z]     "error": null,
[2022-02-13T11:37:10.947Z]     "result": {
[2022-02-13T11:37:10.948Z]         "isBase64Encoded": false,
[2022-02-13T11:37:10.948Z]         "statusCode": 200,
[2022-02-13T11:37:10.948Z]         "headers": {
[2022-02-13T11:37:10.948Z]             "Content-Type": "application/json"
[2022-02-13T11:37:10.948Z]         },
[2022-02-13T11:37:10.948Z]         "multiValueHeaders": {},
[2022-02-13T11:37:10.948Z]         "body": "\"OK\""
[2022-02-13T11:37:10.948Z]     }
[2022-02-13T11:37:10.948Z] }
[2022-02-13T11:37:10.948Z] "now calling callback"
[2022-02-13T11:37:10.949Z] handler called callback, sending result...
[2022-02-13T11:37:10.949Z] "Router", "request", "success", {
[2022-02-13T11:37:10.949Z]     "httpMethod": "POST",
[2022-02-13T11:37:10.949Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:37:10.950Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:37:10.950Z] }
[2022-02-13T11:37:10.950Z] "promise done, calling callback"
[2022-02-13T11:37:10.950Z] handler promise resolved, sending result...
[2022-02-13T11:37:11.002Z] Received message: {"type":"execute","eventId":"AqgAIsaxh8WNjFhyQ8U2Z","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"cc-FP8ymwMD21GTkmFIJwoFY75UGbQ\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:37:11.003Z] Executing event AqgAIsaxh8WNjFhyQ8U2Z
[2022-02-13T11:37:11.003Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:37:11.087Z] Invoking handler function: "handler"
[2022-02-13T11:37:11.088Z] "Router", "request", "info", {
[2022-02-13T11:37:11.088Z]     "httpMethod": "GET",
[2022-02-13T11:37:11.088Z]     "resource": "/books",
[2022-02-13T11:37:11.089Z]     "path": "/books"
[2022-02-13T11:37:11.089Z] }
[2022-02-13T11:37:11.089Z] "authenticating..."
[2022-02-13T11:37:11.095Z] "handler is promise, awaiting response"
[2022-02-13T11:37:11.095Z] Waiting for handler to finish...
[2022-02-13T11:37:11.128Z] "authenticated"
[2022-02-13T11:37:11.128Z] "get books"
[2022-02-13T11:37:11.128Z] "add \"all\" option"
[2022-02-13T11:37:11.128Z] "execute"
[2022-02-13T11:37:11.138Z] "done", [
[2022-02-13T11:37:11.138Z]     {
[2022-02-13T11:37:11.138Z]         "title": "Rina findet auch Freunde",
[2022-02-13T11:37:11.138Z]         "description": "lol. nachmacher!",
[2022-02-13T11:37:11.138Z]         "slug": "rina-findet-auch-freunde"
[2022-02-13T11:37:11.138Z]     },
[2022-02-13T11:37:11.138Z]     {
[2022-02-13T11:37:11.138Z]         "title": "Jan findet freunde",
[2022-02-13T11:37:11.138Z]         "description": "Der titel sagt alles...",
[2022-02-13T11:37:11.138Z]         "slug": "jan-findet-freunde"
[2022-02-13T11:37:11.139Z]     }
[2022-02-13T11:37:11.139Z] ]
[2022-02-13T11:37:11.139Z] "Router", "request", "success", {
[2022-02-13T11:37:11.139Z]     "httpMethod": "GET",
[2022-02-13T11:37:11.140Z]     "resource": "/books",
[2022-02-13T11:37:11.140Z]     "path": "/books",
[2022-02-13T11:37:11.141Z]     "error": null,
[2022-02-13T11:37:11.142Z]     "result": {
[2022-02-13T11:37:11.142Z]         "isBase64Encoded": false,
[2022-02-13T11:37:11.142Z]         "statusCode": 200,
[2022-02-13T11:37:11.142Z]         "headers": {
[2022-02-13T11:37:11.143Z]             "Content-Type": "application/json"
[2022-02-13T11:37:11.143Z]         },
[2022-02-13T11:37:11.144Z]         "multiValueHeaders": {},
[2022-02-13T11:37:11.144Z]         "body": "[{\"title\":\"Rina findet auch Freunde\",\"description\":\"lol. nachmacher!\",\"slug\":\"rina-findet-auch-freunde\"},{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\",\"slug\":\"jan-findet-freunde\"}]"
[2022-02-13T11:37:11.144Z]     }
[2022-02-13T11:37:11.144Z] }
[2022-02-13T11:37:11.144Z] "now calling callback"
[2022-02-13T11:37:11.144Z] handler called callback, sending result...
[2022-02-13T11:37:11.145Z] "Router", "request", "success", {
[2022-02-13T11:37:11.145Z]     "httpMethod": "GET",
[2022-02-13T11:37:11.145Z]     "resource": "/books",
[2022-02-13T11:37:11.145Z]     "path": "/books"
[2022-02-13T11:37:11.145Z] }
[2022-02-13T11:37:11.145Z] "promise done, calling callback"
[2022-02-13T11:37:11.145Z] handler promise resolved, sending result...
[2022-02-13T11:37:11.179Z] Received message: {"type":"execute","eventId":"cUXQARPNaEdUbSU8QwaQz","payload":{"event":{"isBase64Encoded":false,"path":"/books/rina-findet-auch-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"rina-findet-auch-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:37:11.180Z] Executing event cUXQARPNaEdUbSU8QwaQz
[2022-02-13T11:37:11.180Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:37:11.260Z] Invoking handler function: "handler"
[2022-02-13T11:37:11.260Z] "Router", "request", "info", {
[2022-02-13T11:37:11.261Z]     "httpMethod": "GET",
[2022-02-13T11:37:11.261Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:37:11.261Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T11:37:11.261Z] }
[2022-02-13T11:37:11.261Z] "authenticating..."
[2022-02-13T11:37:11.267Z] "handler is promise, awaiting response"
[2022-02-13T11:37:11.268Z] Waiting for handler to finish...
[2022-02-13T11:37:11.268Z] Received message: {"type":"execute","eventId":"vm60l93ZHf6zt1f2T9DkP","payload":{"event":{"isBase64Encoded":false,"path":"/books/jan-findet-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jan-findet-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:37:11.268Z] Executing event vm60l93ZHf6zt1f2T9DkP
[2022-02-13T11:37:11.268Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:37:11.268Z] Invoking handler function: "handler"
[2022-02-13T11:37:11.268Z] "Router", "request", "info", {
[2022-02-13T11:37:11.268Z]     "httpMethod": "GET",
[2022-02-13T11:37:11.268Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:37:11.268Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:37:11.268Z] }
[2022-02-13T11:37:11.269Z] "authenticating..."
[2022-02-13T11:37:11.269Z] "handler is promise, awaiting response"
[2022-02-13T11:37:11.269Z] Waiting for handler to finish...
[2022-02-13T11:37:11.299Z] "authenticated"
[2022-02-13T11:37:11.305Z] "authenticated"
[2022-02-13T11:37:11.313Z] "Router", "request", "success", {
[2022-02-13T11:37:11.314Z]     "httpMethod": "GET",
[2022-02-13T11:37:11.314Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:37:11.314Z]     "path": "/books/jan-findet-freunde/stories",
[2022-02-13T11:37:11.314Z]     "error": null,
[2022-02-13T11:37:11.314Z]     "result": {
[2022-02-13T11:37:11.314Z]         "isBase64Encoded": false,
[2022-02-13T11:37:11.314Z]         "statusCode": 200,
[2022-02-13T11:37:11.314Z]         "headers": {
[2022-02-13T11:37:11.314Z]             "Content-Type": "application/json"
[2022-02-13T11:37:11.314Z]         },
[2022-02-13T11:37:11.315Z]         "multiValueHeaders": {},
[2022-02-13T11:37:11.315Z]         "body": "[]"
[2022-02-13T11:37:11.315Z]     }
[2022-02-13T11:37:11.315Z] }
[2022-02-13T11:37:11.315Z] "now calling callback"
[2022-02-13T11:37:11.315Z] handler called callback, sending result...
[2022-02-13T11:37:11.315Z] "Router", "request", "success", {
[2022-02-13T11:37:11.315Z]     "httpMethod": "GET",
[2022-02-13T11:37:11.316Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:37:11.316Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:37:11.316Z] }
[2022-02-13T11:37:11.316Z] "promise done, calling callback"
[2022-02-13T11:37:11.316Z] handler promise resolved, sending result...
[2022-02-13T11:37:11.317Z] "Router", "request", "success", {
[2022-02-13T11:37:11.317Z]     "httpMethod": "GET",
[2022-02-13T11:37:11.318Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:37:11.318Z]     "path": "/books/rina-findet-auch-freunde/stories",
[2022-02-13T11:37:11.318Z]     "error": null,
[2022-02-13T11:37:11.318Z]     "result": {
[2022-02-13T11:37:11.318Z]         "isBase64Encoded": false,
[2022-02-13T11:37:11.318Z]         "statusCode": 200,
[2022-02-13T11:37:11.318Z]         "headers": {
[2022-02-13T11:37:11.318Z]             "Content-Type": "application/json"
[2022-02-13T11:37:11.319Z]         },
[2022-02-13T11:37:11.319Z]         "multiValueHeaders": {},
[2022-02-13T11:37:11.319Z]         "body": "[]"
[2022-02-13T11:37:11.319Z]     }
[2022-02-13T11:37:11.319Z] }
[2022-02-13T11:37:11.319Z] "now calling callback"
[2022-02-13T11:37:11.319Z] handler called callback, sending result...
[2022-02-13T11:37:11.320Z] "Router", "request", "success", {
[2022-02-13T11:37:11.320Z]     "httpMethod": "GET",
[2022-02-13T11:37:11.320Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:37:11.320Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T11:37:11.320Z] }
[2022-02-13T11:37:11.320Z] "promise done, calling callback"
[2022-02-13T11:37:11.320Z] handler promise resolved, sending result...
[2022-02-13T11:37:31.755Z] Received message: {"type":"execute","eventId":"Y8cyuAGmltF69aFzVNHQG","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:37:31.755Z] Executing event Y8cyuAGmltF69aFzVNHQG
[2022-02-13T11:37:31.756Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:37:31.890Z] Invoking handler function: "handler"
[2022-02-13T11:37:31.891Z] "Router", "request", "info", {
[2022-02-13T11:37:31.891Z]     "httpMethod": "POST",
[2022-02-13T11:37:31.891Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:37:31.891Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:37:31.891Z] }
[2022-02-13T11:37:31.891Z] "authenticating..."
[2022-02-13T11:37:31.898Z] "handler is promise, awaiting response"
[2022-02-13T11:37:31.898Z] Waiting for handler to finish...
[2022-02-13T11:37:31.936Z] "authenticated"
[2022-02-13T11:37:31.936Z] "Router", "request", "success", {
[2022-02-13T11:37:31.936Z]     "httpMethod": "POST",
[2022-02-13T11:37:31.937Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:37:31.937Z]     "path": "/auth/verify-passcode",
[2022-02-13T11:37:31.937Z]     "error": null,
[2022-02-13T11:37:31.937Z]     "result": {
[2022-02-13T11:37:31.937Z]         "isBase64Encoded": false,
[2022-02-13T11:37:31.937Z]         "statusCode": 200,
[2022-02-13T11:37:31.937Z]         "headers": {
[2022-02-13T11:37:31.937Z]             "Content-Type": "application/json"
[2022-02-13T11:37:31.938Z]         },
[2022-02-13T11:37:31.938Z]         "multiValueHeaders": {},
[2022-02-13T11:37:31.938Z]         "body": "\"OK\""
[2022-02-13T11:37:31.938Z]     }
[2022-02-13T11:37:31.938Z] }
[2022-02-13T11:37:31.938Z] "now calling callback"
[2022-02-13T11:37:31.938Z] handler called callback, sending result...
[2022-02-13T11:37:31.939Z] "Router", "request", "success", {
[2022-02-13T11:37:31.939Z]     "httpMethod": "POST",
[2022-02-13T11:37:31.939Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:37:31.939Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:37:31.939Z] }
[2022-02-13T11:37:31.940Z] "promise done, calling callback"
[2022-02-13T11:37:31.940Z] handler promise resolved, sending result...
[2022-02-13T11:37:31.991Z] Received message: {"type":"execute","eventId":"IKbkcsHZnvYdMiYzgjo_W","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"cc-FP8ymwMD21GTkmFIJwoFY75UGbQ\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:37:31.991Z] Executing event IKbkcsHZnvYdMiYzgjo_W
[2022-02-13T11:37:31.991Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:37:32.073Z] Invoking handler function: "handler"
[2022-02-13T11:37:32.074Z] "Router", "request", "info", {
[2022-02-13T11:37:32.074Z]     "httpMethod": "GET",
[2022-02-13T11:37:32.074Z]     "resource": "/books",
[2022-02-13T11:37:32.074Z]     "path": "/books"
[2022-02-13T11:37:32.074Z] }
[2022-02-13T11:37:32.074Z] "authenticating..."
[2022-02-13T11:37:32.081Z] "handler is promise, awaiting response"
[2022-02-13T11:37:32.081Z] Waiting for handler to finish...
[2022-02-13T11:37:32.111Z] "authenticated"
[2022-02-13T11:37:32.111Z] "get books"
[2022-02-13T11:37:32.111Z] "add \"all\" option"
[2022-02-13T11:37:32.111Z] "execute"
[2022-02-13T11:37:32.125Z] "done", [
[2022-02-13T11:37:32.125Z]     {
[2022-02-13T11:37:32.126Z]         "title": "Rina findet auch Freunde",
[2022-02-13T11:37:32.126Z]         "description": "lol. nachmacher!",
[2022-02-13T11:37:32.126Z]         "slug": "rina-findet-auch-freunde"
[2022-02-13T11:37:32.126Z]     },
[2022-02-13T11:37:32.126Z]     {
[2022-02-13T11:37:32.127Z]         "title": "Jan findet freunde",
[2022-02-13T11:37:32.127Z]         "description": "Der titel sagt alles...",
[2022-02-13T11:37:32.127Z]         "slug": "jan-findet-freunde"
[2022-02-13T11:37:32.127Z]     }
[2022-02-13T11:37:32.127Z] ]
[2022-02-13T11:37:32.127Z] "Router", "request", "success", {
[2022-02-13T11:37:32.127Z]     "httpMethod": "GET",
[2022-02-13T11:37:32.127Z]     "resource": "/books",
[2022-02-13T11:37:32.127Z]     "path": "/books",
[2022-02-13T11:37:32.127Z]     "error": null,
[2022-02-13T11:37:32.127Z]     "result": {
[2022-02-13T11:37:32.127Z]         "isBase64Encoded": false,
[2022-02-13T11:37:32.128Z]         "statusCode": 200,
[2022-02-13T11:37:32.128Z]         "headers": {
[2022-02-13T11:37:32.128Z]             "Content-Type": "application/json"
[2022-02-13T11:37:32.128Z]         },
[2022-02-13T11:37:32.128Z]         "multiValueHeaders": {},
[2022-02-13T11:37:32.128Z]         "body": "[{\"title\":\"Rina findet auch Freunde\",\"description\":\"lol. nachmacher!\",\"slug\":\"rina-findet-auch-freunde\"},{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\",\"slug\":\"jan-findet-freunde\"}]"
[2022-02-13T11:37:32.128Z]     }
[2022-02-13T11:37:32.128Z] }
[2022-02-13T11:37:32.128Z] "now calling callback"
[2022-02-13T11:37:32.128Z] handler called callback, sending result...
[2022-02-13T11:37:32.128Z] "Router", "request", "success", {
[2022-02-13T11:37:32.129Z]     "httpMethod": "GET",
[2022-02-13T11:37:32.129Z]     "resource": "/books",
[2022-02-13T11:37:32.129Z]     "path": "/books"
[2022-02-13T11:37:32.129Z] }
[2022-02-13T11:37:32.129Z] "promise done, calling callback"
[2022-02-13T11:37:32.129Z] handler promise resolved, sending result...
[2022-02-13T11:37:32.162Z] Received message: {"type":"execute","eventId":"jP02FqRJ2TIOWUJ9EAq3h","payload":{"event":{"isBase64Encoded":false,"path":"/books/rina-findet-auch-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"rina-findet-auch-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:37:32.163Z] Executing event jP02FqRJ2TIOWUJ9EAq3h
[2022-02-13T11:37:32.163Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:37:32.242Z] Invoking handler function: "handler"
[2022-02-13T11:37:32.242Z] "Router", "request", "info", {
[2022-02-13T11:37:32.243Z]     "httpMethod": "GET",
[2022-02-13T11:37:32.243Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:37:32.243Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T11:37:32.244Z] }
[2022-02-13T11:37:32.244Z] "authenticating..."
[2022-02-13T11:37:32.250Z] "handler is promise, awaiting response"
[2022-02-13T11:37:32.250Z] Waiting for handler to finish...
[2022-02-13T11:37:32.250Z] Received message: {"type":"execute","eventId":"y0kbeOt9XWBO4D-JToWEK","payload":{"event":{"isBase64Encoded":false,"path":"/books/jan-findet-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jan-findet-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:37:32.250Z] Executing event y0kbeOt9XWBO4D-JToWEK
[2022-02-13T11:37:32.250Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:37:32.250Z] Invoking handler function: "handler"
[2022-02-13T11:37:32.250Z] "Router", "request", "info", {
[2022-02-13T11:37:32.250Z]     "httpMethod": "GET",
[2022-02-13T11:37:32.250Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:37:32.251Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:37:32.251Z] }
[2022-02-13T11:37:32.251Z] "authenticating..."
[2022-02-13T11:37:32.251Z] "handler is promise, awaiting response"
[2022-02-13T11:37:32.251Z] Waiting for handler to finish...
[2022-02-13T11:37:32.285Z] "authenticated"
[2022-02-13T11:37:32.289Z] "authenticated"
[2022-02-13T11:37:32.300Z] "Router", "request", "success", {
[2022-02-13T11:37:32.300Z]     "httpMethod": "GET",
[2022-02-13T11:37:32.300Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:37:32.300Z]     "path": "/books/rina-findet-auch-freunde/stories",
[2022-02-13T11:37:32.300Z]     "error": null,
[2022-02-13T11:37:32.300Z]     "result": {
[2022-02-13T11:37:32.300Z]         "isBase64Encoded": false,
[2022-02-13T11:37:32.300Z]         "statusCode": 200,
[2022-02-13T11:37:32.301Z]         "headers": {
[2022-02-13T11:37:32.301Z]             "Content-Type": "application/json"
[2022-02-13T11:37:32.301Z]         },
[2022-02-13T11:37:32.301Z]         "multiValueHeaders": {},
[2022-02-13T11:37:32.301Z]         "body": "[]"
[2022-02-13T11:37:32.301Z]     }
[2022-02-13T11:37:32.301Z] }
[2022-02-13T11:37:32.301Z] "now calling callback"
[2022-02-13T11:37:32.301Z] handler called callback, sending result...
[2022-02-13T11:37:32.301Z] "Router", "request", "success", {
[2022-02-13T11:37:32.301Z]     "httpMethod": "GET",
[2022-02-13T11:37:32.302Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:37:32.302Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T11:37:32.302Z] }
[2022-02-13T11:37:32.302Z] "promise done, calling callback"
[2022-02-13T11:37:32.302Z] handler promise resolved, sending result...
[2022-02-13T11:37:32.302Z] "Router", "request", "success", {
[2022-02-13T11:37:32.302Z]     "httpMethod": "GET",
[2022-02-13T11:37:32.302Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:37:32.302Z]     "path": "/books/jan-findet-freunde/stories",
[2022-02-13T11:37:32.302Z]     "error": null,
[2022-02-13T11:37:32.303Z]     "result": {
[2022-02-13T11:37:32.303Z]         "isBase64Encoded": false,
[2022-02-13T11:37:32.303Z]         "statusCode": 200,
[2022-02-13T11:37:32.303Z]         "headers": {
[2022-02-13T11:37:32.303Z]             "Content-Type": "application/json"
[2022-02-13T11:37:32.303Z]         },
[2022-02-13T11:37:32.303Z]         "multiValueHeaders": {},
[2022-02-13T11:37:32.303Z]         "body": "[]"
[2022-02-13T11:37:32.303Z]     }
[2022-02-13T11:37:32.303Z] }
[2022-02-13T11:37:32.303Z] "now calling callback"
[2022-02-13T11:37:32.303Z] handler called callback, sending result...
[2022-02-13T11:37:32.304Z] "Router", "request", "success", {
[2022-02-13T11:37:32.304Z]     "httpMethod": "GET",
[2022-02-13T11:37:32.304Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:37:32.304Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:37:32.304Z] }
[2022-02-13T11:37:32.304Z] "promise done, calling callback"
[2022-02-13T11:37:32.304Z] handler promise resolved, sending result...
[2022-02-13T11:38:33.072Z] Received message: {"type":"execute","eventId":"JFG2dHrw2Gf4pqJJ0c6v-","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:38:33.073Z] Executing event JFG2dHrw2Gf4pqJJ0c6v-
[2022-02-13T11:38:33.074Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:38:33.215Z] Invoking handler function: "handler"
[2022-02-13T11:38:33.215Z] "Router", "request", "info", {
[2022-02-13T11:38:33.215Z]     "httpMethod": "POST",
[2022-02-13T11:38:33.215Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:38:33.216Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:38:33.216Z] }
[2022-02-13T11:38:33.216Z] "authenticating..."
[2022-02-13T11:38:33.223Z] "handler is promise, awaiting response"
[2022-02-13T11:38:33.223Z] Waiting for handler to finish...
[2022-02-13T11:38:33.247Z] "authenticated"
[2022-02-13T11:38:33.247Z] "Router", "request", "success", {
[2022-02-13T11:38:33.247Z]     "httpMethod": "POST",
[2022-02-13T11:38:33.247Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:38:33.247Z]     "path": "/auth/verify-passcode",
[2022-02-13T11:38:33.247Z]     "error": null,
[2022-02-13T11:38:33.247Z]     "result": {
[2022-02-13T11:38:33.248Z]         "isBase64Encoded": false,
[2022-02-13T11:38:33.248Z]         "statusCode": 200,
[2022-02-13T11:38:33.248Z]         "headers": {
[2022-02-13T11:38:33.248Z]             "Content-Type": "application/json"
[2022-02-13T11:38:33.248Z]         },
[2022-02-13T11:38:33.248Z]         "multiValueHeaders": {},
[2022-02-13T11:38:33.248Z]         "body": "\"OK\""
[2022-02-13T11:38:33.248Z]     }
[2022-02-13T11:38:33.248Z] }
[2022-02-13T11:38:33.248Z] "now calling callback"
[2022-02-13T11:38:33.248Z] handler called callback, sending result...
[2022-02-13T11:38:33.249Z] "Router", "request", "success", {
[2022-02-13T11:38:33.249Z]     "httpMethod": "POST",
[2022-02-13T11:38:33.249Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:38:33.249Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:38:33.249Z] }
[2022-02-13T11:38:33.249Z] "promise done, calling callback"
[2022-02-13T11:38:33.249Z] handler promise resolved, sending result...
[2022-02-13T11:38:33.304Z] Received message: {"type":"execute","eventId":"Oe_ZNKXdMq1EEithwLEym","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"cc-FP8ymwMD21GTkmFIJwoFY75UGbQ\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:38:33.304Z] Executing event Oe_ZNKXdMq1EEithwLEym
[2022-02-13T11:38:33.304Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:38:33.388Z] Invoking handler function: "handler"
[2022-02-13T11:38:33.388Z] "Router", "request", "info", {
[2022-02-13T11:38:33.389Z]     "httpMethod": "GET",
[2022-02-13T11:38:33.389Z]     "resource": "/books",
[2022-02-13T11:38:33.389Z]     "path": "/books"
[2022-02-13T11:38:33.389Z] }
[2022-02-13T11:38:33.389Z] "authenticating..."
[2022-02-13T11:38:33.395Z] "handler is promise, awaiting response"
[2022-02-13T11:38:33.395Z] Waiting for handler to finish...
[2022-02-13T11:38:33.422Z] "authenticated"
[2022-02-13T11:38:33.422Z] "get books"
[2022-02-13T11:38:33.422Z] "add \"all\" option"
[2022-02-13T11:38:33.422Z] "execute"
[2022-02-13T11:38:33.439Z] "done", [
[2022-02-13T11:38:33.439Z]     {
[2022-02-13T11:38:33.439Z]         "title": "Rina findet auch Freunde",
[2022-02-13T11:38:33.440Z]         "description": "lol. nachmacher!",
[2022-02-13T11:38:33.440Z]         "slug": "rina-findet-auch-freunde"
[2022-02-13T11:38:33.440Z]     },
[2022-02-13T11:38:33.440Z]     {
[2022-02-13T11:38:33.440Z]         "title": "Jan findet freunde",
[2022-02-13T11:38:33.440Z]         "description": "Der titel sagt alles...",
[2022-02-13T11:38:33.440Z]         "slug": "jan-findet-freunde"
[2022-02-13T11:38:33.440Z]     }
[2022-02-13T11:38:33.440Z] ]
[2022-02-13T11:38:33.440Z] "Router", "request", "success", {
[2022-02-13T11:38:33.440Z]     "httpMethod": "GET",
[2022-02-13T11:38:33.440Z]     "resource": "/books",
[2022-02-13T11:38:33.441Z]     "path": "/books",
[2022-02-13T11:38:33.441Z]     "error": null,
[2022-02-13T11:38:33.441Z]     "result": {
[2022-02-13T11:38:33.441Z]         "isBase64Encoded": false,
[2022-02-13T11:38:33.441Z]         "statusCode": 200,
[2022-02-13T11:38:33.441Z]         "headers": {
[2022-02-13T11:38:33.441Z]             "Content-Type": "application/json"
[2022-02-13T11:38:33.441Z]         },
[2022-02-13T11:38:33.441Z]         "multiValueHeaders": {},
[2022-02-13T11:38:33.441Z]         "body": "[{\"title\":\"Rina findet auch Freunde\",\"description\":\"lol. nachmacher!\",\"slug\":\"rina-findet-auch-freunde\"},{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\",\"slug\":\"jan-findet-freunde\"}]"
[2022-02-13T11:38:33.441Z]     }
[2022-02-13T11:38:33.441Z] }
[2022-02-13T11:38:33.442Z] "now calling callback"
[2022-02-13T11:38:33.442Z] handler called callback, sending result...
[2022-02-13T11:38:33.442Z] "Router", "request", "success", {
[2022-02-13T11:38:33.442Z]     "httpMethod": "GET",
[2022-02-13T11:38:33.442Z]     "resource": "/books",
[2022-02-13T11:38:33.442Z]     "path": "/books"
[2022-02-13T11:38:33.442Z] }
[2022-02-13T11:38:33.442Z] "promise done, calling callback"
[2022-02-13T11:38:33.442Z] handler promise resolved, sending result...
[2022-02-13T11:38:33.475Z] Received message: {"type":"execute","eventId":"uqTx9ReldbXOBJUpqlre1","payload":{"event":{"isBase64Encoded":false,"path":"/books/rina-findet-auch-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"rina-findet-auch-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:38:33.476Z] Executing event uqTx9ReldbXOBJUpqlre1
[2022-02-13T11:38:33.476Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:38:33.555Z] Invoking handler function: "handler"
[2022-02-13T11:38:33.555Z] "Router", "request", "info", {
[2022-02-13T11:38:33.555Z]     "httpMethod": "GET",
[2022-02-13T11:38:33.555Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:38:33.555Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T11:38:33.556Z] }
[2022-02-13T11:38:33.556Z] "authenticating..."
[2022-02-13T11:38:33.562Z] "handler is promise, awaiting response"
[2022-02-13T11:38:33.562Z] Waiting for handler to finish...
[2022-02-13T11:38:33.563Z] Received message: {"type":"execute","eventId":"GdSC29qUMO3kLyt7QRVJi","payload":{"event":{"isBase64Encoded":false,"path":"/books/jan-findet-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jan-findet-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:38:33.563Z] Executing event GdSC29qUMO3kLyt7QRVJi
[2022-02-13T11:38:33.563Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:38:33.563Z] Invoking handler function: "handler"
[2022-02-13T11:38:33.563Z] "Router", "request", "info", {
[2022-02-13T11:38:33.563Z]     "httpMethod": "GET",
[2022-02-13T11:38:33.564Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:38:33.564Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:38:33.564Z] }
[2022-02-13T11:38:33.564Z] "authenticating..."
[2022-02-13T11:38:33.564Z] "handler is promise, awaiting response"
[2022-02-13T11:38:33.564Z] Waiting for handler to finish...
[2022-02-13T11:38:33.593Z] "authenticated"
[2022-02-13T11:38:33.595Z] "authenticated"
[2022-02-13T11:38:33.609Z] "Router", "request", "success", {
[2022-02-13T11:38:33.609Z]     "httpMethod": "GET",
[2022-02-13T11:38:33.609Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:38:33.609Z]     "path": "/books/rina-findet-auch-freunde/stories",
[2022-02-13T11:38:33.610Z]     "error": null,
[2022-02-13T11:38:33.610Z]     "result": {
[2022-02-13T11:38:33.610Z]         "isBase64Encoded": false,
[2022-02-13T11:38:33.610Z]         "statusCode": 200,
[2022-02-13T11:38:33.610Z]         "headers": {
[2022-02-13T11:38:33.610Z]             "Content-Type": "application/json"
[2022-02-13T11:38:33.610Z]         },
[2022-02-13T11:38:33.610Z]         "multiValueHeaders": {},
[2022-02-13T11:38:33.610Z]         "body": "[]"
[2022-02-13T11:38:33.610Z]     }
[2022-02-13T11:38:33.611Z] }
[2022-02-13T11:38:33.611Z] "now calling callback"
[2022-02-13T11:38:33.611Z] handler called callback, sending result...
[2022-02-13T11:38:33.611Z] "Router", "request", "success", {
[2022-02-13T11:38:33.611Z]     "httpMethod": "GET",
[2022-02-13T11:38:33.611Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:38:33.611Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T11:38:33.611Z] }
[2022-02-13T11:38:33.612Z] "promise done, calling callback"
[2022-02-13T11:38:33.612Z] handler promise resolved, sending result...
[2022-02-13T11:38:33.612Z] "Router", "request", "success", {
[2022-02-13T11:38:33.612Z]     "httpMethod": "GET",
[2022-02-13T11:38:33.612Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:38:33.612Z]     "path": "/books/jan-findet-freunde/stories",
[2022-02-13T11:38:33.612Z]     "error": null,
[2022-02-13T11:38:33.613Z]     "result": {
[2022-02-13T11:38:33.613Z]         "isBase64Encoded": false,
[2022-02-13T11:38:33.613Z]         "statusCode": 200,
[2022-02-13T11:38:33.613Z]         "headers": {
[2022-02-13T11:38:33.613Z]             "Content-Type": "application/json"
[2022-02-13T11:38:33.613Z]         },
[2022-02-13T11:38:33.613Z]         "multiValueHeaders": {},
[2022-02-13T11:38:33.613Z]         "body": "[]"
[2022-02-13T11:38:33.613Z]     }
[2022-02-13T11:38:33.613Z] }
[2022-02-13T11:38:33.613Z] "now calling callback"
[2022-02-13T11:38:33.613Z] handler called callback, sending result...
[2022-02-13T11:38:33.614Z] "Router", "request", "success", {
[2022-02-13T11:38:33.614Z]     "httpMethod": "GET",
[2022-02-13T11:38:33.614Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:38:33.614Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:38:33.614Z] }
[2022-02-13T11:38:33.614Z] "promise done, calling callback"
[2022-02-13T11:38:33.614Z] handler promise resolved, sending result...
[2022-02-13T11:42:21.746Z] Received message: {"type":"execute","eventId":"2KP-qIwEu7I-iSFUZIsK_","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:42:21.747Z] Executing event 2KP-qIwEu7I-iSFUZIsK_
[2022-02-13T11:42:21.747Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:42:21.898Z] Invoking handler function: "handler"
[2022-02-13T11:42:21.898Z] "Router", "request", "info", {
[2022-02-13T11:42:21.898Z]     "httpMethod": "POST",
[2022-02-13T11:42:21.898Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:42:21.899Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:42:21.899Z] }
[2022-02-13T11:42:21.899Z] "authenticating..."
[2022-02-13T11:42:21.906Z] "handler is promise, awaiting response"
[2022-02-13T11:42:21.906Z] Waiting for handler to finish...
[2022-02-13T11:42:21.934Z] "authenticated"
[2022-02-13T11:42:21.935Z] "Router", "request", "success", {
[2022-02-13T11:42:21.935Z]     "httpMethod": "POST",
[2022-02-13T11:42:21.935Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:42:21.935Z]     "path": "/auth/verify-passcode",
[2022-02-13T11:42:21.935Z]     "error": null,
[2022-02-13T11:42:21.935Z]     "result": {
[2022-02-13T11:42:21.935Z]         "isBase64Encoded": false,
[2022-02-13T11:42:21.936Z]         "statusCode": 200,
[2022-02-13T11:42:21.936Z]         "headers": {
[2022-02-13T11:42:21.936Z]             "Content-Type": "application/json"
[2022-02-13T11:42:21.936Z]         },
[2022-02-13T11:42:21.936Z]         "multiValueHeaders": {},
[2022-02-13T11:42:21.936Z]         "body": "\"OK\""
[2022-02-13T11:42:21.936Z]     }
[2022-02-13T11:42:21.936Z] }
[2022-02-13T11:42:21.936Z] "now calling callback"
[2022-02-13T11:42:21.937Z] handler called callback, sending result...
[2022-02-13T11:42:21.937Z] "Router", "request", "success", {
[2022-02-13T11:42:21.937Z]     "httpMethod": "POST",
[2022-02-13T11:42:21.937Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:42:21.937Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:42:21.937Z] }
[2022-02-13T11:42:21.937Z] "promise done, calling callback"
[2022-02-13T11:42:21.937Z] handler promise resolved, sending result...
[2022-02-13T11:42:21.986Z] Received message: {"type":"execute","eventId":"m8aMdVgemDSaCfxEpmILF","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"cc-FP8ymwMD21GTkmFIJwoFY75UGbQ\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:42:21.987Z] Executing event m8aMdVgemDSaCfxEpmILF
[2022-02-13T11:42:21.987Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:42:22.072Z] Invoking handler function: "handler"
[2022-02-13T11:42:22.072Z] "Router", "request", "info", {
[2022-02-13T11:42:22.072Z]     "httpMethod": "GET",
[2022-02-13T11:42:22.072Z]     "resource": "/books",
[2022-02-13T11:42:22.072Z]     "path": "/books"
[2022-02-13T11:42:22.073Z] }
[2022-02-13T11:42:22.073Z] "authenticating..."
[2022-02-13T11:42:22.079Z] "handler is promise, awaiting response"
[2022-02-13T11:42:22.080Z] Waiting for handler to finish...
[2022-02-13T11:42:22.104Z] "authenticated"
[2022-02-13T11:42:22.104Z] "get books"
[2022-02-13T11:42:22.105Z] "add \"all\" option"
[2022-02-13T11:42:22.105Z] "execute"
[2022-02-13T11:42:22.120Z] "done", [
[2022-02-13T11:42:22.120Z]     {
[2022-02-13T11:42:22.120Z]         "title": "Rina findet auch Freunde",
[2022-02-13T11:42:22.120Z]         "description": "lol. nachmacher!",
[2022-02-13T11:42:22.120Z]         "slug": "rina-findet-auch-freunde"
[2022-02-13T11:42:22.120Z]     },
[2022-02-13T11:42:22.120Z]     {
[2022-02-13T11:42:22.120Z]         "title": "Jan findet freunde",
[2022-02-13T11:42:22.121Z]         "description": "Der titel sagt alles...",
[2022-02-13T11:42:22.121Z]         "slug": "jan-findet-freunde"
[2022-02-13T11:42:22.121Z]     }
[2022-02-13T11:42:22.121Z] ]
[2022-02-13T11:42:22.127Z] "Router", "request", "success", {
[2022-02-13T11:42:22.127Z]     "httpMethod": "GET",
[2022-02-13T11:42:22.127Z]     "resource": "/books",
[2022-02-13T11:42:22.127Z]     "path": "/books",
[2022-02-13T11:42:22.127Z]     "error": null,
[2022-02-13T11:42:22.127Z]     "result": {
[2022-02-13T11:42:22.127Z]         "isBase64Encoded": false,
[2022-02-13T11:42:22.128Z]         "statusCode": 200,
[2022-02-13T11:42:22.128Z]         "headers": {
[2022-02-13T11:42:22.128Z]             "Content-Type": "application/json"
[2022-02-13T11:42:22.128Z]         },
[2022-02-13T11:42:22.128Z]         "multiValueHeaders": {},
[2022-02-13T11:42:22.128Z]         "body": "[{\"title\":\"Rina findet auch Freunde\",\"description\":\"lol. nachmacher!\",\"slug\":\"rina-findet-auch-freunde\"},{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\",\"slug\":\"jan-findet-freunde\"}]"
[2022-02-13T11:42:22.128Z]     }
[2022-02-13T11:42:22.128Z] }
[2022-02-13T11:42:22.128Z] "now calling callback"
[2022-02-13T11:42:22.128Z] handler called callback, sending result...
[2022-02-13T11:42:22.129Z] "Router", "request", "success", {
[2022-02-13T11:42:22.129Z]     "httpMethod": "GET",
[2022-02-13T11:42:22.129Z]     "resource": "/books",
[2022-02-13T11:42:22.129Z]     "path": "/books"
[2022-02-13T11:42:22.129Z] }
[2022-02-13T11:42:22.129Z] "promise done, calling callback"
[2022-02-13T11:42:22.129Z] handler promise resolved, sending result...
[2022-02-13T11:42:22.165Z] Received message: {"type":"execute","eventId":"4mbcVmqGeQ9Rgm2_zklaY","payload":{"event":{"isBase64Encoded":false,"path":"/books/rina-findet-auch-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"rina-findet-auch-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:42:22.165Z] Executing event 4mbcVmqGeQ9Rgm2_zklaY
[2022-02-13T11:42:22.166Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:42:22.248Z] Invoking handler function: "handler"
[2022-02-13T11:42:22.249Z] "Router", "request", "info", {
[2022-02-13T11:42:22.249Z]     "httpMethod": "GET",
[2022-02-13T11:42:22.249Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:42:22.249Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T11:42:22.249Z] }
[2022-02-13T11:42:22.249Z] "authenticating..."
[2022-02-13T11:42:22.256Z] "handler is promise, awaiting response"
[2022-02-13T11:42:22.257Z] Waiting for handler to finish...
[2022-02-13T11:42:22.257Z] Received message: {"type":"execute","eventId":"DzOrXniRFZSbd1w6XKkKW","payload":{"event":{"isBase64Encoded":false,"path":"/books/jan-findet-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jan-findet-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:42:22.257Z] Executing event DzOrXniRFZSbd1w6XKkKW
[2022-02-13T11:42:22.257Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:42:22.257Z] Invoking handler function: "handler"
[2022-02-13T11:42:22.257Z] "Router", "request", "info", {
[2022-02-13T11:42:22.257Z]     "httpMethod": "GET",
[2022-02-13T11:42:22.257Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:42:22.258Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:42:22.258Z] }
[2022-02-13T11:42:22.258Z] "authenticating..."
[2022-02-13T11:42:22.258Z] "handler is promise, awaiting response"
[2022-02-13T11:42:22.258Z] Waiting for handler to finish...
[2022-02-13T11:42:22.285Z] "authenticated"
[2022-02-13T11:42:22.287Z] "authenticated"
[2022-02-13T11:42:22.314Z] "Router", "request", "success", {
[2022-02-13T11:42:22.314Z]     "httpMethod": "GET",
[2022-02-13T11:42:22.314Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:42:22.314Z]     "path": "/books/rina-findet-auch-freunde/stories",
[2022-02-13T11:42:22.315Z]     "error": null,
[2022-02-13T11:42:22.315Z]     "result": {
[2022-02-13T11:42:22.315Z]         "isBase64Encoded": false,
[2022-02-13T11:42:22.315Z]         "statusCode": 200,
[2022-02-13T11:42:22.315Z]         "headers": {
[2022-02-13T11:42:22.315Z]             "Content-Type": "application/json"
[2022-02-13T11:42:22.316Z]         },
[2022-02-13T11:42:22.316Z]         "multiValueHeaders": {},
[2022-02-13T11:42:22.316Z]         "body": "[]"
[2022-02-13T11:42:22.316Z]     }
[2022-02-13T11:42:22.316Z] }
[2022-02-13T11:42:22.316Z] "now calling callback"
[2022-02-13T11:42:22.317Z] handler called callback, sending result...
[2022-02-13T11:42:22.317Z] "Router", "request", "success", {
[2022-02-13T11:42:22.317Z]     "httpMethod": "GET",
[2022-02-13T11:42:22.317Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:42:22.317Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T11:42:22.317Z] }
[2022-02-13T11:42:22.317Z] "promise done, calling callback"
[2022-02-13T11:42:22.317Z] handler promise resolved, sending result...
[2022-02-13T11:42:22.318Z] "Router", "request", "success", {
[2022-02-13T11:42:22.318Z]     "httpMethod": "GET",
[2022-02-13T11:42:22.318Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:42:22.318Z]     "path": "/books/jan-findet-freunde/stories",
[2022-02-13T11:42:22.318Z]     "error": null,
[2022-02-13T11:42:22.318Z]     "result": {
[2022-02-13T11:42:22.318Z]         "isBase64Encoded": false,
[2022-02-13T11:42:22.318Z]         "statusCode": 200,
[2022-02-13T11:42:22.318Z]         "headers": {
[2022-02-13T11:42:22.318Z]             "Content-Type": "application/json"
[2022-02-13T11:42:22.318Z]         },
[2022-02-13T11:42:22.318Z]         "multiValueHeaders": {},
[2022-02-13T11:42:22.318Z]         "body": "[]"
[2022-02-13T11:42:22.319Z]     }
[2022-02-13T11:42:22.319Z] }
[2022-02-13T11:42:22.319Z] "now calling callback"
[2022-02-13T11:42:22.319Z] handler called callback, sending result...
[2022-02-13T11:42:22.319Z] "Router", "request", "success", {
[2022-02-13T11:42:22.320Z]     "httpMethod": "GET",
[2022-02-13T11:42:22.321Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:42:22.321Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:42:22.321Z] }
[2022-02-13T11:42:22.321Z] "promise done, calling callback"
[2022-02-13T11:42:22.321Z] handler promise resolved, sending result...
[2022-02-13T11:42:27.814Z] Received message: {"type":"execute","eventId":"A8SxJ9COP9p3NinSHWISV","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:42:27.815Z] Executing event A8SxJ9COP9p3NinSHWISV
[2022-02-13T11:42:27.815Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:42:27.904Z] Invoking handler function: "handler"
[2022-02-13T11:42:27.904Z] "Router", "request", "info", {
[2022-02-13T11:42:27.904Z]     "httpMethod": "POST",
[2022-02-13T11:42:27.904Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:42:27.904Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:42:27.904Z] }
[2022-02-13T11:42:27.904Z] "authenticating..."
[2022-02-13T11:42:27.911Z] "handler is promise, awaiting response"
[2022-02-13T11:42:27.912Z] Waiting for handler to finish...
[2022-02-13T11:42:27.939Z] "authenticated"
[2022-02-13T11:42:27.940Z] "Router", "request", "success", {
[2022-02-13T11:42:27.940Z]     "httpMethod": "POST",
[2022-02-13T11:42:27.940Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:42:27.940Z]     "path": "/auth/verify-passcode",
[2022-02-13T11:42:27.940Z]     "error": null,
[2022-02-13T11:42:27.940Z]     "result": {
[2022-02-13T11:42:27.940Z]         "isBase64Encoded": false,
[2022-02-13T11:42:27.940Z]         "statusCode": 200,
[2022-02-13T11:42:27.941Z]         "headers": {
[2022-02-13T11:42:27.941Z]             "Content-Type": "application/json"
[2022-02-13T11:42:27.941Z]         },
[2022-02-13T11:42:27.941Z]         "multiValueHeaders": {},
[2022-02-13T11:42:27.941Z]         "body": "\"OK\""
[2022-02-13T11:42:27.942Z]     }
[2022-02-13T11:42:27.942Z] }
[2022-02-13T11:42:27.942Z] "now calling callback"
[2022-02-13T11:42:27.942Z] handler called callback, sending result...
[2022-02-13T11:42:27.942Z] "Router", "request", "success", {
[2022-02-13T11:42:27.942Z]     "httpMethod": "POST",
[2022-02-13T11:42:27.942Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:42:27.942Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:42:27.942Z] }
[2022-02-13T11:42:27.942Z] "promise done, calling callback"
[2022-02-13T11:42:27.943Z] handler promise resolved, sending result...
[2022-02-13T11:42:27.994Z] Received message: {"type":"execute","eventId":"LAiqvnVtmmn5lIy7ZG1Wu","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"cc-FP8ymwMD21GTkmFIJwoFY75UGbQ\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:42:27.994Z] Executing event LAiqvnVtmmn5lIy7ZG1Wu
[2022-02-13T11:42:27.994Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:42:28.076Z] Invoking handler function: "handler"
[2022-02-13T11:42:28.076Z] "Router", "request", "info", {
[2022-02-13T11:42:28.077Z]     "httpMethod": "GET",
[2022-02-13T11:42:28.077Z]     "resource": "/books",
[2022-02-13T11:42:28.077Z]     "path": "/books"
[2022-02-13T11:42:28.077Z] }
[2022-02-13T11:42:28.077Z] "authenticating..."
[2022-02-13T11:42:28.084Z] "handler is promise, awaiting response"
[2022-02-13T11:42:28.084Z] Waiting for handler to finish...
[2022-02-13T11:42:28.121Z] "authenticated"
[2022-02-13T11:42:28.121Z] "get books"
[2022-02-13T11:42:28.122Z] "add \"all\" option"
[2022-02-13T11:42:28.122Z] "execute"
[2022-02-13T11:42:28.135Z] "done", [
[2022-02-13T11:42:28.135Z]     {
[2022-02-13T11:42:28.135Z]         "title": "Rina findet auch Freunde",
[2022-02-13T11:42:28.135Z]         "description": "lol. nachmacher!",
[2022-02-13T11:42:28.135Z]         "slug": "rina-findet-auch-freunde"
[2022-02-13T11:42:28.136Z]     },
[2022-02-13T11:42:28.136Z]     {
[2022-02-13T11:42:28.136Z]         "title": "Jan findet freunde",
[2022-02-13T11:42:28.136Z]         "description": "Der titel sagt alles...",
[2022-02-13T11:42:28.136Z]         "slug": "jan-findet-freunde"
[2022-02-13T11:42:28.136Z]     }
[2022-02-13T11:42:28.137Z] ]
[2022-02-13T11:42:28.137Z] "Router", "request", "success", {
[2022-02-13T11:42:28.137Z]     "httpMethod": "GET",
[2022-02-13T11:42:28.137Z]     "resource": "/books",
[2022-02-13T11:42:28.137Z]     "path": "/books",
[2022-02-13T11:42:28.137Z]     "error": null,
[2022-02-13T11:42:28.137Z]     "result": {
[2022-02-13T11:42:28.137Z]         "isBase64Encoded": false,
[2022-02-13T11:42:28.137Z]         "statusCode": 200,
[2022-02-13T11:42:28.137Z]         "headers": {
[2022-02-13T11:42:28.137Z]             "Content-Type": "application/json"
[2022-02-13T11:42:28.138Z]         },
[2022-02-13T11:42:28.138Z]         "multiValueHeaders": {},
[2022-02-13T11:42:28.138Z]         "body": "[{\"title\":\"Rina findet auch Freunde\",\"description\":\"lol. nachmacher!\",\"slug\":\"rina-findet-auch-freunde\"},{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\",\"slug\":\"jan-findet-freunde\"}]"
[2022-02-13T11:42:28.138Z]     }
[2022-02-13T11:42:28.138Z] }
[2022-02-13T11:42:28.138Z] "now calling callback"
[2022-02-13T11:42:28.138Z] handler called callback, sending result...
[2022-02-13T11:42:28.138Z] "Router", "request", "success", {
[2022-02-13T11:42:28.138Z]     "httpMethod": "GET",
[2022-02-13T11:42:28.138Z]     "resource": "/books",
[2022-02-13T11:42:28.139Z]     "path": "/books"
[2022-02-13T11:42:28.139Z] }
[2022-02-13T11:42:28.139Z] "promise done, calling callback"
[2022-02-13T11:42:28.139Z] handler promise resolved, sending result...
[2022-02-13T11:42:28.172Z] Received message: {"type":"execute","eventId":"492V_Wj_haAd1Wi71cJN-","payload":{"event":{"isBase64Encoded":false,"path":"/books/rina-findet-auch-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"rina-findet-auch-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:42:28.172Z] Executing event 492V_Wj_haAd1Wi71cJN-
[2022-02-13T11:42:28.172Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:42:28.254Z] Invoking handler function: "handler"
[2022-02-13T11:42:28.254Z] "Router", "request", "info", {
[2022-02-13T11:42:28.254Z]     "httpMethod": "GET",
[2022-02-13T11:42:28.255Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:42:28.255Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T11:42:28.255Z] }
[2022-02-13T11:42:28.255Z] "authenticating..."
[2022-02-13T11:42:28.261Z] "handler is promise, awaiting response"
[2022-02-13T11:42:28.261Z] Waiting for handler to finish...
[2022-02-13T11:42:28.261Z] Received message: {"type":"execute","eventId":"rvzB3cIEKknFvd2zQ3hpw","payload":{"event":{"isBase64Encoded":false,"path":"/books/jan-findet-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jan-findet-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:42:28.262Z] Executing event rvzB3cIEKknFvd2zQ3hpw
[2022-02-13T11:42:28.262Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:42:28.262Z] Invoking handler function: "handler"
[2022-02-13T11:42:28.262Z] "Router", "request", "info", {
[2022-02-13T11:42:28.262Z]     "httpMethod": "GET",
[2022-02-13T11:42:28.262Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:42:28.262Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:42:28.263Z] }
[2022-02-13T11:42:28.263Z] "authenticating..."
[2022-02-13T11:42:28.263Z] "handler is promise, awaiting response"
[2022-02-13T11:42:28.263Z] Waiting for handler to finish...
[2022-02-13T11:42:28.290Z] "authenticated"
[2022-02-13T11:42:28.295Z] "authenticated"
[2022-02-13T11:42:28.309Z] "Router", "request", "success", {
[2022-02-13T11:42:28.309Z]     "httpMethod": "GET",
[2022-02-13T11:42:28.309Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:42:28.309Z]     "path": "/books/jan-findet-freunde/stories",
[2022-02-13T11:42:28.309Z]     "error": null,
[2022-02-13T11:42:28.309Z]     "result": {
[2022-02-13T11:42:28.309Z]         "isBase64Encoded": false,
[2022-02-13T11:42:28.310Z]         "statusCode": 200,
[2022-02-13T11:42:28.310Z]         "headers": {
[2022-02-13T11:42:28.310Z]             "Content-Type": "application/json"
[2022-02-13T11:42:28.310Z]         },
[2022-02-13T11:42:28.310Z]         "multiValueHeaders": {},
[2022-02-13T11:42:28.310Z]         "body": "[]"
[2022-02-13T11:42:28.310Z]     }
[2022-02-13T11:42:28.310Z] }
[2022-02-13T11:42:28.310Z] "now calling callback"
[2022-02-13T11:42:28.310Z] handler called callback, sending result...
[2022-02-13T11:42:28.311Z] "Router", "request", "success", {
[2022-02-13T11:42:28.311Z]     "httpMethod": "GET",
[2022-02-13T11:42:28.311Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:42:28.311Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:42:28.311Z] }
[2022-02-13T11:42:28.312Z] "promise done, calling callback"
[2022-02-13T11:42:28.312Z] handler promise resolved, sending result...
[2022-02-13T11:42:28.312Z] "Router", "request", "success", {
[2022-02-13T11:42:28.312Z]     "httpMethod": "GET",
[2022-02-13T11:42:28.312Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:42:28.312Z]     "path": "/books/rina-findet-auch-freunde/stories",
[2022-02-13T11:42:28.312Z]     "error": null,
[2022-02-13T11:42:28.312Z]     "result": {
[2022-02-13T11:42:28.312Z]         "isBase64Encoded": false,
[2022-02-13T11:42:28.312Z]         "statusCode": 200,
[2022-02-13T11:42:28.312Z]         "headers": {
[2022-02-13T11:42:28.313Z]             "Content-Type": "application/json"
[2022-02-13T11:42:28.313Z]         },
[2022-02-13T11:42:28.313Z]         "multiValueHeaders": {},
[2022-02-13T11:42:28.313Z]         "body": "[]"
[2022-02-13T11:42:28.313Z]     }
[2022-02-13T11:42:28.313Z] }
[2022-02-13T11:42:28.313Z] "now calling callback"
[2022-02-13T11:42:28.313Z] handler called callback, sending result...
[2022-02-13T11:42:28.313Z] "Router", "request", "success", {
[2022-02-13T11:42:28.313Z]     "httpMethod": "GET",
[2022-02-13T11:42:28.313Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:42:28.314Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T11:42:28.314Z] }
[2022-02-13T11:42:28.314Z] "promise done, calling callback"
[2022-02-13T11:42:28.314Z] handler promise resolved, sending result...
[2022-02-13T11:44:34.215Z] Received message: {"type":"execute","eventId":"KdIORF-uiPeJ6fS-7b8kK","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:44:34.216Z] Executing event KdIORF-uiPeJ6fS-7b8kK
[2022-02-13T11:44:34.216Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:44:34.349Z] Invoking handler function: "handler"
[2022-02-13T11:44:34.350Z] "Router", "request", "info", {
[2022-02-13T11:44:34.350Z]     "httpMethod": "POST",
[2022-02-13T11:44:34.350Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:44:34.350Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:44:34.350Z] }
[2022-02-13T11:44:34.350Z] "authenticating..."
[2022-02-13T11:44:34.357Z] "handler is promise, awaiting response"
[2022-02-13T11:44:34.357Z] Waiting for handler to finish...
[2022-02-13T11:44:34.385Z] "authenticated"
[2022-02-13T11:44:34.386Z] "Router", "request", "success", {
[2022-02-13T11:44:34.386Z]     "httpMethod": "POST",
[2022-02-13T11:44:34.386Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:44:34.386Z]     "path": "/auth/verify-passcode",
[2022-02-13T11:44:34.386Z]     "error": null,
[2022-02-13T11:44:34.386Z]     "result": {
[2022-02-13T11:44:34.386Z]         "isBase64Encoded": false,
[2022-02-13T11:44:34.386Z]         "statusCode": 200,
[2022-02-13T11:44:34.387Z]         "headers": {
[2022-02-13T11:44:34.387Z]             "Content-Type": "application/json"
[2022-02-13T11:44:34.387Z]         },
[2022-02-13T11:44:34.388Z]         "multiValueHeaders": {},
[2022-02-13T11:44:34.388Z]         "body": "\"OK\""
[2022-02-13T11:44:34.388Z]     }
[2022-02-13T11:44:34.388Z] }
[2022-02-13T11:44:34.388Z] "now calling callback"
[2022-02-13T11:44:34.388Z] handler called callback, sending result...
[2022-02-13T11:44:34.389Z] "Router", "request", "success", {
[2022-02-13T11:44:34.389Z]     "httpMethod": "POST",
[2022-02-13T11:44:34.389Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:44:34.389Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:44:34.389Z] }
[2022-02-13T11:44:34.390Z] "promise done, calling callback"
[2022-02-13T11:44:34.390Z] handler promise resolved, sending result...
[2022-02-13T11:44:34.440Z] Received message: {"type":"execute","eventId":"bX0sbbdd6za3v-6yv_ZSs","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"cc-FP8ymwMD21GTkmFIJwoFY75UGbQ\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:44:34.440Z] Executing event bX0sbbdd6za3v-6yv_ZSs
[2022-02-13T11:44:34.441Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:44:34.525Z] Invoking handler function: "handler"
[2022-02-13T11:44:34.525Z] "Router", "request", "info", {
[2022-02-13T11:44:34.526Z]     "httpMethod": "GET",
[2022-02-13T11:44:34.526Z]     "resource": "/books",
[2022-02-13T11:44:34.526Z]     "path": "/books"
[2022-02-13T11:44:34.526Z] }
[2022-02-13T11:44:34.526Z] "authenticating..."
[2022-02-13T11:44:34.532Z] "handler is promise, awaiting response"
[2022-02-13T11:44:34.532Z] Waiting for handler to finish...
[2022-02-13T11:44:34.563Z] "authenticated"
[2022-02-13T11:44:34.563Z] "get books"
[2022-02-13T11:44:34.563Z] "add \"all\" option"
[2022-02-13T11:44:34.563Z] "execute"
[2022-02-13T11:44:34.577Z] "done", [
[2022-02-13T11:44:34.577Z]     {
[2022-02-13T11:44:34.577Z]         "title": "Rina findet auch Freunde",
[2022-02-13T11:44:34.578Z]         "description": "lol. nachmacher!",
[2022-02-13T11:44:34.578Z]         "slug": "rina-findet-auch-freunde"
[2022-02-13T11:44:34.578Z]     },
[2022-02-13T11:44:34.578Z]     {
[2022-02-13T11:44:34.578Z]         "title": "Jan findet freunde",
[2022-02-13T11:44:34.578Z]         "description": "Der titel sagt alles...",
[2022-02-13T11:44:34.578Z]         "slug": "jan-findet-freunde"
[2022-02-13T11:44:34.578Z]     }
[2022-02-13T11:44:34.578Z] ]
[2022-02-13T11:44:34.578Z] "Router", "request", "success", {
[2022-02-13T11:44:34.578Z]     "httpMethod": "GET",
[2022-02-13T11:44:34.579Z]     "resource": "/books",
[2022-02-13T11:44:34.579Z]     "path": "/books",
[2022-02-13T11:44:34.579Z]     "error": null,
[2022-02-13T11:44:34.579Z]     "result": {
[2022-02-13T11:44:34.579Z]         "isBase64Encoded": false,
[2022-02-13T11:44:34.579Z]         "statusCode": 200,
[2022-02-13T11:44:34.579Z]         "headers": {
[2022-02-13T11:44:34.579Z]             "Content-Type": "application/json"
[2022-02-13T11:44:34.579Z]         },
[2022-02-13T11:44:34.579Z]         "multiValueHeaders": {},
[2022-02-13T11:44:34.579Z]         "body": "[{\"title\":\"Rina findet auch Freunde\",\"description\":\"lol. nachmacher!\",\"slug\":\"rina-findet-auch-freunde\"},{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\",\"slug\":\"jan-findet-freunde\"}]"
[2022-02-13T11:44:34.580Z]     }
[2022-02-13T11:44:34.580Z] }
[2022-02-13T11:44:34.580Z] "now calling callback"
[2022-02-13T11:44:34.580Z] handler called callback, sending result...
[2022-02-13T11:44:34.580Z] "Router", "request", "success", {
[2022-02-13T11:44:34.580Z]     "httpMethod": "GET",
[2022-02-13T11:44:34.581Z]     "resource": "/books",
[2022-02-13T11:44:34.581Z]     "path": "/books"
[2022-02-13T11:44:34.581Z] }
[2022-02-13T11:44:34.581Z] "promise done, calling callback"
[2022-02-13T11:44:34.581Z] handler promise resolved, sending result...
[2022-02-13T11:44:34.614Z] Received message: {"type":"execute","eventId":"XfKB26tT8GhINGOiVCxMZ","payload":{"event":{"isBase64Encoded":false,"path":"/books/rina-findet-auch-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"rina-findet-auch-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:44:34.615Z] Executing event XfKB26tT8GhINGOiVCxMZ
[2022-02-13T11:44:34.615Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:44:34.694Z] Invoking handler function: "handler"
[2022-02-13T11:44:34.694Z] "Router", "request", "info", {
[2022-02-13T11:44:34.694Z]     "httpMethod": "GET",
[2022-02-13T11:44:34.695Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:44:34.695Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T11:44:34.695Z] }
[2022-02-13T11:44:34.695Z] "authenticating..."
[2022-02-13T11:44:34.701Z] "handler is promise, awaiting response"
[2022-02-13T11:44:34.701Z] Waiting for handler to finish...
[2022-02-13T11:44:34.702Z] Received message: {"type":"execute","eventId":"gF_2O0OOMdeTMa6pdPz6R","payload":{"event":{"isBase64Encoded":false,"path":"/books/jan-findet-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jan-findet-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:44:34.702Z] Executing event gF_2O0OOMdeTMa6pdPz6R
[2022-02-13T11:44:34.702Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:44:34.702Z] Invoking handler function: "handler"
[2022-02-13T11:44:34.703Z] "Router", "request", "info", {
[2022-02-13T11:44:34.703Z]     "httpMethod": "GET",
[2022-02-13T11:44:34.703Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:44:34.703Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:44:34.703Z] }
[2022-02-13T11:44:34.703Z] "authenticating..."
[2022-02-13T11:44:34.703Z] "handler is promise, awaiting response"
[2022-02-13T11:44:34.703Z] Waiting for handler to finish...
[2022-02-13T11:44:34.731Z] "authenticated"
[2022-02-13T11:44:34.748Z] "authenticated"
[2022-02-13T11:44:34.750Z] "Router", "request", "success", {
[2022-02-13T11:44:34.768Z]     "httpMethod": "GET",
[2022-02-13T11:44:34.769Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:44:34.769Z]     "path": "/books/rina-findet-auch-freunde/stories",
[2022-02-13T11:44:34.769Z]     "error": null,
[2022-02-13T11:44:34.769Z]     "result": {
[2022-02-13T11:44:34.769Z]         "isBase64Encoded": false,
[2022-02-13T11:44:34.769Z]         "statusCode": 200,
[2022-02-13T11:44:34.769Z]         "headers": {
[2022-02-13T11:44:34.769Z]             "Content-Type": "application/json"
[2022-02-13T11:44:34.769Z]         },
[2022-02-13T11:44:34.769Z]         "multiValueHeaders": {},
[2022-02-13T11:44:34.769Z]         "body": "[]"
[2022-02-13T11:44:34.769Z]     }
[2022-02-13T11:44:34.769Z] }
[2022-02-13T11:44:34.770Z] "now calling callback"
[2022-02-13T11:44:34.770Z] handler called callback, sending result...
[2022-02-13T11:44:34.770Z] "Router", "request", "success", {
[2022-02-13T11:44:34.770Z]     "httpMethod": "GET",
[2022-02-13T11:44:34.770Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:44:34.771Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T11:44:34.771Z] }
[2022-02-13T11:44:34.771Z] "promise done, calling callback"
[2022-02-13T11:44:34.771Z] handler promise resolved, sending result...
[2022-02-13T11:44:34.771Z] "Router", "request", "success", {
[2022-02-13T11:44:34.771Z]     "httpMethod": "GET",
[2022-02-13T11:44:34.771Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:44:34.771Z]     "path": "/books/jan-findet-freunde/stories",
[2022-02-13T11:44:34.771Z]     "error": null,
[2022-02-13T11:44:34.771Z]     "result": {
[2022-02-13T11:44:34.772Z]         "isBase64Encoded": false,
[2022-02-13T11:44:34.772Z]         "statusCode": 200,
[2022-02-13T11:44:34.772Z]         "headers": {
[2022-02-13T11:44:34.772Z]             "Content-Type": "application/json"
[2022-02-13T11:44:34.772Z]         },
[2022-02-13T11:44:34.772Z]         "multiValueHeaders": {},
[2022-02-13T11:44:34.772Z]         "body": "[]"
[2022-02-13T11:44:34.772Z]     }
[2022-02-13T11:44:34.772Z] }
[2022-02-13T11:44:34.772Z] "now calling callback"
[2022-02-13T11:44:34.772Z] handler called callback, sending result...
[2022-02-13T11:44:34.772Z] "Router", "request", "success", {
[2022-02-13T11:44:34.773Z]     "httpMethod": "GET",
[2022-02-13T11:44:34.773Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:44:34.773Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:44:34.773Z] }
[2022-02-13T11:44:34.773Z] "promise done, calling callback"
[2022-02-13T11:44:34.773Z] handler promise resolved, sending result...
[2022-02-13T11:45:35.120Z] Received message: {"type":"execute","eventId":"9aXqDaBfhpk-oVhR81o5i","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:45:35.120Z] Executing event 9aXqDaBfhpk-oVhR81o5i
[2022-02-13T11:45:35.121Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:45:35.252Z] Invoking handler function: "handler"
[2022-02-13T11:45:35.252Z] "Router", "request", "info", {
[2022-02-13T11:45:35.252Z]     "httpMethod": "POST",
[2022-02-13T11:45:35.252Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:45:35.252Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:45:35.252Z] }
[2022-02-13T11:45:35.252Z] "authenticating..."
[2022-02-13T11:45:35.260Z] "handler is promise, awaiting response"
[2022-02-13T11:45:35.260Z] Waiting for handler to finish...
[2022-02-13T11:45:35.286Z] "authenticated"
[2022-02-13T11:45:35.287Z] "Router", "request", "success", {
[2022-02-13T11:45:35.287Z]     "httpMethod": "POST",
[2022-02-13T11:45:35.288Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:45:35.288Z]     "path": "/auth/verify-passcode",
[2022-02-13T11:45:35.288Z]     "error": null,
[2022-02-13T11:45:35.288Z]     "result": {
[2022-02-13T11:45:35.288Z]         "isBase64Encoded": false,
[2022-02-13T11:45:35.288Z]         "statusCode": 200,
[2022-02-13T11:45:35.288Z]         "headers": {
[2022-02-13T11:45:35.288Z]             "Content-Type": "application/json"
[2022-02-13T11:45:35.288Z]         },
[2022-02-13T11:45:35.289Z]         "multiValueHeaders": {},
[2022-02-13T11:45:35.289Z]         "body": "\"OK\""
[2022-02-13T11:45:35.289Z]     }
[2022-02-13T11:45:35.289Z] }
[2022-02-13T11:45:35.289Z] "now calling callback"
[2022-02-13T11:45:35.289Z] handler called callback, sending result...
[2022-02-13T11:45:35.290Z] "Router", "request", "success", {
[2022-02-13T11:45:35.290Z]     "httpMethod": "POST",
[2022-02-13T11:45:35.290Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:45:35.291Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:45:35.291Z] }
[2022-02-13T11:45:35.291Z] "promise done, calling callback"
[2022-02-13T11:45:35.291Z] handler promise resolved, sending result...
[2022-02-13T11:45:35.344Z] Received message: {"type":"execute","eventId":"g1xg6ksw72KPiVRZWndv8","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"cc-FP8ymwMD21GTkmFIJwoFY75UGbQ\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:45:35.345Z] Executing event g1xg6ksw72KPiVRZWndv8
[2022-02-13T11:45:35.345Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:45:35.424Z] Invoking handler function: "handler"
[2022-02-13T11:45:35.424Z] "Router", "request", "info", {
[2022-02-13T11:45:35.425Z]     "httpMethod": "GET",
[2022-02-13T11:45:35.425Z]     "resource": "/books",
[2022-02-13T11:45:35.425Z]     "path": "/books"
[2022-02-13T11:45:35.425Z] }
[2022-02-13T11:45:35.425Z] "authenticating..."
[2022-02-13T11:45:35.432Z] "handler is promise, awaiting response"
[2022-02-13T11:45:35.432Z] Waiting for handler to finish...
[2022-02-13T11:45:35.464Z] "authenticated"
[2022-02-13T11:45:35.464Z] "get books"
[2022-02-13T11:45:35.464Z] "add \"all\" option"
[2022-02-13T11:45:35.465Z] "execute"
[2022-02-13T11:45:35.483Z] "done", [
[2022-02-13T11:45:35.483Z]     {
[2022-02-13T11:45:35.483Z]         "title": "Rina findet auch Freunde",
[2022-02-13T11:45:35.484Z]         "description": "lol. nachmacher!",
[2022-02-13T11:45:35.484Z]         "slug": "rina-findet-auch-freunde"
[2022-02-13T11:45:35.484Z]     },
[2022-02-13T11:45:35.484Z]     {
[2022-02-13T11:45:35.484Z]         "title": "Jan findet freunde",
[2022-02-13T11:45:35.484Z]         "description": "Der titel sagt alles...",
[2022-02-13T11:45:35.484Z]         "slug": "jan-findet-freunde"
[2022-02-13T11:45:35.484Z]     }
[2022-02-13T11:45:35.484Z] ]
[2022-02-13T11:45:35.485Z] "Router", "request", "success", {
[2022-02-13T11:45:35.485Z]     "httpMethod": "GET",
[2022-02-13T11:45:35.485Z]     "resource": "/books",
[2022-02-13T11:45:35.485Z]     "path": "/books",
[2022-02-13T11:45:35.485Z]     "error": null,
[2022-02-13T11:45:35.485Z]     "result": {
[2022-02-13T11:45:35.485Z]         "isBase64Encoded": false,
[2022-02-13T11:45:35.485Z]         "statusCode": 200,
[2022-02-13T11:45:35.485Z]         "headers": {
[2022-02-13T11:45:35.486Z]             "Content-Type": "application/json"
[2022-02-13T11:45:35.486Z]         },
[2022-02-13T11:45:35.486Z]         "multiValueHeaders": {},
[2022-02-13T11:45:35.486Z]         "body": "[{\"title\":\"Rina findet auch Freunde\",\"description\":\"lol. nachmacher!\",\"slug\":\"rina-findet-auch-freunde\"},{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\",\"slug\":\"jan-findet-freunde\"}]"
[2022-02-13T11:45:35.486Z]     }
[2022-02-13T11:45:35.486Z] }
[2022-02-13T11:45:35.486Z] "now calling callback"
[2022-02-13T11:45:35.486Z] handler called callback, sending result...
[2022-02-13T11:45:35.486Z] "Router", "request", "success", {
[2022-02-13T11:45:35.487Z]     "httpMethod": "GET",
[2022-02-13T11:45:35.487Z]     "resource": "/books",
[2022-02-13T11:45:35.487Z]     "path": "/books"
[2022-02-13T11:45:35.487Z] }
[2022-02-13T11:45:35.487Z] "promise done, calling callback"
[2022-02-13T11:45:35.487Z] handler promise resolved, sending result...
[2022-02-13T11:45:35.525Z] Received message: {"type":"execute","eventId":"hOpLjP1xWBGNzY1F20g3S","payload":{"event":{"isBase64Encoded":false,"path":"/books/rina-findet-auch-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"rina-findet-auch-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:45:35.525Z] Executing event hOpLjP1xWBGNzY1F20g3S
[2022-02-13T11:45:35.525Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:45:35.607Z] Invoking handler function: "handler"
[2022-02-13T11:45:35.608Z] "Router", "request", "info", {
[2022-02-13T11:45:35.608Z]     "httpMethod": "GET",
[2022-02-13T11:45:35.608Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:45:35.608Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T11:45:35.608Z] }
[2022-02-13T11:45:35.608Z] "authenticating..."
[2022-02-13T11:45:35.614Z] "handler is promise, awaiting response"
[2022-02-13T11:45:35.615Z] Waiting for handler to finish...
[2022-02-13T11:45:35.615Z] Received message: {"type":"execute","eventId":"Hl6C0xQ1nMHBAAHHtjjK4","payload":{"event":{"isBase64Encoded":false,"path":"/books/jan-findet-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jan-findet-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:45:35.615Z] Executing event Hl6C0xQ1nMHBAAHHtjjK4
[2022-02-13T11:45:35.615Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:45:35.615Z] Invoking handler function: "handler"
[2022-02-13T11:45:35.615Z] "Router", "request", "info", {
[2022-02-13T11:45:35.615Z]     "httpMethod": "GET",
[2022-02-13T11:45:35.615Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:45:35.615Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:45:35.615Z] }
[2022-02-13T11:45:35.616Z] "authenticating..."
[2022-02-13T11:45:35.616Z] "handler is promise, awaiting response"
[2022-02-13T11:45:35.617Z] Waiting for handler to finish...
[2022-02-13T11:45:35.640Z] "authenticated"
[2022-02-13T11:45:35.643Z] "authenticated"
[2022-02-13T11:45:35.656Z] "Router", "request", "success", {
[2022-02-13T11:45:35.657Z]     "httpMethod": "GET",
[2022-02-13T11:45:35.657Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:45:35.657Z]     "path": "/books/jan-findet-freunde/stories",
[2022-02-13T11:45:35.657Z]     "error": null,
[2022-02-13T11:45:35.657Z]     "result": {
[2022-02-13T11:45:35.657Z]         "isBase64Encoded": false,
[2022-02-13T11:45:35.657Z]         "statusCode": 200,
[2022-02-13T11:45:35.657Z]         "headers": {
[2022-02-13T11:45:35.657Z]             "Content-Type": "application/json"
[2022-02-13T11:45:35.658Z]         },
[2022-02-13T11:45:35.658Z]         "multiValueHeaders": {},
[2022-02-13T11:45:35.658Z]         "body": "[]"
[2022-02-13T11:45:35.658Z]     }
[2022-02-13T11:45:35.658Z] }
[2022-02-13T11:45:35.658Z] "now calling callback"
[2022-02-13T11:45:35.658Z] handler called callback, sending result...
[2022-02-13T11:45:35.658Z] "Router", "request", "success", {
[2022-02-13T11:45:35.658Z]     "httpMethod": "GET",
[2022-02-13T11:45:35.658Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:45:35.659Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:45:35.659Z] }
[2022-02-13T11:45:35.659Z] "promise done, calling callback"
[2022-02-13T11:45:35.659Z] handler promise resolved, sending result...
[2022-02-13T11:45:35.659Z] "Router", "request", "success", {
[2022-02-13T11:45:35.659Z]     "httpMethod": "GET",
[2022-02-13T11:45:35.659Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:45:35.659Z]     "path": "/books/rina-findet-auch-freunde/stories",
[2022-02-13T11:45:35.659Z]     "error": null,
[2022-02-13T11:45:35.659Z]     "result": {
[2022-02-13T11:45:35.659Z]         "isBase64Encoded": false,
[2022-02-13T11:45:35.660Z]         "statusCode": 200,
[2022-02-13T11:45:35.660Z]         "headers": {
[2022-02-13T11:45:35.660Z]             "Content-Type": "application/json"
[2022-02-13T11:45:35.660Z]         },
[2022-02-13T11:45:35.660Z]         "multiValueHeaders": {},
[2022-02-13T11:45:35.660Z]         "body": "[]"
[2022-02-13T11:45:35.660Z]     }
[2022-02-13T11:45:35.660Z] }
[2022-02-13T11:45:35.660Z] "now calling callback"
[2022-02-13T11:45:35.660Z] handler called callback, sending result...
[2022-02-13T11:45:35.660Z] "Router", "request", "success", {
[2022-02-13T11:45:35.660Z]     "httpMethod": "GET",
[2022-02-13T11:45:35.661Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:45:35.661Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T11:45:35.661Z] }
[2022-02-13T11:45:35.661Z] "promise done, calling callback"
[2022-02-13T11:45:35.661Z] handler promise resolved, sending result...
[2022-02-13T11:54:04.477Z] Received message: {"type":"execute","eventId":"m2xhtgeNNnPDFb2MWCRMV","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:54:04.478Z] Executing event m2xhtgeNNnPDFb2MWCRMV
[2022-02-13T11:54:04.478Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:54:04.630Z] Invoking handler function: "handler"
[2022-02-13T11:54:04.630Z] "Router", "request", "info", {
[2022-02-13T11:54:04.630Z]     "httpMethod": "POST",
[2022-02-13T11:54:04.630Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:54:04.630Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:54:04.630Z] }
[2022-02-13T11:54:04.630Z] "authenticating..."
[2022-02-13T11:54:04.640Z] "handler is promise, awaiting response"
[2022-02-13T11:54:04.640Z] Waiting for handler to finish...
[2022-02-13T11:54:04.675Z] "authenticated"
[2022-02-13T11:54:04.675Z] "Router", "request", "success", {
[2022-02-13T11:54:04.675Z]     "httpMethod": "POST",
[2022-02-13T11:54:04.675Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:54:04.675Z]     "path": "/auth/verify-passcode",
[2022-02-13T11:54:04.676Z]     "error": null,
[2022-02-13T11:54:04.676Z]     "result": {
[2022-02-13T11:54:04.676Z]         "isBase64Encoded": false,
[2022-02-13T11:54:04.676Z]         "statusCode": 200,
[2022-02-13T11:54:04.676Z]         "headers": {
[2022-02-13T11:54:04.676Z]             "Content-Type": "application/json"
[2022-02-13T11:54:04.676Z]         },
[2022-02-13T11:54:04.677Z]         "multiValueHeaders": {},
[2022-02-13T11:54:04.677Z]         "body": "\"OK\""
[2022-02-13T11:54:04.677Z]     }
[2022-02-13T11:54:04.677Z] }
[2022-02-13T11:54:04.677Z] "now calling callback"
[2022-02-13T11:54:04.677Z] handler called callback, sending result...
[2022-02-13T11:54:04.677Z] "Router", "request", "success", {
[2022-02-13T11:54:04.678Z]     "httpMethod": "POST",
[2022-02-13T11:54:04.678Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:54:04.678Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:54:04.678Z] }
[2022-02-13T11:54:04.678Z] "promise done, calling callback"
[2022-02-13T11:54:04.678Z] handler promise resolved, sending result...
[2022-02-13T11:54:04.730Z] Received message: {"type":"execute","eventId":"gfEoQn4cv0LvzZnjO-0uH","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"cc-FP8ymwMD21GTkmFIJwoFY75UGbQ\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:54:04.730Z] Executing event gfEoQn4cv0LvzZnjO-0uH
[2022-02-13T11:54:04.730Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:54:04.812Z] Invoking handler function: "handler"
[2022-02-13T11:54:04.812Z] "Router", "request", "info", {
[2022-02-13T11:54:04.812Z]     "httpMethod": "GET",
[2022-02-13T11:54:04.813Z]     "resource": "/books",
[2022-02-13T11:54:04.813Z]     "path": "/books"
[2022-02-13T11:54:04.813Z] }
[2022-02-13T11:54:04.813Z] "authenticating..."
[2022-02-13T11:54:04.819Z] "handler is promise, awaiting response"
[2022-02-13T11:54:04.819Z] Waiting for handler to finish...
[2022-02-13T11:54:04.849Z] "authenticated"
[2022-02-13T11:54:04.849Z] "get books"
[2022-02-13T11:54:04.849Z] "add \"all\" option"
[2022-02-13T11:54:04.849Z] "execute"
[2022-02-13T11:54:04.869Z] "done", [
[2022-02-13T11:54:04.869Z]     {
[2022-02-13T11:54:04.869Z]         "title": "Rina findet auch Freunde",
[2022-02-13T11:54:04.869Z]         "description": "lol. nachmacher!",
[2022-02-13T11:54:04.869Z]         "slug": "rina-findet-auch-freunde"
[2022-02-13T11:54:04.869Z]     },
[2022-02-13T11:54:04.870Z]     {
[2022-02-13T11:54:04.870Z]         "title": "Jan findet freunde",
[2022-02-13T11:54:04.870Z]         "description": "Der titel sagt alles...",
[2022-02-13T11:54:04.870Z]         "slug": "jan-findet-freunde"
[2022-02-13T11:54:04.870Z]     }
[2022-02-13T11:54:04.870Z] ]
[2022-02-13T11:54:04.870Z] "Router", "request", "success", {
[2022-02-13T11:54:04.870Z]     "httpMethod": "GET",
[2022-02-13T11:54:04.870Z]     "resource": "/books",
[2022-02-13T11:54:04.870Z]     "path": "/books",
[2022-02-13T11:54:04.870Z]     "error": null,
[2022-02-13T11:54:04.870Z]     "result": {
[2022-02-13T11:54:04.871Z]         "isBase64Encoded": false,
[2022-02-13T11:54:04.871Z]         "statusCode": 200,
[2022-02-13T11:54:04.871Z]         "headers": {
[2022-02-13T11:54:04.871Z]             "Content-Type": "application/json"
[2022-02-13T11:54:04.871Z]         },
[2022-02-13T11:54:04.871Z]         "multiValueHeaders": {},
[2022-02-13T11:54:04.871Z]         "body": "[{\"title\":\"Rina findet auch Freunde\",\"description\":\"lol. nachmacher!\",\"slug\":\"rina-findet-auch-freunde\"},{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\",\"slug\":\"jan-findet-freunde\"}]"
[2022-02-13T11:54:04.871Z]     }
[2022-02-13T11:54:04.871Z] }
[2022-02-13T11:54:04.871Z] "now calling callback"
[2022-02-13T11:54:04.871Z] handler called callback, sending result...
[2022-02-13T11:54:04.871Z] "Router", "request", "success", {
[2022-02-13T11:54:04.872Z]     "httpMethod": "GET",
[2022-02-13T11:54:04.872Z]     "resource": "/books",
[2022-02-13T11:54:04.872Z]     "path": "/books"
[2022-02-13T11:54:04.872Z] }
[2022-02-13T11:54:04.872Z] "promise done, calling callback"
[2022-02-13T11:54:04.872Z] handler promise resolved, sending result...
[2022-02-13T11:54:04.904Z] Received message: {"type":"execute","eventId":"BdvxRd80jHp9SG5B0_99E","payload":{"event":{"isBase64Encoded":false,"path":"/books/rina-findet-auch-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"rina-findet-auch-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:54:04.904Z] Executing event BdvxRd80jHp9SG5B0_99E
[2022-02-13T11:54:04.905Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:54:04.982Z] Invoking handler function: "handler"
[2022-02-13T11:54:04.982Z] "Router", "request", "info", {
[2022-02-13T11:54:04.982Z]     "httpMethod": "GET",
[2022-02-13T11:54:04.983Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:54:04.983Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T11:54:04.983Z] }
[2022-02-13T11:54:04.983Z] "authenticating..."
[2022-02-13T11:54:04.989Z] "handler is promise, awaiting response"
[2022-02-13T11:54:04.989Z] Waiting for handler to finish...
[2022-02-13T11:54:04.989Z] Received message: {"type":"execute","eventId":"N61ZhPrXW8newCXnhbu2r","payload":{"event":{"isBase64Encoded":false,"path":"/books/jan-findet-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jan-findet-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:54:04.989Z] Executing event N61ZhPrXW8newCXnhbu2r
[2022-02-13T11:54:04.990Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:54:04.990Z] Invoking handler function: "handler"
[2022-02-13T11:54:04.990Z] "Router", "request", "info", {
[2022-02-13T11:54:04.990Z]     "httpMethod": "GET",
[2022-02-13T11:54:04.990Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:54:04.990Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:54:04.990Z] }
[2022-02-13T11:54:04.990Z] "authenticating..."
[2022-02-13T11:54:04.991Z] "handler is promise, awaiting response"
[2022-02-13T11:54:04.991Z] Waiting for handler to finish...
[2022-02-13T11:54:05.023Z] "authenticated"
[2022-02-13T11:54:05.027Z] "authenticated"
[2022-02-13T11:54:05.038Z] "Router", "request", "success", {
[2022-02-13T11:54:05.039Z]     "httpMethod": "GET",
[2022-02-13T11:54:05.039Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:54:05.039Z]     "path": "/books/rina-findet-auch-freunde/stories",
[2022-02-13T11:54:05.039Z]     "error": null,
[2022-02-13T11:54:05.039Z]     "result": {
[2022-02-13T11:54:05.039Z]         "isBase64Encoded": false,
[2022-02-13T11:54:05.039Z]         "statusCode": 200,
[2022-02-13T11:54:05.040Z]         "headers": {
[2022-02-13T11:54:05.040Z]             "Content-Type": "application/json"
[2022-02-13T11:54:05.040Z]         },
[2022-02-13T11:54:05.040Z]         "multiValueHeaders": {},
[2022-02-13T11:54:05.040Z]         "body": "[]"
[2022-02-13T11:54:05.040Z]     }
[2022-02-13T11:54:05.040Z] }
[2022-02-13T11:54:05.040Z] "now calling callback"
[2022-02-13T11:54:05.040Z] handler called callback, sending result...
[2022-02-13T11:54:05.040Z] "Router", "request", "success", {
[2022-02-13T11:54:05.040Z]     "httpMethod": "GET",
[2022-02-13T11:54:05.041Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:54:05.041Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T11:54:05.041Z] }
[2022-02-13T11:54:05.041Z] "promise done, calling callback"
[2022-02-13T11:54:05.041Z] handler promise resolved, sending result...
[2022-02-13T11:54:05.041Z] "Router", "request", "success", {
[2022-02-13T11:54:05.041Z]     "httpMethod": "GET",
[2022-02-13T11:54:05.041Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:54:05.041Z]     "path": "/books/jan-findet-freunde/stories",
[2022-02-13T11:54:05.042Z]     "error": null,
[2022-02-13T11:54:05.042Z]     "result": {
[2022-02-13T11:54:05.042Z]         "isBase64Encoded": false,
[2022-02-13T11:54:05.042Z]         "statusCode": 200,
[2022-02-13T11:54:05.042Z]         "headers": {
[2022-02-13T11:54:05.042Z]             "Content-Type": "application/json"
[2022-02-13T11:54:05.042Z]         },
[2022-02-13T11:54:05.042Z]         "multiValueHeaders": {},
[2022-02-13T11:54:05.042Z]         "body": "[]"
[2022-02-13T11:54:05.042Z]     }
[2022-02-13T11:54:05.042Z] }
[2022-02-13T11:54:05.042Z] "now calling callback"
[2022-02-13T11:54:05.043Z] handler called callback, sending result...
[2022-02-13T11:54:05.043Z] "Router", "request", "success", {
[2022-02-13T11:54:05.043Z]     "httpMethod": "GET",
[2022-02-13T11:54:05.043Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:54:05.043Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:54:05.043Z] }
[2022-02-13T11:54:05.043Z] "promise done, calling callback"
[2022-02-13T11:54:05.043Z] handler promise resolved, sending result...
[2022-02-13T11:54:45.428Z] Received message: {"type":"execute","eventId":"5jIS87g9rZx3OoDS-YHKn","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:54:45.428Z] Executing event 5jIS87g9rZx3OoDS-YHKn
[2022-02-13T11:54:45.428Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:54:45.518Z] Invoking handler function: "handler"
[2022-02-13T11:54:45.519Z] "Router", "request", "info", {
[2022-02-13T11:54:45.519Z]     "httpMethod": "POST",
[2022-02-13T11:54:45.519Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:54:45.520Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:54:45.520Z] }
[2022-02-13T11:54:45.520Z] "authenticating..."
[2022-02-13T11:54:45.526Z] "handler is promise, awaiting response"
[2022-02-13T11:54:45.526Z] Waiting for handler to finish...
[2022-02-13T11:54:45.550Z] "authenticated"
[2022-02-13T11:54:45.550Z] "Router", "request", "success", {
[2022-02-13T11:54:45.551Z]     "httpMethod": "POST",
[2022-02-13T11:54:45.551Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:54:45.551Z]     "path": "/auth/verify-passcode",
[2022-02-13T11:54:45.551Z]     "error": null,
[2022-02-13T11:54:45.551Z]     "result": {
[2022-02-13T11:54:45.551Z]         "isBase64Encoded": false,
[2022-02-13T11:54:45.551Z]         "statusCode": 200,
[2022-02-13T11:54:45.552Z]         "headers": {
[2022-02-13T11:54:45.552Z]             "Content-Type": "application/json"
[2022-02-13T11:54:45.552Z]         },
[2022-02-13T11:54:45.552Z]         "multiValueHeaders": {},
[2022-02-13T11:54:45.552Z]         "body": "\"OK\""
[2022-02-13T11:54:45.552Z]     }
[2022-02-13T11:54:45.552Z] }
[2022-02-13T11:54:45.552Z] "now calling callback"
[2022-02-13T11:54:45.552Z] handler called callback, sending result...
[2022-02-13T11:54:45.552Z] "Router", "request", "success", {
[2022-02-13T11:54:45.553Z]     "httpMethod": "POST",
[2022-02-13T11:54:45.553Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:54:45.553Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:54:45.553Z] }
[2022-02-13T11:54:45.553Z] "promise done, calling callback"
[2022-02-13T11:54:45.554Z] handler promise resolved, sending result...
[2022-02-13T11:54:45.604Z] Received message: {"type":"execute","eventId":"a-iibBLmrMZ4L40zfn889","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"cc-FP8ymwMD21GTkmFIJwoFY75UGbQ\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:54:45.604Z] Executing event a-iibBLmrMZ4L40zfn889
[2022-02-13T11:54:45.605Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:54:45.685Z] Invoking handler function: "handler"
[2022-02-13T11:54:45.685Z] "Router", "request", "info", {
[2022-02-13T11:54:45.686Z]     "httpMethod": "GET",
[2022-02-13T11:54:45.686Z]     "resource": "/books",
[2022-02-13T11:54:45.686Z]     "path": "/books"
[2022-02-13T11:54:45.686Z] }
[2022-02-13T11:54:45.686Z] "authenticating..."
[2022-02-13T11:54:45.692Z] "handler is promise, awaiting response"
[2022-02-13T11:54:45.693Z] Waiting for handler to finish...
[2022-02-13T11:54:45.715Z] "authenticated"
[2022-02-13T11:54:45.716Z] "get books"
[2022-02-13T11:54:45.716Z] "add \"all\" option"
[2022-02-13T11:54:45.716Z] "execute"
[2022-02-13T11:54:45.735Z] "done", [
[2022-02-13T11:54:45.736Z]     {
[2022-02-13T11:54:45.736Z]         "title": "Rina findet auch Freunde",
[2022-02-13T11:54:45.736Z]         "description": "lol. nachmacher!",
[2022-02-13T11:54:45.736Z]         "slug": "rina-findet-auch-freunde"
[2022-02-13T11:54:45.736Z]     },
[2022-02-13T11:54:45.737Z]     {
[2022-02-13T11:54:45.737Z]         "title": "Jan findet freunde",
[2022-02-13T11:54:45.737Z]         "description": "Der titel sagt alles...",
[2022-02-13T11:54:45.737Z]         "slug": "jan-findet-freunde"
[2022-02-13T11:54:45.737Z]     }
[2022-02-13T11:54:45.737Z] ]
[2022-02-13T11:54:45.737Z] "Router", "request", "success", {
[2022-02-13T11:54:45.737Z]     "httpMethod": "GET",
[2022-02-13T11:54:45.737Z]     "resource": "/books",
[2022-02-13T11:54:45.737Z]     "path": "/books",
[2022-02-13T11:54:45.737Z]     "error": null,
[2022-02-13T11:54:45.738Z]     "result": {
[2022-02-13T11:54:45.738Z]         "isBase64Encoded": false,
[2022-02-13T11:54:45.738Z]         "statusCode": 200,
[2022-02-13T11:54:45.738Z]         "headers": {
[2022-02-13T11:54:45.738Z]             "Content-Type": "application/json"
[2022-02-13T11:54:45.738Z]         },
[2022-02-13T11:54:45.738Z]         "multiValueHeaders": {},
[2022-02-13T11:54:45.738Z]         "body": "[{\"title\":\"Rina findet auch Freunde\",\"description\":\"lol. nachmacher!\",\"slug\":\"rina-findet-auch-freunde\"},{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\",\"slug\":\"jan-findet-freunde\"}]"
[2022-02-13T11:54:45.738Z]     }
[2022-02-13T11:54:45.738Z] }
[2022-02-13T11:54:45.738Z] "now calling callback"
[2022-02-13T11:54:45.738Z] handler called callback, sending result...
[2022-02-13T11:54:45.739Z] "Router", "request", "success", {
[2022-02-13T11:54:45.739Z]     "httpMethod": "GET",
[2022-02-13T11:54:45.739Z]     "resource": "/books",
[2022-02-13T11:54:45.739Z]     "path": "/books"
[2022-02-13T11:54:45.739Z] }
[2022-02-13T11:54:45.739Z] "promise done, calling callback"
[2022-02-13T11:54:45.739Z] handler promise resolved, sending result...
[2022-02-13T11:54:45.771Z] Received message: {"type":"execute","eventId":"J7NZKX-hwfs93scgxT5Yg","payload":{"event":{"isBase64Encoded":false,"path":"/books/rina-findet-auch-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"rina-findet-auch-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:54:45.771Z] Executing event J7NZKX-hwfs93scgxT5Yg
[2022-02-13T11:54:45.772Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:54:45.851Z] Invoking handler function: "handler"
[2022-02-13T11:54:45.851Z] "Router", "request", "info", {
[2022-02-13T11:54:45.852Z]     "httpMethod": "GET",
[2022-02-13T11:54:45.852Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:54:45.852Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T11:54:45.852Z] }
[2022-02-13T11:54:45.852Z] "authenticating..."
[2022-02-13T11:54:45.858Z] "handler is promise, awaiting response"
[2022-02-13T11:54:45.859Z] Waiting for handler to finish...
[2022-02-13T11:54:45.859Z] Received message: {"type":"execute","eventId":"rJzNjX0YATbRsUoUT8L15","payload":{"event":{"isBase64Encoded":false,"path":"/books/jan-findet-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jan-findet-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:54:45.859Z] Executing event rJzNjX0YATbRsUoUT8L15
[2022-02-13T11:54:45.859Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:54:45.859Z] Invoking handler function: "handler"
[2022-02-13T11:54:45.860Z] "Router", "request", "info", {
[2022-02-13T11:54:45.860Z]     "httpMethod": "GET",
[2022-02-13T11:54:45.860Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:54:45.860Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:54:45.860Z] }
[2022-02-13T11:54:45.860Z] "authenticating..."
[2022-02-13T11:54:45.860Z] "handler is promise, awaiting response"
[2022-02-13T11:54:45.860Z] Waiting for handler to finish...
[2022-02-13T11:54:45.885Z] "authenticated"
[2022-02-13T11:54:45.888Z] "authenticated"
[2022-02-13T11:54:45.902Z] "Router", "request", "success", {
[2022-02-13T11:54:45.902Z]     "httpMethod": "GET",
[2022-02-13T11:54:45.902Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:54:45.902Z]     "path": "/books/jan-findet-freunde/stories",
[2022-02-13T11:54:45.903Z]     "error": null,
[2022-02-13T11:54:45.903Z]     "result": {
[2022-02-13T11:54:45.903Z]         "isBase64Encoded": false,
[2022-02-13T11:54:45.903Z]         "statusCode": 200,
[2022-02-13T11:54:45.903Z]         "headers": {
[2022-02-13T11:54:45.903Z]             "Content-Type": "application/json"
[2022-02-13T11:54:45.903Z]         },
[2022-02-13T11:54:45.903Z]         "multiValueHeaders": {},
[2022-02-13T11:54:45.903Z]         "body": "[]"
[2022-02-13T11:54:45.903Z]     }
[2022-02-13T11:54:45.903Z] }
[2022-02-13T11:54:45.904Z] "now calling callback"
[2022-02-13T11:54:45.904Z] handler called callback, sending result...
[2022-02-13T11:54:45.904Z] "Router", "request", "success", {
[2022-02-13T11:54:45.904Z]     "httpMethod": "GET",
[2022-02-13T11:54:45.904Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:54:45.904Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:54:45.904Z] }
[2022-02-13T11:54:45.904Z] "promise done, calling callback"
[2022-02-13T11:54:45.904Z] handler promise resolved, sending result...
[2022-02-13T11:54:45.905Z] "Router", "request", "success", {
[2022-02-13T11:54:45.905Z]     "httpMethod": "GET",
[2022-02-13T11:54:45.905Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:54:45.905Z]     "path": "/books/rina-findet-auch-freunde/stories",
[2022-02-13T11:54:45.905Z]     "error": null,
[2022-02-13T11:54:45.905Z]     "result": {
[2022-02-13T11:54:45.905Z]         "isBase64Encoded": false,
[2022-02-13T11:54:45.905Z]         "statusCode": 200,
[2022-02-13T11:54:45.905Z]         "headers": {
[2022-02-13T11:54:45.905Z]             "Content-Type": "application/json"
[2022-02-13T11:54:45.906Z]         },
[2022-02-13T11:54:45.906Z]         "multiValueHeaders": {},
[2022-02-13T11:54:45.906Z]         "body": "[]"
[2022-02-13T11:54:45.906Z]     }
[2022-02-13T11:54:45.906Z] }
[2022-02-13T11:54:45.906Z] "now calling callback"
[2022-02-13T11:54:45.906Z] handler called callback, sending result...
[2022-02-13T11:54:45.906Z] "Router", "request", "success", {
[2022-02-13T11:54:45.906Z]     "httpMethod": "GET",
[2022-02-13T11:54:45.907Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:54:45.907Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T11:54:45.907Z] }
[2022-02-13T11:54:45.907Z] "promise done, calling callback"
[2022-02-13T11:54:45.907Z] handler promise resolved, sending result...
[2022-02-13T11:55:01.611Z] Received message: {"type":"execute","eventId":"kUHJd4gmDByC6XrkxZb4I","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:55:01.612Z] Executing event kUHJd4gmDByC6XrkxZb4I
[2022-02-13T11:55:01.612Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:55:01.698Z] Invoking handler function: "handler"
[2022-02-13T11:55:01.698Z] "Router", "request", "info", {
[2022-02-13T11:55:01.699Z]     "httpMethod": "POST",
[2022-02-13T11:55:01.699Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:55:01.699Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:55:01.699Z] }
[2022-02-13T11:55:01.699Z] "authenticating..."
[2022-02-13T11:55:01.706Z] "handler is promise, awaiting response"
[2022-02-13T11:55:01.706Z] Waiting for handler to finish...
[2022-02-13T11:55:01.739Z] "authenticated"
[2022-02-13T11:55:01.739Z] "Router", "request", "success", {
[2022-02-13T11:55:01.739Z]     "httpMethod": "POST",
[2022-02-13T11:55:01.740Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:55:01.740Z]     "path": "/auth/verify-passcode",
[2022-02-13T11:55:01.740Z]     "error": null,
[2022-02-13T11:55:01.740Z]     "result": {
[2022-02-13T11:55:01.741Z]         "isBase64Encoded": false,
[2022-02-13T11:55:01.741Z]         "statusCode": 200,
[2022-02-13T11:55:01.741Z]         "headers": {
[2022-02-13T11:55:01.741Z]             "Content-Type": "application/json"
[2022-02-13T11:55:01.741Z]         },
[2022-02-13T11:55:01.741Z]         "multiValueHeaders": {},
[2022-02-13T11:55:01.741Z]         "body": "\"OK\""
[2022-02-13T11:55:01.741Z]     }
[2022-02-13T11:55:01.741Z] }
[2022-02-13T11:55:01.741Z] "now calling callback"
[2022-02-13T11:55:01.742Z] handler called callback, sending result...
[2022-02-13T11:55:01.742Z] "Router", "request", "success", {
[2022-02-13T11:55:01.742Z]     "httpMethod": "POST",
[2022-02-13T11:55:01.742Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:55:01.742Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:55:01.742Z] }
[2022-02-13T11:55:01.743Z] "promise done, calling callback"
[2022-02-13T11:55:01.743Z] handler promise resolved, sending result...
[2022-02-13T11:55:01.799Z] Received message: {"type":"execute","eventId":"EJ0Obp6H9WdxlR2UjErtm","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"cc-FP8ymwMD21GTkmFIJwoFY75UGbQ\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:55:01.800Z] Executing event EJ0Obp6H9WdxlR2UjErtm
[2022-02-13T11:55:01.800Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:55:01.884Z] Invoking handler function: "handler"
[2022-02-13T11:55:01.884Z] "Router", "request", "info", {
[2022-02-13T11:55:01.885Z]     "httpMethod": "GET",
[2022-02-13T11:55:01.885Z]     "resource": "/books",
[2022-02-13T11:55:01.885Z]     "path": "/books"
[2022-02-13T11:55:01.885Z] }
[2022-02-13T11:55:01.885Z] "authenticating..."
[2022-02-13T11:55:01.892Z] "handler is promise, awaiting response"
[2022-02-13T11:55:01.892Z] Waiting for handler to finish...
[2022-02-13T11:55:01.916Z] "authenticated"
[2022-02-13T11:55:01.916Z] "get books"
[2022-02-13T11:55:01.916Z] "add \"all\" option"
[2022-02-13T11:55:01.916Z] "execute"
[2022-02-13T11:55:01.936Z] "done", [
[2022-02-13T11:55:01.936Z]     {
[2022-02-13T11:55:01.936Z]         "title": "Rina findet auch Freunde",
[2022-02-13T11:55:01.936Z]         "description": "lol. nachmacher!",
[2022-02-13T11:55:01.936Z]         "slug": "rina-findet-auch-freunde"
[2022-02-13T11:55:01.936Z]     },
[2022-02-13T11:55:01.936Z]     {
[2022-02-13T11:55:01.936Z]         "title": "Jan findet freunde",
[2022-02-13T11:55:01.937Z]         "description": "Der titel sagt alles...",
[2022-02-13T11:55:01.937Z]         "slug": "jan-findet-freunde"
[2022-02-13T11:55:01.937Z]     }
[2022-02-13T11:55:01.937Z] ]
[2022-02-13T11:55:01.937Z] "Router", "request", "success", {
[2022-02-13T11:55:01.937Z]     "httpMethod": "GET",
[2022-02-13T11:55:01.937Z]     "resource": "/books",
[2022-02-13T11:55:01.937Z]     "path": "/books",
[2022-02-13T11:55:01.938Z]     "error": null,
[2022-02-13T11:55:01.938Z]     "result": {
[2022-02-13T11:55:01.938Z]         "isBase64Encoded": false,
[2022-02-13T11:55:01.938Z]         "statusCode": 200,
[2022-02-13T11:55:01.938Z]         "headers": {
[2022-02-13T11:55:01.938Z]             "Content-Type": "application/json"
[2022-02-13T11:55:01.938Z]         },
[2022-02-13T11:55:01.938Z]         "multiValueHeaders": {},
[2022-02-13T11:55:01.938Z]         "body": "[{\"title\":\"Rina findet auch Freunde\",\"description\":\"lol. nachmacher!\",\"slug\":\"rina-findet-auch-freunde\"},{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\",\"slug\":\"jan-findet-freunde\"}]"
[2022-02-13T11:55:01.939Z]     }
[2022-02-13T11:55:01.939Z] }
[2022-02-13T11:55:01.939Z] "now calling callback"
[2022-02-13T11:55:01.939Z] handler called callback, sending result...
[2022-02-13T11:55:01.939Z] "Router", "request", "success", {
[2022-02-13T11:55:01.939Z]     "httpMethod": "GET",
[2022-02-13T11:55:01.939Z]     "resource": "/books",
[2022-02-13T11:55:01.939Z]     "path": "/books"
[2022-02-13T11:55:01.939Z] }
[2022-02-13T11:55:01.939Z] "promise done, calling callback"
[2022-02-13T11:55:01.940Z] handler promise resolved, sending result...
[2022-02-13T11:55:01.976Z] Received message: {"type":"execute","eventId":"CuO1HCHKavzpAM-rC9AHv","payload":{"event":{"isBase64Encoded":false,"path":"/books/rina-findet-auch-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"rina-findet-auch-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:55:01.976Z] Executing event CuO1HCHKavzpAM-rC9AHv
[2022-02-13T11:55:01.976Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:55:02.067Z] Invoking handler function: "handler"
[2022-02-13T11:55:02.068Z] "Router", "request", "info", {
[2022-02-13T11:55:02.068Z]     "httpMethod": "GET",
[2022-02-13T11:55:02.068Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:55:02.068Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T11:55:02.068Z] }
[2022-02-13T11:55:02.069Z] "authenticating..."
[2022-02-13T11:55:02.075Z] "handler is promise, awaiting response"
[2022-02-13T11:55:02.075Z] Waiting for handler to finish...
[2022-02-13T11:55:02.075Z] Received message: {"type":"execute","eventId":"O90kM9GOB8K6zdfZUg6V-","payload":{"event":{"isBase64Encoded":false,"path":"/books/jan-findet-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jan-findet-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:55:02.075Z] Executing event O90kM9GOB8K6zdfZUg6V-
[2022-02-13T11:55:02.075Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:55:02.076Z] Invoking handler function: "handler"
[2022-02-13T11:55:02.076Z] "Router", "request", "info", {
[2022-02-13T11:55:02.076Z]     "httpMethod": "GET",
[2022-02-13T11:55:02.076Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:55:02.076Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:55:02.076Z] }
[2022-02-13T11:55:02.076Z] "authenticating..."
[2022-02-13T11:55:02.076Z] "handler is promise, awaiting response"
[2022-02-13T11:55:02.076Z] Waiting for handler to finish...
[2022-02-13T11:55:02.106Z] "authenticated"
[2022-02-13T11:55:02.113Z] "authenticated"
[2022-02-13T11:55:02.123Z] "Router", "request", "success", {
[2022-02-13T11:55:02.123Z]     "httpMethod": "GET",
[2022-02-13T11:55:02.124Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:55:02.124Z]     "path": "/books/rina-findet-auch-freunde/stories",
[2022-02-13T11:55:02.124Z]     "error": null,
[2022-02-13T11:55:02.124Z]     "result": {
[2022-02-13T11:55:02.124Z]         "isBase64Encoded": false,
[2022-02-13T11:55:02.124Z]         "statusCode": 200,
[2022-02-13T11:55:02.124Z]         "headers": {
[2022-02-13T11:55:02.125Z]             "Content-Type": "application/json"
[2022-02-13T11:55:02.125Z]         },
[2022-02-13T11:55:02.125Z]         "multiValueHeaders": {},
[2022-02-13T11:55:02.125Z]         "body": "[]"
[2022-02-13T11:55:02.125Z]     }
[2022-02-13T11:55:02.125Z] }
[2022-02-13T11:55:02.125Z] "now calling callback"
[2022-02-13T11:55:02.125Z] handler called callback, sending result...
[2022-02-13T11:55:02.125Z] "Router", "request", "success", {
[2022-02-13T11:55:02.125Z]     "httpMethod": "GET",
[2022-02-13T11:55:02.125Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:55:02.126Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T11:55:02.126Z] }
[2022-02-13T11:55:02.126Z] "promise done, calling callback"
[2022-02-13T11:55:02.126Z] handler promise resolved, sending result...
[2022-02-13T11:55:02.127Z] "Router", "request", "success", {
[2022-02-13T11:55:02.127Z]     "httpMethod": "GET",
[2022-02-13T11:55:02.127Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:55:02.127Z]     "path": "/books/jan-findet-freunde/stories",
[2022-02-13T11:55:02.127Z]     "error": null,
[2022-02-13T11:55:02.127Z]     "result": {
[2022-02-13T11:55:02.127Z]         "isBase64Encoded": false,
[2022-02-13T11:55:02.127Z]         "statusCode": 200,
[2022-02-13T11:55:02.127Z]         "headers": {
[2022-02-13T11:55:02.127Z]             "Content-Type": "application/json"
[2022-02-13T11:55:02.127Z]         },
[2022-02-13T11:55:02.128Z]         "multiValueHeaders": {},
[2022-02-13T11:55:02.128Z]         "body": "[]"
[2022-02-13T11:55:02.128Z]     }
[2022-02-13T11:55:02.128Z] }
[2022-02-13T11:55:02.128Z] "now calling callback"
[2022-02-13T11:55:02.128Z] handler called callback, sending result...
[2022-02-13T11:55:02.129Z] "Router", "request", "success", {
[2022-02-13T11:55:02.129Z]     "httpMethod": "GET",
[2022-02-13T11:55:02.129Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:55:02.129Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:55:02.129Z] }
[2022-02-13T11:55:02.129Z] "promise done, calling callback"
[2022-02-13T11:55:02.129Z] handler promise resolved, sending result...
[2022-02-13T11:56:02.599Z] Received message: {"type":"execute","eventId":"tD9_wumll9-v0VwMAsDWP","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:56:02.599Z] Executing event tD9_wumll9-v0VwMAsDWP
[2022-02-13T11:56:02.599Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:56:02.679Z] Invoking handler function: "handler"
[2022-02-13T11:56:02.679Z] "Router", "request", "info", {
[2022-02-13T11:56:02.680Z]     "httpMethod": "POST",
[2022-02-13T11:56:02.680Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:56:02.680Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:56:02.680Z] }
[2022-02-13T11:56:02.680Z] "authenticating..."
[2022-02-13T11:56:02.686Z] "handler is promise, awaiting response"
[2022-02-13T11:56:02.686Z] Waiting for handler to finish...
[2022-02-13T11:56:02.715Z] "authenticated"
[2022-02-13T11:56:02.715Z] "Router", "request", "success", {
[2022-02-13T11:56:02.715Z]     "httpMethod": "POST",
[2022-02-13T11:56:02.716Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:56:02.716Z]     "path": "/auth/verify-passcode",
[2022-02-13T11:56:02.716Z]     "error": null,
[2022-02-13T11:56:02.716Z]     "result": {
[2022-02-13T11:56:02.716Z]         "isBase64Encoded": false,
[2022-02-13T11:56:02.716Z]         "statusCode": 200,
[2022-02-13T11:56:02.716Z]         "headers": {
[2022-02-13T11:56:02.716Z]             "Content-Type": "application/json"
[2022-02-13T11:56:02.717Z]         },
[2022-02-13T11:56:02.717Z]         "multiValueHeaders": {},
[2022-02-13T11:56:02.717Z]         "body": "\"OK\""
[2022-02-13T11:56:02.717Z]     }
[2022-02-13T11:56:02.717Z] }
[2022-02-13T11:56:02.717Z] "now calling callback"
[2022-02-13T11:56:02.717Z] handler called callback, sending result...
[2022-02-13T11:56:02.718Z] "Router", "request", "success", {
[2022-02-13T11:56:02.718Z]     "httpMethod": "POST",
[2022-02-13T11:56:02.718Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:56:02.718Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:56:02.718Z] }
[2022-02-13T11:56:02.718Z] "promise done, calling callback"
[2022-02-13T11:56:02.719Z] handler promise resolved, sending result...
[2022-02-13T11:56:02.765Z] Received message: {"type":"execute","eventId":"zYrkuEHgiAfwkpyh5oiB-","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"cc-FP8ymwMD21GTkmFIJwoFY75UGbQ\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:56:02.765Z] Executing event zYrkuEHgiAfwkpyh5oiB-
[2022-02-13T11:56:02.765Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:56:02.846Z] Invoking handler function: "handler"
[2022-02-13T11:56:02.846Z] "Router", "request", "info", {
[2022-02-13T11:56:02.846Z]     "httpMethod": "GET",
[2022-02-13T11:56:02.846Z]     "resource": "/books",
[2022-02-13T11:56:02.846Z]     "path": "/books"
[2022-02-13T11:56:02.846Z] }
[2022-02-13T11:56:02.847Z] "authenticating..."
[2022-02-13T11:56:02.853Z] "handler is promise, awaiting response"
[2022-02-13T11:56:02.853Z] Waiting for handler to finish...
[2022-02-13T11:56:02.883Z] "authenticated"
[2022-02-13T11:56:02.883Z] "get books"
[2022-02-13T11:56:02.884Z] "add \"all\" option"
[2022-02-13T11:56:02.884Z] "execute"
[2022-02-13T11:56:02.906Z] "done", [
[2022-02-13T11:56:02.907Z]     {
[2022-02-13T11:56:02.907Z]         "title": "Rina findet auch Freunde",
[2022-02-13T11:56:02.907Z]         "description": "lol. nachmacher!",
[2022-02-13T11:56:02.907Z]         "slug": "rina-findet-auch-freunde"
[2022-02-13T11:56:02.907Z]     },
[2022-02-13T11:56:02.907Z]     {
[2022-02-13T11:56:02.908Z]         "title": "Jan findet freunde",
[2022-02-13T11:56:02.908Z]         "description": "Der titel sagt alles...",
[2022-02-13T11:56:02.908Z]         "slug": "jan-findet-freunde"
[2022-02-13T11:56:02.908Z]     }
[2022-02-13T11:56:02.908Z] ]
[2022-02-13T11:56:02.908Z] "Router", "request", "success", {
[2022-02-13T11:56:02.908Z]     "httpMethod": "GET",
[2022-02-13T11:56:02.908Z]     "resource": "/books",
[2022-02-13T11:56:02.908Z]     "path": "/books",
[2022-02-13T11:56:02.908Z]     "error": null,
[2022-02-13T11:56:02.908Z]     "result": {
[2022-02-13T11:56:02.908Z]         "isBase64Encoded": false,
[2022-02-13T11:56:02.909Z]         "statusCode": 200,
[2022-02-13T11:56:02.909Z]         "headers": {
[2022-02-13T11:56:02.909Z]             "Content-Type": "application/json"
[2022-02-13T11:56:02.909Z]         },
[2022-02-13T11:56:02.909Z]         "multiValueHeaders": {},
[2022-02-13T11:56:02.909Z]         "body": "[{\"title\":\"Rina findet auch Freunde\",\"description\":\"lol. nachmacher!\",\"slug\":\"rina-findet-auch-freunde\"},{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\",\"slug\":\"jan-findet-freunde\"}]"
[2022-02-13T11:56:02.909Z]     }
[2022-02-13T11:56:02.909Z] }
[2022-02-13T11:56:02.909Z] "now calling callback"
[2022-02-13T11:56:02.909Z] handler called callback, sending result...
[2022-02-13T11:56:02.910Z] "Router", "request", "success", {
[2022-02-13T11:56:02.910Z]     "httpMethod": "GET",
[2022-02-13T11:56:02.910Z]     "resource": "/books",
[2022-02-13T11:56:02.910Z]     "path": "/books"
[2022-02-13T11:56:02.910Z] }
[2022-02-13T11:56:02.910Z] "promise done, calling callback"
[2022-02-13T11:56:02.910Z] handler promise resolved, sending result...
[2022-02-13T11:56:02.943Z] Received message: {"type":"execute","eventId":"kSoOa4ffYfOb1BhUcYmFZ","payload":{"event":{"isBase64Encoded":false,"path":"/books/rina-findet-auch-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"rina-findet-auch-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:56:02.943Z] Executing event kSoOa4ffYfOb1BhUcYmFZ
[2022-02-13T11:56:02.943Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:56:03.023Z] Invoking handler function: "handler"
[2022-02-13T11:56:03.023Z] "Router", "request", "info", {
[2022-02-13T11:56:03.023Z]     "httpMethod": "GET",
[2022-02-13T11:56:03.023Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:56:03.024Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T11:56:03.024Z] }
[2022-02-13T11:56:03.024Z] "authenticating..."
[2022-02-13T11:56:03.031Z] "handler is promise, awaiting response"
[2022-02-13T11:56:03.031Z] Waiting for handler to finish...
[2022-02-13T11:56:03.031Z] Received message: {"type":"execute","eventId":"jni-Xb0Px_a8vThiTnS4e","payload":{"event":{"isBase64Encoded":false,"path":"/books/jan-findet-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jan-findet-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:56:03.031Z] Executing event jni-Xb0Px_a8vThiTnS4e
[2022-02-13T11:56:03.031Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:56:03.031Z] Invoking handler function: "handler"
[2022-02-13T11:56:03.032Z] "Router", "request", "info", {
[2022-02-13T11:56:03.032Z]     "httpMethod": "GET",
[2022-02-13T11:56:03.032Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:56:03.032Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:56:03.032Z] }
[2022-02-13T11:56:03.032Z] "authenticating..."
[2022-02-13T11:56:03.033Z] "handler is promise, awaiting response"
[2022-02-13T11:56:03.033Z] Waiting for handler to finish...
[2022-02-13T11:56:03.065Z] "authenticated"
[2022-02-13T11:56:03.068Z] "authenticated"
[2022-02-13T11:56:03.088Z] "Router", "request", "success", {
[2022-02-13T11:56:03.088Z]     "httpMethod": "GET",
[2022-02-13T11:56:03.088Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:56:03.088Z]     "path": "/books/rina-findet-auch-freunde/stories",
[2022-02-13T11:56:03.088Z]     "error": null,
[2022-02-13T11:56:03.088Z]     "result": {
[2022-02-13T11:56:03.088Z]         "isBase64Encoded": false,
[2022-02-13T11:56:03.089Z]         "statusCode": 200,
[2022-02-13T11:56:03.089Z]         "headers": {
[2022-02-13T11:56:03.089Z]             "Content-Type": "application/json"
[2022-02-13T11:56:03.089Z]         },
[2022-02-13T11:56:03.089Z]         "multiValueHeaders": {},
[2022-02-13T11:56:03.089Z]         "body": "[]"
[2022-02-13T11:56:03.089Z]     }
[2022-02-13T11:56:03.089Z] }
[2022-02-13T11:56:03.090Z] "now calling callback"
[2022-02-13T11:56:03.090Z] handler called callback, sending result...
[2022-02-13T11:56:03.090Z] "Router", "request", "success", {
[2022-02-13T11:56:03.090Z]     "httpMethod": "GET",
[2022-02-13T11:56:03.090Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:56:03.091Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T11:56:03.091Z] }
[2022-02-13T11:56:03.091Z] "promise done, calling callback"
[2022-02-13T11:56:03.091Z] handler promise resolved, sending result...
[2022-02-13T11:56:03.091Z] "Router", "request", "success", {
[2022-02-13T11:56:03.091Z]     "httpMethod": "GET",
[2022-02-13T11:56:03.091Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:56:03.092Z]     "path": "/books/jan-findet-freunde/stories",
[2022-02-13T11:56:03.092Z]     "error": null,
[2022-02-13T11:56:03.092Z]     "result": {
[2022-02-13T11:56:03.092Z]         "isBase64Encoded": false,
[2022-02-13T11:56:03.092Z]         "statusCode": 200,
[2022-02-13T11:56:03.092Z]         "headers": {
[2022-02-13T11:56:03.092Z]             "Content-Type": "application/json"
[2022-02-13T11:56:03.092Z]         },
[2022-02-13T11:56:03.092Z]         "multiValueHeaders": {},
[2022-02-13T11:56:03.092Z]         "body": "[]"
[2022-02-13T11:56:03.093Z]     }
[2022-02-13T11:56:03.093Z] }
[2022-02-13T11:56:03.093Z] "now calling callback"
[2022-02-13T11:56:03.093Z] handler called callback, sending result...
[2022-02-13T11:56:03.093Z] "Router", "request", "success", {
[2022-02-13T11:56:03.093Z]     "httpMethod": "GET",
[2022-02-13T11:56:03.093Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:56:03.093Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:56:03.094Z] }
[2022-02-13T11:56:03.094Z] "promise done, calling callback"
[2022-02-13T11:56:03.094Z] handler promise resolved, sending result...
[2022-02-13T11:59:19.864Z] Received message: {"type":"execute","eventId":"bCQ8RqVvPhk42CnF8YhE5","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:59:19.864Z] Executing event bCQ8RqVvPhk42CnF8YhE5
[2022-02-13T11:59:19.865Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:59:20.023Z] Invoking handler function: "handler"
[2022-02-13T11:59:20.023Z] "Router", "request", "info", {
[2022-02-13T11:59:20.023Z]     "httpMethod": "POST",
[2022-02-13T11:59:20.023Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:59:20.024Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:59:20.024Z] }
[2022-02-13T11:59:20.024Z] "authenticating..."
[2022-02-13T11:59:20.031Z] "handler is promise, awaiting response"
[2022-02-13T11:59:20.031Z] Waiting for handler to finish...
[2022-02-13T11:59:20.059Z] "authenticated"
[2022-02-13T11:59:20.059Z] "Router", "request", "success", {
[2022-02-13T11:59:20.059Z]     "httpMethod": "POST",
[2022-02-13T11:59:20.060Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:59:20.060Z]     "path": "/auth/verify-passcode",
[2022-02-13T11:59:20.060Z]     "error": null,
[2022-02-13T11:59:20.060Z]     "result": {
[2022-02-13T11:59:20.060Z]         "isBase64Encoded": false,
[2022-02-13T11:59:20.060Z]         "statusCode": 200,
[2022-02-13T11:59:20.060Z]         "headers": {
[2022-02-13T11:59:20.060Z]             "Content-Type": "application/json"
[2022-02-13T11:59:20.061Z]         },
[2022-02-13T11:59:20.061Z]         "multiValueHeaders": {},
[2022-02-13T11:59:20.061Z]         "body": "\"OK\""
[2022-02-13T11:59:20.061Z]     }
[2022-02-13T11:59:20.061Z] }
[2022-02-13T11:59:20.061Z] "now calling callback"
[2022-02-13T11:59:20.061Z] handler called callback, sending result...
[2022-02-13T11:59:20.062Z] "Router", "request", "success", {
[2022-02-13T11:59:20.062Z]     "httpMethod": "POST",
[2022-02-13T11:59:20.062Z]     "resource": "/auth/verify-passcode",
[2022-02-13T11:59:20.062Z]     "path": "/auth/verify-passcode"
[2022-02-13T11:59:20.062Z] }
[2022-02-13T11:59:20.062Z] "promise done, calling callback"
[2022-02-13T11:59:20.062Z] handler promise resolved, sending result...
[2022-02-13T11:59:20.115Z] Received message: {"type":"execute","eventId":"2eaMtyMu7EGpWlQZTvpre","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"cc-FP8ymwMD21GTkmFIJwoFY75UGbQ\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:59:20.116Z] Executing event 2eaMtyMu7EGpWlQZTvpre
[2022-02-13T11:59:20.116Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:59:20.194Z] Invoking handler function: "handler"
[2022-02-13T11:59:20.195Z] "Router", "request", "info", {
[2022-02-13T11:59:20.195Z]     "httpMethod": "GET",
[2022-02-13T11:59:20.196Z]     "resource": "/books",
[2022-02-13T11:59:20.196Z]     "path": "/books"
[2022-02-13T11:59:20.196Z] }
[2022-02-13T11:59:20.196Z] "authenticating..."
[2022-02-13T11:59:20.203Z] "handler is promise, awaiting response"
[2022-02-13T11:59:20.203Z] Waiting for handler to finish...
[2022-02-13T11:59:20.235Z] "authenticated"
[2022-02-13T11:59:20.235Z] "get books"
[2022-02-13T11:59:20.235Z] "add \"all\" option"
[2022-02-13T11:59:20.235Z] "execute"
[2022-02-13T11:59:20.251Z] "done", [
[2022-02-13T11:59:20.251Z]     {
[2022-02-13T11:59:20.252Z]         "title": "Rina findet auch Freunde",
[2022-02-13T11:59:20.252Z]         "description": "lol. nachmacher!",
[2022-02-13T11:59:20.252Z]         "slug": "rina-findet-auch-freunde"
[2022-02-13T11:59:20.252Z]     },
[2022-02-13T11:59:20.252Z]     {
[2022-02-13T11:59:20.252Z]         "title": "Jan findet freunde",
[2022-02-13T11:59:20.252Z]         "description": "Der titel sagt alles...",
[2022-02-13T11:59:20.253Z]         "slug": "jan-findet-freunde"
[2022-02-13T11:59:20.253Z]     }
[2022-02-13T11:59:20.253Z] ]
[2022-02-13T11:59:20.253Z] "Router", "request", "success", {
[2022-02-13T11:59:20.253Z]     "httpMethod": "GET",
[2022-02-13T11:59:20.253Z]     "resource": "/books",
[2022-02-13T11:59:20.253Z]     "path": "/books",
[2022-02-13T11:59:20.253Z]     "error": null,
[2022-02-13T11:59:20.253Z]     "result": {
[2022-02-13T11:59:20.253Z]         "isBase64Encoded": false,
[2022-02-13T11:59:20.254Z]         "statusCode": 200,
[2022-02-13T11:59:20.254Z]         "headers": {
[2022-02-13T11:59:20.254Z]             "Content-Type": "application/json"
[2022-02-13T11:59:20.254Z]         },
[2022-02-13T11:59:20.254Z]         "multiValueHeaders": {},
[2022-02-13T11:59:20.254Z]         "body": "[{\"title\":\"Rina findet auch Freunde\",\"description\":\"lol. nachmacher!\",\"slug\":\"rina-findet-auch-freunde\"},{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\",\"slug\":\"jan-findet-freunde\"}]"
[2022-02-13T11:59:20.254Z]     }
[2022-02-13T11:59:20.254Z] }
[2022-02-13T11:59:20.254Z] "now calling callback"
[2022-02-13T11:59:20.254Z] handler called callback, sending result...
[2022-02-13T11:59:20.255Z] "Router", "request", "success", {
[2022-02-13T11:59:20.255Z]     "httpMethod": "GET",
[2022-02-13T11:59:20.255Z]     "resource": "/books",
[2022-02-13T11:59:20.255Z]     "path": "/books"
[2022-02-13T11:59:20.255Z] }
[2022-02-13T11:59:20.255Z] "promise done, calling callback"
[2022-02-13T11:59:20.255Z] handler promise resolved, sending result...
[2022-02-13T11:59:20.287Z] Received message: {"type":"execute","eventId":"RMCoCNlZLhvZyxW1QZNlC","payload":{"event":{"isBase64Encoded":false,"path":"/books/rina-findet-auch-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"rina-findet-auch-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:59:20.287Z] Executing event RMCoCNlZLhvZyxW1QZNlC
[2022-02-13T11:59:20.287Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:59:20.370Z] Invoking handler function: "handler"
[2022-02-13T11:59:20.370Z] "Router", "request", "info", {
[2022-02-13T11:59:20.370Z]     "httpMethod": "GET",
[2022-02-13T11:59:20.371Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:59:20.371Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T11:59:20.371Z] }
[2022-02-13T11:59:20.371Z] "authenticating..."
[2022-02-13T11:59:20.377Z] "handler is promise, awaiting response"
[2022-02-13T11:59:20.377Z] Waiting for handler to finish...
[2022-02-13T11:59:20.378Z] Received message: {"type":"execute","eventId":"IC4CNsjlwFT3dK0iWzCxp","payload":{"event":{"isBase64Encoded":false,"path":"/books/jan-findet-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jan-findet-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T11:59:20.378Z] Executing event IC4CNsjlwFT3dK0iWzCxp
[2022-02-13T11:59:20.378Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T11:59:20.378Z] Invoking handler function: "handler"
[2022-02-13T11:59:20.378Z] "Router", "request", "info", {
[2022-02-13T11:59:20.379Z]     "httpMethod": "GET",
[2022-02-13T11:59:20.379Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:59:20.379Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:59:20.379Z] }
[2022-02-13T11:59:20.379Z] "authenticating..."
[2022-02-13T11:59:20.379Z] "handler is promise, awaiting response"
[2022-02-13T11:59:20.379Z] Waiting for handler to finish...
[2022-02-13T11:59:20.412Z] "authenticated"
[2022-02-13T11:59:20.416Z] "authenticated"
[2022-02-13T11:59:20.433Z] "Router", "request", "success", {
[2022-02-13T11:59:20.433Z]     "httpMethod": "GET",
[2022-02-13T11:59:20.433Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:59:20.433Z]     "path": "/books/rina-findet-auch-freunde/stories",
[2022-02-13T11:59:20.434Z]     "error": null,
[2022-02-13T11:59:20.434Z]     "result": {
[2022-02-13T11:59:20.434Z]         "isBase64Encoded": false,
[2022-02-13T11:59:20.434Z]         "statusCode": 200,
[2022-02-13T11:59:20.434Z]         "headers": {
[2022-02-13T11:59:20.434Z]             "Content-Type": "application/json"
[2022-02-13T11:59:20.434Z]         },
[2022-02-13T11:59:20.435Z]         "multiValueHeaders": {},
[2022-02-13T11:59:20.435Z]         "body": "[]"
[2022-02-13T11:59:20.435Z]     }
[2022-02-13T11:59:20.435Z] }
[2022-02-13T11:59:20.435Z] "now calling callback"
[2022-02-13T11:59:20.435Z] handler called callback, sending result...
[2022-02-13T11:59:20.436Z] "Router", "request", "success", {
[2022-02-13T11:59:20.436Z]     "httpMethod": "GET",
[2022-02-13T11:59:20.436Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:59:20.436Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T11:59:20.436Z] }
[2022-02-13T11:59:20.436Z] "promise done, calling callback"
[2022-02-13T11:59:20.436Z] handler promise resolved, sending result...
[2022-02-13T11:59:20.436Z] "Router", "request", "success", {
[2022-02-13T11:59:20.436Z]     "httpMethod": "GET",
[2022-02-13T11:59:20.437Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:59:20.437Z]     "path": "/books/jan-findet-freunde/stories",
[2022-02-13T11:59:20.437Z]     "error": null,
[2022-02-13T11:59:20.437Z]     "result": {
[2022-02-13T11:59:20.437Z]         "isBase64Encoded": false,
[2022-02-13T11:59:20.437Z]         "statusCode": 200,
[2022-02-13T11:59:20.437Z]         "headers": {
[2022-02-13T11:59:20.437Z]             "Content-Type": "application/json"
[2022-02-13T11:59:20.437Z]         },
[2022-02-13T11:59:20.437Z]         "multiValueHeaders": {},
[2022-02-13T11:59:20.437Z]         "body": "[]"
[2022-02-13T11:59:20.438Z]     }
[2022-02-13T11:59:20.438Z] }
[2022-02-13T11:59:20.438Z] "now calling callback"
[2022-02-13T11:59:20.438Z] handler called callback, sending result...
[2022-02-13T11:59:20.438Z] "Router", "request", "success", {
[2022-02-13T11:59:20.438Z]     "httpMethod": "GET",
[2022-02-13T11:59:20.438Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T11:59:20.438Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T11:59:20.438Z] }
[2022-02-13T11:59:20.438Z] "promise done, calling callback"
[2022-02-13T11:59:20.438Z] handler promise resolved, sending result...
[2022-02-13T12:11:32.109Z] Received message: {"type":"execute","eventId":"iIm_G7tDg8f__pF9S7Ov-","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:11:32.110Z] Executing event iIm_G7tDg8f__pF9S7Ov-
[2022-02-13T12:11:32.110Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:11:32.309Z] Invoking handler function: "handler"
[2022-02-13T12:11:32.309Z] "Router", "request", "info", {
[2022-02-13T12:11:32.309Z]     "httpMethod": "POST",
[2022-02-13T12:11:32.309Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:11:32.309Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:11:32.309Z] }
[2022-02-13T12:11:32.309Z] "authenticating..."
[2022-02-13T12:11:32.318Z] "handler is promise, awaiting response"
[2022-02-13T12:11:32.319Z] Waiting for handler to finish...
[2022-02-13T12:11:32.319Z] Received message: {"type":"execute","eventId":"N9dfcyUc_5CuAsWK8Z0ZZ","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"cc-FP8ymwMD21GTkmFIJwoFY75UGbQ\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:11:32.319Z] Executing event N9dfcyUc_5CuAsWK8Z0ZZ
[2022-02-13T12:11:32.319Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:11:32.319Z] Invoking handler function: "handler"
[2022-02-13T12:11:32.320Z] "Router", "request", "info", {
[2022-02-13T12:11:32.320Z]     "httpMethod": "GET",
[2022-02-13T12:11:32.320Z]     "resource": "/books",
[2022-02-13T12:11:32.320Z]     "path": "/books"
[2022-02-13T12:11:32.320Z] }
[2022-02-13T12:11:32.321Z] "authenticating..."
[2022-02-13T12:11:32.321Z] "handler is promise, awaiting response"
[2022-02-13T12:11:32.321Z] Waiting for handler to finish...
[2022-02-13T12:11:32.375Z] "authenticated"
[2022-02-13T12:11:32.375Z] "get books"
[2022-02-13T12:11:32.375Z] "add \"all\" option"
[2022-02-13T12:11:32.375Z] "execute"
[2022-02-13T12:11:32.381Z] "authenticated"
[2022-02-13T12:11:32.383Z] "Router", "request", "success", {
[2022-02-13T12:11:32.383Z]     "httpMethod": "POST",
[2022-02-13T12:11:32.383Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:11:32.383Z]     "path": "/auth/verify-passcode",
[2022-02-13T12:11:32.383Z]     "error": null,
[2022-02-13T12:11:32.383Z]     "result": {
[2022-02-13T12:11:32.383Z]         "isBase64Encoded": false,
[2022-02-13T12:11:32.384Z]         "statusCode": 200,
[2022-02-13T12:11:32.384Z]         "headers": {
[2022-02-13T12:11:32.384Z]             "Content-Type": "application/json"
[2022-02-13T12:11:32.384Z]         },
[2022-02-13T12:11:32.384Z]         "multiValueHeaders": {},
[2022-02-13T12:11:32.384Z]         "body": "\"OK\""
[2022-02-13T12:11:32.384Z]     }
[2022-02-13T12:11:32.385Z] }
[2022-02-13T12:11:32.385Z] "now calling callback"
[2022-02-13T12:11:32.385Z] handler called callback, sending result...
[2022-02-13T12:11:32.385Z] "Router", "request", "success", {
[2022-02-13T12:11:32.386Z]     "httpMethod": "POST",
[2022-02-13T12:11:32.386Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:11:32.386Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:11:32.386Z] }
[2022-02-13T12:11:32.386Z] "promise done, calling callback"
[2022-02-13T12:11:32.386Z] handler promise resolved, sending result...
[2022-02-13T12:11:32.391Z] "done", [
[2022-02-13T12:11:32.392Z]     {
[2022-02-13T12:11:32.392Z]         "title": "Rina findet auch Freunde",
[2022-02-13T12:11:32.392Z]         "description": "lol. nachmacher!",
[2022-02-13T12:11:32.392Z]         "slug": "rina-findet-auch-freunde"
[2022-02-13T12:11:32.393Z]     },
[2022-02-13T12:11:32.393Z]     {
[2022-02-13T12:11:32.393Z]         "title": "Jan findet freunde",
[2022-02-13T12:11:32.393Z]         "description": "Der titel sagt alles...",
[2022-02-13T12:11:32.393Z]         "slug": "jan-findet-freunde"
[2022-02-13T12:11:32.393Z]     }
[2022-02-13T12:11:32.393Z] ]
[2022-02-13T12:11:32.393Z] "Router", "request", "success", {
[2022-02-13T12:11:32.393Z]     "httpMethod": "GET",
[2022-02-13T12:11:32.394Z]     "resource": "/books",
[2022-02-13T12:11:32.394Z]     "path": "/books",
[2022-02-13T12:11:32.394Z]     "error": null,
[2022-02-13T12:11:32.394Z]     "result": {
[2022-02-13T12:11:32.394Z]         "isBase64Encoded": false,
[2022-02-13T12:11:32.394Z]         "statusCode": 200,
[2022-02-13T12:11:32.394Z]         "headers": {
[2022-02-13T12:11:32.394Z]             "Content-Type": "application/json"
[2022-02-13T12:11:32.394Z]         },
[2022-02-13T12:11:32.395Z]         "multiValueHeaders": {},
[2022-02-13T12:11:32.398Z]         "body": "[{\"title\":\"Rina findet auch Freunde\",\"description\":\"lol. nachmacher!\",\"slug\":\"rina-findet-auch-freunde\"},{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\",\"slug\":\"jan-findet-freunde\"}]"
[2022-02-13T12:11:32.398Z]     }
[2022-02-13T12:11:32.399Z] }
[2022-02-13T12:11:32.399Z] "now calling callback"
[2022-02-13T12:11:32.399Z] handler called callback, sending result...
[2022-02-13T12:11:32.399Z] "Router", "request", "success", {
[2022-02-13T12:11:32.399Z]     "httpMethod": "GET",
[2022-02-13T12:11:32.399Z]     "resource": "/books",
[2022-02-13T12:11:32.399Z]     "path": "/books"
[2022-02-13T12:11:32.400Z] }
[2022-02-13T12:11:32.400Z] "promise done, calling callback"
[2022-02-13T12:11:32.400Z] handler promise resolved, sending result...
[2022-02-13T12:11:32.439Z] Received message: {"type":"execute","eventId":"X1Txm8wvjRrCksIT-hyms","payload":{"event":{"isBase64Encoded":false,"path":"/books/jan-findet-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jan-findet-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:11:32.439Z] Executing event X1Txm8wvjRrCksIT-hyms
[2022-02-13T12:11:32.440Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:11:32.530Z] Invoking handler function: "handler"
[2022-02-13T12:11:32.530Z] "Router", "request", "info", {
[2022-02-13T12:11:32.530Z]     "httpMethod": "GET",
[2022-02-13T12:11:32.530Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:11:32.531Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T12:11:32.531Z] }
[2022-02-13T12:11:32.531Z] "authenticating..."
[2022-02-13T12:11:32.537Z] "handler is promise, awaiting response"
[2022-02-13T12:11:32.538Z] Waiting for handler to finish...
[2022-02-13T12:11:32.538Z] Received message: {"type":"execute","eventId":"QTRYkS4Z8d57ugndbDQWE","payload":{"event":{"isBase64Encoded":false,"path":"/books/rina-findet-auch-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"rina-findet-auch-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:11:32.539Z] Executing event QTRYkS4Z8d57ugndbDQWE
[2022-02-13T12:11:32.539Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:11:32.540Z] Invoking handler function: "handler"
[2022-02-13T12:11:32.540Z] "Router", "request", "info", {
[2022-02-13T12:11:32.540Z]     "httpMethod": "GET",
[2022-02-13T12:11:32.540Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:11:32.540Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T12:11:32.540Z] }
[2022-02-13T12:11:32.540Z] "authenticating..."
[2022-02-13T12:11:32.543Z] "handler is promise, awaiting response"
[2022-02-13T12:11:32.543Z] Waiting for handler to finish...
[2022-02-13T12:11:32.573Z] "authenticated"
[2022-02-13T12:11:32.580Z] "authenticated"
[2022-02-13T12:11:32.597Z] "Router", "request", "success", {
[2022-02-13T12:11:32.597Z]     "httpMethod": "GET",
[2022-02-13T12:11:32.597Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:11:32.597Z]     "path": "/books/jan-findet-freunde/stories",
[2022-02-13T12:11:32.597Z]     "error": null,
[2022-02-13T12:11:32.598Z]     "result": {
[2022-02-13T12:11:32.598Z]         "isBase64Encoded": false,
[2022-02-13T12:11:32.598Z]         "statusCode": 200,
[2022-02-13T12:11:32.598Z]         "headers": {
[2022-02-13T12:11:32.598Z]             "Content-Type": "application/json"
[2022-02-13T12:11:32.598Z]         },
[2022-02-13T12:11:32.598Z]         "multiValueHeaders": {},
[2022-02-13T12:11:32.598Z]         "body": "[]"
[2022-02-13T12:11:32.598Z]     }
[2022-02-13T12:11:32.598Z] }
[2022-02-13T12:11:32.598Z] "now calling callback"
[2022-02-13T12:11:32.599Z] handler called callback, sending result...
[2022-02-13T12:11:32.599Z] "Router", "request", "success", {
[2022-02-13T12:11:32.599Z]     "httpMethod": "GET",
[2022-02-13T12:11:32.599Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:11:32.599Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T12:11:32.599Z] }
[2022-02-13T12:11:32.599Z] "promise done, calling callback"
[2022-02-13T12:11:32.599Z] handler promise resolved, sending result...
[2022-02-13T12:11:32.600Z] "Router", "request", "success", {
[2022-02-13T12:11:32.600Z]     "httpMethod": "GET",
[2022-02-13T12:11:32.600Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:11:32.600Z]     "path": "/books/rina-findet-auch-freunde/stories",
[2022-02-13T12:11:32.601Z]     "error": null,
[2022-02-13T12:11:32.601Z]     "result": {
[2022-02-13T12:11:32.601Z]         "isBase64Encoded": false,
[2022-02-13T12:11:32.601Z]         "statusCode": 200,
[2022-02-13T12:11:32.601Z]         "headers": {
[2022-02-13T12:11:32.601Z]             "Content-Type": "application/json"
[2022-02-13T12:11:32.601Z]         },
[2022-02-13T12:11:32.601Z]         "multiValueHeaders": {},
[2022-02-13T12:11:32.601Z]         "body": "[]"
[2022-02-13T12:11:32.601Z]     }
[2022-02-13T12:11:32.601Z] }
[2022-02-13T12:11:32.602Z] "now calling callback"
[2022-02-13T12:11:32.602Z] handler called callback, sending result...
[2022-02-13T12:11:32.602Z] "Router", "request", "success", {
[2022-02-13T12:11:32.602Z]     "httpMethod": "GET",
[2022-02-13T12:11:32.602Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:11:32.602Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T12:11:32.602Z] }
[2022-02-13T12:11:32.603Z] "promise done, calling callback"
[2022-02-13T12:11:32.603Z] handler promise resolved, sending result...
[2022-02-13T12:14:01.960Z] Received message: {"type":"execute","eventId":"-1nWi1F0VuzVKznEjHYDa","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:14:01.960Z] Executing event -1nWi1F0VuzVKznEjHYDa
[2022-02-13T12:14:01.961Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:14:02.136Z] Invoking handler function: "handler"
[2022-02-13T12:14:02.137Z] "Router", "request", "info", {
[2022-02-13T12:14:02.137Z]     "httpMethod": "POST",
[2022-02-13T12:14:02.137Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:14:02.137Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:14:02.137Z] }
[2022-02-13T12:14:02.137Z] "authenticating..."
[2022-02-13T12:14:02.144Z] "handler is promise, awaiting response"
[2022-02-13T12:14:02.145Z] Waiting for handler to finish...
[2022-02-13T12:14:02.145Z] Received message: {"type":"execute","eventId":"_ksiNC-F5be5_quTcp_9s","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"cc-FP8ymwMD21GTkmFIJwoFY75UGbQ\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:14:02.146Z] Executing event _ksiNC-F5be5_quTcp_9s
[2022-02-13T12:14:02.146Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:14:02.146Z] Invoking handler function: "handler"
[2022-02-13T12:14:02.146Z] "Router", "request", "info", {
[2022-02-13T12:14:02.146Z]     "httpMethod": "GET",
[2022-02-13T12:14:02.146Z]     "resource": "/books",
[2022-02-13T12:14:02.146Z]     "path": "/books"
[2022-02-13T12:14:02.147Z] }
[2022-02-13T12:14:02.147Z] "authenticating..."
[2022-02-13T12:14:02.147Z] "handler is promise, awaiting response"
[2022-02-13T12:14:02.147Z] Waiting for handler to finish...
[2022-02-13T12:14:02.178Z] "authenticated"
[2022-02-13T12:14:02.179Z] "Router", "request", "success", {
[2022-02-13T12:14:02.181Z]     "httpMethod": "POST",
[2022-02-13T12:14:02.181Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:14:02.184Z]     "path": "/auth/verify-passcode",
[2022-02-13T12:14:02.184Z]     "error": null,
[2022-02-13T12:14:02.184Z]     "result": {
[2022-02-13T12:14:02.184Z]         "isBase64Encoded": false,
[2022-02-13T12:14:02.184Z]         "statusCode": 200,
[2022-02-13T12:14:02.184Z]         "headers": {
[2022-02-13T12:14:02.184Z]             "Content-Type": "application/json"
[2022-02-13T12:14:02.184Z]         },
[2022-02-13T12:14:02.185Z]         "multiValueHeaders": {},
[2022-02-13T12:14:02.185Z]         "body": "\"OK\""
[2022-02-13T12:14:02.185Z]     }
[2022-02-13T12:14:02.185Z] }
[2022-02-13T12:14:02.185Z] "now calling callback"
[2022-02-13T12:14:02.186Z] handler called callback, sending result...
[2022-02-13T12:14:02.187Z] "Router", "request", "success", {
[2022-02-13T12:14:02.187Z]     "httpMethod": "POST",
[2022-02-13T12:14:02.187Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:14:02.187Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:14:02.188Z] }
[2022-02-13T12:14:02.188Z] "promise done, calling callback"
[2022-02-13T12:14:02.188Z] handler promise resolved, sending result...
[2022-02-13T12:14:02.188Z] "authenticated"
[2022-02-13T12:14:02.188Z] "get books"
[2022-02-13T12:14:02.189Z] "add \"all\" option"
[2022-02-13T12:14:02.189Z] "execute"
[2022-02-13T12:14:02.204Z] "done", [
[2022-02-13T12:14:02.204Z]     {
[2022-02-13T12:14:02.204Z]         "title": "Rina findet auch Freunde",
[2022-02-13T12:14:02.204Z]         "description": "lol. nachmacher!",
[2022-02-13T12:14:02.204Z]         "slug": "rina-findet-auch-freunde"
[2022-02-13T12:14:02.204Z]     },
[2022-02-13T12:14:02.204Z]     {
[2022-02-13T12:14:02.204Z]         "title": "Jan findet freunde",
[2022-02-13T12:14:02.205Z]         "description": "Der titel sagt alles...",
[2022-02-13T12:14:02.205Z]         "slug": "jan-findet-freunde"
[2022-02-13T12:14:02.205Z]     }
[2022-02-13T12:14:02.205Z] ]
[2022-02-13T12:14:02.205Z] "Router", "request", "success", {
[2022-02-13T12:14:02.205Z]     "httpMethod": "GET",
[2022-02-13T12:14:02.205Z]     "resource": "/books",
[2022-02-13T12:14:02.206Z]     "path": "/books",
[2022-02-13T12:14:02.206Z]     "error": null,
[2022-02-13T12:14:02.206Z]     "result": {
[2022-02-13T12:14:02.206Z]         "isBase64Encoded": false,
[2022-02-13T12:14:02.206Z]         "statusCode": 200,
[2022-02-13T12:14:02.206Z]         "headers": {
[2022-02-13T12:14:02.206Z]             "Content-Type": "application/json"
[2022-02-13T12:14:02.206Z]         },
[2022-02-13T12:14:02.206Z]         "multiValueHeaders": {},
[2022-02-13T12:14:02.206Z]         "body": "[{\"title\":\"Rina findet auch Freunde\",\"description\":\"lol. nachmacher!\",\"slug\":\"rina-findet-auch-freunde\"},{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\",\"slug\":\"jan-findet-freunde\"}]"
[2022-02-13T12:14:02.206Z]     }
[2022-02-13T12:14:02.206Z] }
[2022-02-13T12:14:02.207Z] "now calling callback"
[2022-02-13T12:14:02.207Z] handler called callback, sending result...
[2022-02-13T12:14:02.207Z] "Router", "request", "success", {
[2022-02-13T12:14:02.207Z]     "httpMethod": "GET",
[2022-02-13T12:14:02.208Z]     "resource": "/books",
[2022-02-13T12:14:02.208Z]     "path": "/books"
[2022-02-13T12:14:02.208Z] }
[2022-02-13T12:14:02.208Z] "promise done, calling callback"
[2022-02-13T12:14:02.208Z] handler promise resolved, sending result...
[2022-02-13T12:14:02.243Z] Received message: {"type":"execute","eventId":"51SVzcFqr5OMO_Kx9EqjN","payload":{"event":{"isBase64Encoded":false,"path":"/books/rina-findet-auch-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"rina-findet-auch-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:14:02.244Z] Executing event 51SVzcFqr5OMO_Kx9EqjN
[2022-02-13T12:14:02.244Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:14:02.342Z] Invoking handler function: "handler"
[2022-02-13T12:14:02.342Z] "Router", "request", "info", {
[2022-02-13T12:14:02.342Z]     "httpMethod": "GET",
[2022-02-13T12:14:02.342Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:14:02.342Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T12:14:02.342Z] }
[2022-02-13T12:14:02.342Z] "authenticating..."
[2022-02-13T12:14:02.350Z] "handler is promise, awaiting response"
[2022-02-13T12:14:02.350Z] Waiting for handler to finish...
[2022-02-13T12:14:02.350Z] Received message: {"type":"execute","eventId":"wHgrQ06L1cSLngq5yV2eA","payload":{"event":{"isBase64Encoded":false,"path":"/books/jan-findet-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jan-findet-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:14:02.350Z] Executing event wHgrQ06L1cSLngq5yV2eA
[2022-02-13T12:14:02.351Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:14:02.351Z] Invoking handler function: "handler"
[2022-02-13T12:14:02.351Z] "Router", "request", "info", {
[2022-02-13T12:14:02.351Z]     "httpMethod": "GET",
[2022-02-13T12:14:02.351Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:14:02.351Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T12:14:02.351Z] }
[2022-02-13T12:14:02.351Z] "authenticating..."
[2022-02-13T12:14:02.351Z] "handler is promise, awaiting response"
[2022-02-13T12:14:02.351Z] Waiting for handler to finish...
[2022-02-13T12:14:02.387Z] "authenticated"
[2022-02-13T12:14:02.392Z] "authenticated"
[2022-02-13T12:14:02.425Z] "Router", "request", "success", {
[2022-02-13T12:14:02.426Z]     "httpMethod": "GET",
[2022-02-13T12:14:02.426Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:14:02.426Z]     "path": "/books/rina-findet-auch-freunde/stories",
[2022-02-13T12:14:02.426Z]     "error": null,
[2022-02-13T12:14:02.426Z]     "result": {
[2022-02-13T12:14:02.426Z]         "isBase64Encoded": false,
[2022-02-13T12:14:02.426Z]         "statusCode": 200,
[2022-02-13T12:14:02.426Z]         "headers": {
[2022-02-13T12:14:02.426Z]             "Content-Type": "application/json"
[2022-02-13T12:14:02.433Z]         },
[2022-02-13T12:14:02.434Z]         "multiValueHeaders": {},
[2022-02-13T12:14:02.434Z]         "body": "[]"
[2022-02-13T12:14:02.434Z]     }
[2022-02-13T12:14:02.434Z] }
[2022-02-13T12:14:02.434Z] "now calling callback"
[2022-02-13T12:14:02.435Z] handler called callback, sending result...
[2022-02-13T12:14:02.435Z] "Router", "request", "success", {
[2022-02-13T12:14:02.435Z]     "httpMethod": "GET",
[2022-02-13T12:14:02.435Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:14:02.435Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T12:14:02.435Z] }
[2022-02-13T12:14:02.435Z] "promise done, calling callback"
[2022-02-13T12:14:02.435Z] handler promise resolved, sending result...
[2022-02-13T12:14:02.436Z] "Router", "request", "success", {
[2022-02-13T12:14:02.437Z]     "httpMethod": "GET",
[2022-02-13T12:14:02.437Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:14:02.437Z]     "path": "/books/jan-findet-freunde/stories",
[2022-02-13T12:14:02.437Z]     "error": null,
[2022-02-13T12:14:02.437Z]     "result": {
[2022-02-13T12:14:02.437Z]         "isBase64Encoded": false,
[2022-02-13T12:14:02.437Z]         "statusCode": 200,
[2022-02-13T12:14:02.437Z]         "headers": {
[2022-02-13T12:14:02.437Z]             "Content-Type": "application/json"
[2022-02-13T12:14:02.437Z]         },
[2022-02-13T12:14:02.437Z]         "multiValueHeaders": {},
[2022-02-13T12:14:02.437Z]         "body": "[]"
[2022-02-13T12:14:02.438Z]     }
[2022-02-13T12:14:02.438Z] }
[2022-02-13T12:14:02.438Z] "now calling callback"
[2022-02-13T12:14:02.438Z] handler called callback, sending result...
[2022-02-13T12:14:02.439Z] "Router", "request", "success", {
[2022-02-13T12:14:02.439Z]     "httpMethod": "GET",
[2022-02-13T12:14:02.439Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:14:02.439Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T12:14:02.439Z] }
[2022-02-13T12:14:02.439Z] "promise done, calling callback"
[2022-02-13T12:14:02.439Z] handler promise resolved, sending result...
[2022-02-13T12:16:36.577Z] Received message: {"type":"execute","eventId":"9JKD_ZrvBxRhUQq4hmgxL","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:16:36.577Z] Executing event 9JKD_ZrvBxRhUQq4hmgxL
[2022-02-13T12:16:36.577Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:16:36.730Z] Invoking handler function: "handler"
[2022-02-13T12:16:36.731Z] "Router", "request", "info", {
[2022-02-13T12:16:36.731Z]     "httpMethod": "POST",
[2022-02-13T12:16:36.731Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:16:36.731Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:16:36.731Z] }
[2022-02-13T12:16:36.731Z] "authenticating..."
[2022-02-13T12:16:36.738Z] "handler is promise, awaiting response"
[2022-02-13T12:16:36.738Z] Waiting for handler to finish...
[2022-02-13T12:16:36.771Z] "authenticated"
[2022-02-13T12:16:36.771Z] "Router", "request", "success", {
[2022-02-13T12:16:36.771Z]     "httpMethod": "POST",
[2022-02-13T12:16:36.771Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:16:36.772Z]     "path": "/auth/verify-passcode",
[2022-02-13T12:16:36.772Z]     "error": null,
[2022-02-13T12:16:36.772Z]     "result": {
[2022-02-13T12:16:36.772Z]         "isBase64Encoded": false,
[2022-02-13T12:16:36.772Z]         "statusCode": 200,
[2022-02-13T12:16:36.772Z]         "headers": {
[2022-02-13T12:16:36.772Z]             "Content-Type": "application/json"
[2022-02-13T12:16:36.772Z]         },
[2022-02-13T12:16:36.772Z]         "multiValueHeaders": {},
[2022-02-13T12:16:36.774Z]         "body": "\"OK\""
[2022-02-13T12:16:36.774Z]     }
[2022-02-13T12:16:36.774Z] }
[2022-02-13T12:16:36.774Z] "now calling callback"
[2022-02-13T12:16:36.774Z] handler called callback, sending result...
[2022-02-13T12:16:36.775Z] "Router", "request", "success", {
[2022-02-13T12:16:36.775Z]     "httpMethod": "POST",
[2022-02-13T12:16:36.775Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:16:36.775Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:16:36.775Z] }
[2022-02-13T12:16:36.775Z] "promise done, calling callback"
[2022-02-13T12:16:36.775Z] handler promise resolved, sending result...
[2022-02-13T12:16:36.831Z] Received message: {"type":"execute","eventId":"YOGhRu0ld0m4XhcPJwH8w","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"cc-FP8ymwMD21GTkmFIJwoFY75UGbQ\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:16:36.832Z] Executing event YOGhRu0ld0m4XhcPJwH8w
[2022-02-13T12:16:36.832Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:16:36.918Z] Invoking handler function: "handler"
[2022-02-13T12:16:36.918Z] "Router", "request", "info", {
[2022-02-13T12:16:36.918Z]     "httpMethod": "GET",
[2022-02-13T12:16:36.918Z]     "resource": "/books",
[2022-02-13T12:16:36.919Z]     "path": "/books"
[2022-02-13T12:16:36.919Z] }
[2022-02-13T12:16:36.919Z] "authenticating..."
[2022-02-13T12:16:36.925Z] "handler is promise, awaiting response"
[2022-02-13T12:16:36.926Z] Waiting for handler to finish...
[2022-02-13T12:16:36.945Z] "authenticated"
[2022-02-13T12:16:36.945Z] "get books"
[2022-02-13T12:16:36.945Z] "add \"all\" option"
[2022-02-13T12:16:36.945Z] "execute"
[2022-02-13T12:16:36.960Z] "done", [
[2022-02-13T12:16:36.960Z]     {
[2022-02-13T12:16:36.960Z]         "title": "Rina findet auch Freunde",
[2022-02-13T12:16:36.960Z]         "description": "lol. nachmacher!",
[2022-02-13T12:16:36.960Z]         "slug": "rina-findet-auch-freunde"
[2022-02-13T12:16:36.960Z]     },
[2022-02-13T12:16:36.960Z]     {
[2022-02-13T12:16:36.961Z]         "title": "Jan findet freunde",
[2022-02-13T12:16:36.961Z]         "description": "Der titel sagt alles...",
[2022-02-13T12:16:36.961Z]         "slug": "jan-findet-freunde"
[2022-02-13T12:16:36.961Z]     }
[2022-02-13T12:16:36.961Z] ]
[2022-02-13T12:16:36.961Z] "Router", "request", "success", {
[2022-02-13T12:16:36.961Z]     "httpMethod": "GET",
[2022-02-13T12:16:36.962Z]     "resource": "/books",
[2022-02-13T12:16:36.962Z]     "path": "/books",
[2022-02-13T12:16:36.962Z]     "error": null,
[2022-02-13T12:16:36.962Z]     "result": {
[2022-02-13T12:16:36.962Z]         "isBase64Encoded": false,
[2022-02-13T12:16:36.962Z]         "statusCode": 200,
[2022-02-13T12:16:36.962Z]         "headers": {
[2022-02-13T12:16:36.962Z]             "Content-Type": "application/json"
[2022-02-13T12:16:36.962Z]         },
[2022-02-13T12:16:36.963Z]         "multiValueHeaders": {},
[2022-02-13T12:16:36.963Z]         "body": "[{\"title\":\"Rina findet auch Freunde\",\"description\":\"lol. nachmacher!\",\"slug\":\"rina-findet-auch-freunde\"},{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\",\"slug\":\"jan-findet-freunde\"}]"
[2022-02-13T12:16:36.963Z]     }
[2022-02-13T12:16:36.963Z] }
[2022-02-13T12:16:36.963Z] "now calling callback"
[2022-02-13T12:16:36.963Z] handler called callback, sending result...
[2022-02-13T12:16:36.963Z] "Router", "request", "success", {
[2022-02-13T12:16:36.963Z]     "httpMethod": "GET",
[2022-02-13T12:16:36.963Z]     "resource": "/books",
[2022-02-13T12:16:36.963Z]     "path": "/books"
[2022-02-13T12:16:36.963Z] }
[2022-02-13T12:16:36.964Z] "promise done, calling callback"
[2022-02-13T12:16:36.964Z] handler promise resolved, sending result...
[2022-02-13T12:16:36.997Z] Received message: {"type":"execute","eventId":"jWDTJdGMRVaE6pJF4tkhg","payload":{"event":{"isBase64Encoded":false,"path":"/books/rina-findet-auch-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"rina-findet-auch-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:16:36.997Z] Executing event jWDTJdGMRVaE6pJF4tkhg
[2022-02-13T12:16:36.997Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:16:37.080Z] Invoking handler function: "handler"
[2022-02-13T12:16:37.081Z] "Router", "request", "info", {
[2022-02-13T12:16:37.081Z]     "httpMethod": "GET",
[2022-02-13T12:16:37.081Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:16:37.081Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T12:16:37.082Z] }
[2022-02-13T12:16:37.082Z] "authenticating..."
[2022-02-13T12:16:37.088Z] "handler is promise, awaiting response"
[2022-02-13T12:16:37.088Z] Waiting for handler to finish...
[2022-02-13T12:16:37.089Z] Received message: {"type":"execute","eventId":"x3hsmbzaLtJBHtuKaPYTt","payload":{"event":{"isBase64Encoded":false,"path":"/books/jan-findet-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jan-findet-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:16:37.089Z] Executing event x3hsmbzaLtJBHtuKaPYTt
[2022-02-13T12:16:37.089Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:16:37.089Z] Invoking handler function: "handler"
[2022-02-13T12:16:37.089Z] "Router", "request", "info", {
[2022-02-13T12:16:37.089Z]     "httpMethod": "GET",
[2022-02-13T12:16:37.089Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:16:37.089Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T12:16:37.090Z] }
[2022-02-13T12:16:37.090Z] "authenticating..."
[2022-02-13T12:16:37.090Z] "handler is promise, awaiting response"
[2022-02-13T12:16:37.090Z] Waiting for handler to finish...
[2022-02-13T12:16:37.119Z] "authenticated"
[2022-02-13T12:16:37.124Z] "authenticated"
[2022-02-13T12:16:37.137Z] "Router", "request", "success", {
[2022-02-13T12:16:37.138Z]     "httpMethod": "GET",
[2022-02-13T12:16:37.138Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:16:37.138Z]     "path": "/books/rina-findet-auch-freunde/stories",
[2022-02-13T12:16:37.138Z]     "error": null,
[2022-02-13T12:16:37.138Z]     "result": {
[2022-02-13T12:16:37.138Z]         "isBase64Encoded": false,
[2022-02-13T12:16:37.138Z]         "statusCode": 200,
[2022-02-13T12:16:37.138Z]         "headers": {
[2022-02-13T12:16:37.139Z]             "Content-Type": "application/json"
[2022-02-13T12:16:37.139Z]         },
[2022-02-13T12:16:37.139Z]         "multiValueHeaders": {},
[2022-02-13T12:16:37.139Z]         "body": "[]"
[2022-02-13T12:16:37.139Z]     }
[2022-02-13T12:16:37.139Z] }
[2022-02-13T12:16:37.139Z] "now calling callback"
[2022-02-13T12:16:37.139Z] handler called callback, sending result...
[2022-02-13T12:16:37.140Z] "Router", "request", "success", {
[2022-02-13T12:16:37.140Z]     "httpMethod": "GET",
[2022-02-13T12:16:37.140Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:16:37.140Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T12:16:37.140Z] }
[2022-02-13T12:16:37.140Z] "promise done, calling callback"
[2022-02-13T12:16:37.141Z] handler promise resolved, sending result...
[2022-02-13T12:16:37.141Z] "Router", "request", "success", {
[2022-02-13T12:16:37.141Z]     "httpMethod": "GET",
[2022-02-13T12:16:37.141Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:16:37.141Z]     "path": "/books/jan-findet-freunde/stories",
[2022-02-13T12:16:37.141Z]     "error": null,
[2022-02-13T12:16:37.141Z]     "result": {
[2022-02-13T12:16:37.141Z]         "isBase64Encoded": false,
[2022-02-13T12:16:37.141Z]         "statusCode": 200,
[2022-02-13T12:16:37.141Z]         "headers": {
[2022-02-13T12:16:37.142Z]             "Content-Type": "application/json"
[2022-02-13T12:16:37.142Z]         },
[2022-02-13T12:16:37.142Z]         "multiValueHeaders": {},
[2022-02-13T12:16:37.142Z]         "body": "[]"
[2022-02-13T12:16:37.142Z]     }
[2022-02-13T12:16:37.142Z] }
[2022-02-13T12:16:37.142Z] "now calling callback"
[2022-02-13T12:16:37.142Z] handler called callback, sending result...
[2022-02-13T12:16:37.143Z] "Router", "request", "success", {
[2022-02-13T12:16:37.143Z]     "httpMethod": "GET",
[2022-02-13T12:16:37.143Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:16:37.143Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T12:16:37.143Z] }
[2022-02-13T12:16:37.143Z] "promise done, calling callback"
[2022-02-13T12:16:37.143Z] handler promise resolved, sending result...
[2022-02-13T12:18:00.252Z] Received message: {"type":"execute","eventId":"Atv0aVwH1D-OwxHXPKYn7","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:18:00.253Z] Executing event Atv0aVwH1D-OwxHXPKYn7
[2022-02-13T12:18:00.253Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:18:00.395Z] Invoking handler function: "handler"
[2022-02-13T12:18:00.395Z] "Router", "request", "info", {
[2022-02-13T12:18:00.395Z]     "httpMethod": "POST",
[2022-02-13T12:18:00.395Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:18:00.395Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:18:00.396Z] }
[2022-02-13T12:18:00.396Z] "authenticating..."
[2022-02-13T12:18:00.403Z] "handler is promise, awaiting response"
[2022-02-13T12:18:00.404Z] Waiting for handler to finish...
[2022-02-13T12:18:00.423Z] "authenticated"
[2022-02-13T12:18:00.423Z] "Router", "request", "success", {
[2022-02-13T12:18:00.423Z]     "httpMethod": "POST",
[2022-02-13T12:18:00.423Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:18:00.423Z]     "path": "/auth/verify-passcode",
[2022-02-13T12:18:00.424Z]     "error": null,
[2022-02-13T12:18:00.424Z]     "result": {
[2022-02-13T12:18:00.424Z]         "isBase64Encoded": false,
[2022-02-13T12:18:00.424Z]         "statusCode": 200,
[2022-02-13T12:18:00.424Z]         "headers": {
[2022-02-13T12:18:00.425Z]             "Content-Type": "application/json"
[2022-02-13T12:18:00.425Z]         },
[2022-02-13T12:18:00.425Z]         "multiValueHeaders": {},
[2022-02-13T12:18:00.425Z]         "body": "\"OK\""
[2022-02-13T12:18:00.425Z]     }
[2022-02-13T12:18:00.425Z] }
[2022-02-13T12:18:00.425Z] "now calling callback"
[2022-02-13T12:18:00.425Z] handler called callback, sending result...
[2022-02-13T12:18:00.426Z] "Router", "request", "success", {
[2022-02-13T12:18:00.426Z]     "httpMethod": "POST",
[2022-02-13T12:18:00.426Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:18:00.427Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:18:00.427Z] }
[2022-02-13T12:18:00.427Z] "promise done, calling callback"
[2022-02-13T12:18:00.427Z] handler promise resolved, sending result...
[2022-02-13T12:18:00.479Z] Received message: {"type":"execute","eventId":"cEVXDEULM1ykUn_6tT3mG","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"cc-FP8ymwMD21GTkmFIJwoFY75UGbQ\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:18:00.480Z] Executing event cEVXDEULM1ykUn_6tT3mG
[2022-02-13T12:18:00.480Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:18:00.564Z] Invoking handler function: "handler"
[2022-02-13T12:18:00.565Z] "Router", "request", "info", {
[2022-02-13T12:18:00.565Z]     "httpMethod": "GET",
[2022-02-13T12:18:00.565Z]     "resource": "/books",
[2022-02-13T12:18:00.565Z]     "path": "/books"
[2022-02-13T12:18:00.565Z] }
[2022-02-13T12:18:00.565Z] "authenticating..."
[2022-02-13T12:18:00.572Z] "handler is promise, awaiting response"
[2022-02-13T12:18:00.572Z] Waiting for handler to finish...
[2022-02-13T12:18:00.610Z] "authenticated"
[2022-02-13T12:18:00.611Z] "get books"
[2022-02-13T12:18:00.611Z] "add \"all\" option"
[2022-02-13T12:18:00.611Z] "execute"
[2022-02-13T12:18:00.620Z] "done", [
[2022-02-13T12:18:00.620Z]     {
[2022-02-13T12:18:00.620Z]         "title": "Rina findet auch Freunde",
[2022-02-13T12:18:00.620Z]         "description": "lol. nachmacher!",
[2022-02-13T12:18:00.621Z]         "slug": "rina-findet-auch-freunde"
[2022-02-13T12:18:00.621Z]     },
[2022-02-13T12:18:00.621Z]     {
[2022-02-13T12:18:00.621Z]         "title": "Jan findet freunde",
[2022-02-13T12:18:00.621Z]         "description": "Der titel sagt alles...",
[2022-02-13T12:18:00.621Z]         "slug": "jan-findet-freunde"
[2022-02-13T12:18:00.621Z]     }
[2022-02-13T12:18:00.622Z] ]
[2022-02-13T12:18:00.622Z] "Router", "request", "success", {
[2022-02-13T12:18:00.622Z]     "httpMethod": "GET",
[2022-02-13T12:18:00.622Z]     "resource": "/books",
[2022-02-13T12:18:00.622Z]     "path": "/books",
[2022-02-13T12:18:00.622Z]     "error": null,
[2022-02-13T12:18:00.622Z]     "result": {
[2022-02-13T12:18:00.623Z]         "isBase64Encoded": false,
[2022-02-13T12:18:00.623Z]         "statusCode": 200,
[2022-02-13T12:18:00.623Z]         "headers": {
[2022-02-13T12:18:00.623Z]             "Content-Type": "application/json"
[2022-02-13T12:18:00.623Z]         },
[2022-02-13T12:18:00.623Z]         "multiValueHeaders": {},
[2022-02-13T12:18:00.623Z]         "body": "[{\"title\":\"Rina findet auch Freunde\",\"description\":\"lol. nachmacher!\",\"slug\":\"rina-findet-auch-freunde\"},{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\",\"slug\":\"jan-findet-freunde\"}]"
[2022-02-13T12:18:00.623Z]     }
[2022-02-13T12:18:00.623Z] }
[2022-02-13T12:18:00.623Z] "now calling callback"
[2022-02-13T12:18:00.623Z] handler called callback, sending result...
[2022-02-13T12:18:00.624Z] "Router", "request", "success", {
[2022-02-13T12:18:00.624Z]     "httpMethod": "GET",
[2022-02-13T12:18:00.624Z]     "resource": "/books",
[2022-02-13T12:18:00.624Z]     "path": "/books"
[2022-02-13T12:18:00.624Z] }
[2022-02-13T12:18:00.624Z] "promise done, calling callback"
[2022-02-13T12:18:00.624Z] handler promise resolved, sending result...
[2022-02-13T12:18:00.658Z] Received message: {"type":"execute","eventId":"B4EVHJT-f13CqNUM1f8xz","payload":{"event":{"isBase64Encoded":false,"path":"/books/rina-findet-auch-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"rina-findet-auch-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:18:00.658Z] Executing event B4EVHJT-f13CqNUM1f8xz
[2022-02-13T12:18:00.659Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:18:00.740Z] Invoking handler function: "handler"
[2022-02-13T12:18:00.740Z] "Router", "request", "info", {
[2022-02-13T12:18:00.740Z]     "httpMethod": "GET",
[2022-02-13T12:18:00.741Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:18:00.741Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T12:18:00.741Z] }
[2022-02-13T12:18:00.741Z] "authenticating..."
[2022-02-13T12:18:00.747Z] "handler is promise, awaiting response"
[2022-02-13T12:18:00.747Z] Waiting for handler to finish...
[2022-02-13T12:18:00.747Z] Received message: {"type":"execute","eventId":"xdmlCo7AIM6IwhgtgqZfe","payload":{"event":{"isBase64Encoded":false,"path":"/books/jan-findet-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jan-findet-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:18:00.747Z] Executing event xdmlCo7AIM6IwhgtgqZfe
[2022-02-13T12:18:00.747Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:18:00.747Z] Invoking handler function: "handler"
[2022-02-13T12:18:00.747Z] "Router", "request", "info", {
[2022-02-13T12:18:00.748Z]     "httpMethod": "GET",
[2022-02-13T12:18:00.748Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:18:00.748Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T12:18:00.748Z] }
[2022-02-13T12:18:00.748Z] "authenticating..."
[2022-02-13T12:18:00.748Z] "handler is promise, awaiting response"
[2022-02-13T12:18:00.748Z] Waiting for handler to finish...
[2022-02-13T12:18:00.785Z] "authenticated"
[2022-02-13T12:18:00.792Z] "authenticated"
[2022-02-13T12:18:00.800Z] "Router", "request", "success", {
[2022-02-13T12:18:00.800Z]     "httpMethod": "GET",
[2022-02-13T12:18:00.800Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:18:00.800Z]     "path": "/books/jan-findet-freunde/stories",
[2022-02-13T12:18:00.800Z]     "error": null,
[2022-02-13T12:18:00.801Z]     "result": {
[2022-02-13T12:18:00.801Z]         "isBase64Encoded": false,
[2022-02-13T12:18:00.801Z]         "statusCode": 200,
[2022-02-13T12:18:00.801Z]         "headers": {
[2022-02-13T12:18:00.801Z]             "Content-Type": "application/json"
[2022-02-13T12:18:00.801Z]         },
[2022-02-13T12:18:00.801Z]         "multiValueHeaders": {},
[2022-02-13T12:18:00.801Z]         "body": "[]"
[2022-02-13T12:18:00.801Z]     }
[2022-02-13T12:18:00.802Z] }
[2022-02-13T12:18:00.802Z] "now calling callback"
[2022-02-13T12:18:00.802Z] handler called callback, sending result...
[2022-02-13T12:18:00.802Z] "Router", "request", "success", {
[2022-02-13T12:18:00.802Z]     "httpMethod": "GET",
[2022-02-13T12:18:00.802Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:18:00.802Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T12:18:00.802Z] }
[2022-02-13T12:18:00.802Z] "promise done, calling callback"
[2022-02-13T12:18:00.803Z] handler promise resolved, sending result...
[2022-02-13T12:18:00.803Z] "Router", "request", "success", {
[2022-02-13T12:18:00.803Z]     "httpMethod": "GET",
[2022-02-13T12:18:00.803Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:18:00.803Z]     "path": "/books/rina-findet-auch-freunde/stories",
[2022-02-13T12:18:00.803Z]     "error": null,
[2022-02-13T12:18:00.803Z]     "result": {
[2022-02-13T12:18:00.803Z]         "isBase64Encoded": false,
[2022-02-13T12:18:00.804Z]         "statusCode": 200,
[2022-02-13T12:18:00.804Z]         "headers": {
[2022-02-13T12:18:00.804Z]             "Content-Type": "application/json"
[2022-02-13T12:18:00.804Z]         },
[2022-02-13T12:18:00.804Z]         "multiValueHeaders": {},
[2022-02-13T12:18:00.804Z]         "body": "[]"
[2022-02-13T12:18:00.804Z]     }
[2022-02-13T12:18:00.804Z] }
[2022-02-13T12:18:00.804Z] "now calling callback"
[2022-02-13T12:18:00.804Z] handler called callback, sending result...
[2022-02-13T12:18:00.804Z] "Router", "request", "success", {
[2022-02-13T12:18:00.804Z]     "httpMethod": "GET",
[2022-02-13T12:18:00.805Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:18:00.805Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T12:18:00.805Z] }
[2022-02-13T12:18:00.805Z] "promise done, calling callback"
[2022-02-13T12:18:00.805Z] handler promise resolved, sending result...
[2022-02-13T12:18:33.004Z] Received message: {"type":"execute","eventId":"yPEzI6I6ydI5U2ZM1QSmX","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:18:33.005Z] Executing event yPEzI6I6ydI5U2ZM1QSmX
[2022-02-13T12:18:33.005Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:18:33.147Z] Invoking handler function: "handler"
[2022-02-13T12:18:33.147Z] "Router", "request", "info", {
[2022-02-13T12:18:33.148Z]     "httpMethod": "POST",
[2022-02-13T12:18:33.148Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:18:33.148Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:18:33.148Z] }
[2022-02-13T12:18:33.148Z] "authenticating..."
[2022-02-13T12:18:33.156Z] "handler is promise, awaiting response"
[2022-02-13T12:18:33.156Z] Waiting for handler to finish...
[2022-02-13T12:18:33.185Z] "authenticated"
[2022-02-13T12:18:33.185Z] "Router", "request", "success", {
[2022-02-13T12:18:33.185Z]     "httpMethod": "POST",
[2022-02-13T12:18:33.185Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:18:33.185Z]     "path": "/auth/verify-passcode",
[2022-02-13T12:18:33.185Z]     "error": null,
[2022-02-13T12:18:33.186Z]     "result": {
[2022-02-13T12:18:33.186Z]         "isBase64Encoded": false,
[2022-02-13T12:18:33.186Z]         "statusCode": 200,
[2022-02-13T12:18:33.186Z]         "headers": {
[2022-02-13T12:18:33.186Z]             "Content-Type": "application/json"
[2022-02-13T12:18:33.186Z]         },
[2022-02-13T12:18:33.187Z]         "multiValueHeaders": {},
[2022-02-13T12:18:33.187Z]         "body": "\"OK\""
[2022-02-13T12:18:33.187Z]     }
[2022-02-13T12:18:33.187Z] }
[2022-02-13T12:18:33.187Z] "now calling callback"
[2022-02-13T12:18:33.187Z] handler called callback, sending result...
[2022-02-13T12:18:33.188Z] "Router", "request", "success", {
[2022-02-13T12:18:33.188Z]     "httpMethod": "POST",
[2022-02-13T12:18:33.188Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:18:33.188Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:18:33.188Z] }
[2022-02-13T12:18:33.188Z] "promise done, calling callback"
[2022-02-13T12:18:33.188Z] handler promise resolved, sending result...
[2022-02-13T12:18:33.242Z] Received message: {"type":"execute","eventId":"yqyFNRPjd7uFzK649gJkW","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"cc-FP8ymwMD21GTkmFIJwoFY75UGbQ\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:18:33.242Z] Executing event yqyFNRPjd7uFzK649gJkW
[2022-02-13T12:18:33.242Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:18:33.323Z] Invoking handler function: "handler"
[2022-02-13T12:18:33.324Z] "Router", "request", "info", {
[2022-02-13T12:18:33.324Z]     "httpMethod": "GET",
[2022-02-13T12:18:33.324Z]     "resource": "/books",
[2022-02-13T12:18:33.324Z]     "path": "/books"
[2022-02-13T12:18:33.324Z] }
[2022-02-13T12:18:33.324Z] "authenticating..."
[2022-02-13T12:18:33.331Z] "handler is promise, awaiting response"
[2022-02-13T12:18:33.331Z] Waiting for handler to finish...
[2022-02-13T12:18:33.368Z] "authenticated"
[2022-02-13T12:18:33.368Z] "get books"
[2022-02-13T12:18:33.368Z] "add \"all\" option"
[2022-02-13T12:18:33.369Z] "execute"
[2022-02-13T12:18:33.383Z] "done", [
[2022-02-13T12:18:33.384Z]     {
[2022-02-13T12:18:33.384Z]         "title": "Rina findet auch Freunde",
[2022-02-13T12:18:33.384Z]         "description": "lol. nachmacher!",
[2022-02-13T12:18:33.384Z]         "slug": "rina-findet-auch-freunde"
[2022-02-13T12:18:33.384Z]     },
[2022-02-13T12:18:33.384Z]     {
[2022-02-13T12:18:33.384Z]         "title": "Jan findet freunde",
[2022-02-13T12:18:33.384Z]         "description": "Der titel sagt alles...",
[2022-02-13T12:18:33.384Z]         "slug": "jan-findet-freunde"
[2022-02-13T12:18:33.385Z]     }
[2022-02-13T12:18:33.385Z] ]
[2022-02-13T12:18:33.385Z] "Router", "request", "success", {
[2022-02-13T12:18:33.385Z]     "httpMethod": "GET",
[2022-02-13T12:18:33.385Z]     "resource": "/books",
[2022-02-13T12:18:33.385Z]     "path": "/books",
[2022-02-13T12:18:33.385Z]     "error": null,
[2022-02-13T12:18:33.385Z]     "result": {
[2022-02-13T12:18:33.385Z]         "isBase64Encoded": false,
[2022-02-13T12:18:33.385Z]         "statusCode": 200,
[2022-02-13T12:18:33.385Z]         "headers": {
[2022-02-13T12:18:33.385Z]             "Content-Type": "application/json"
[2022-02-13T12:18:33.385Z]         },
[2022-02-13T12:18:33.386Z]         "multiValueHeaders": {},
[2022-02-13T12:18:33.386Z]         "body": "[{\"title\":\"Rina findet auch Freunde\",\"description\":\"lol. nachmacher!\",\"slug\":\"rina-findet-auch-freunde\"},{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\",\"slug\":\"jan-findet-freunde\"}]"
[2022-02-13T12:18:33.386Z]     }
[2022-02-13T12:18:33.386Z] }
[2022-02-13T12:18:33.386Z] "now calling callback"
[2022-02-13T12:18:33.386Z] handler called callback, sending result...
[2022-02-13T12:18:33.386Z] "Router", "request", "success", {
[2022-02-13T12:18:33.386Z]     "httpMethod": "GET",
[2022-02-13T12:18:33.386Z]     "resource": "/books",
[2022-02-13T12:18:33.386Z]     "path": "/books"
[2022-02-13T12:18:33.387Z] }
[2022-02-13T12:18:33.387Z] "promise done, calling callback"
[2022-02-13T12:18:33.387Z] handler promise resolved, sending result...
[2022-02-13T12:18:33.419Z] Received message: {"type":"execute","eventId":"tLLqnyBoVwcSgmy3l5DXq","payload":{"event":{"isBase64Encoded":false,"path":"/books/rina-findet-auch-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"rina-findet-auch-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:18:33.419Z] Executing event tLLqnyBoVwcSgmy3l5DXq
[2022-02-13T12:18:33.419Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:18:33.498Z] Invoking handler function: "handler"
[2022-02-13T12:18:33.498Z] "Router", "request", "info", {
[2022-02-13T12:18:33.499Z]     "httpMethod": "GET",
[2022-02-13T12:18:33.499Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:18:33.499Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T12:18:33.499Z] }
[2022-02-13T12:18:33.499Z] "authenticating..."
[2022-02-13T12:18:33.506Z] "handler is promise, awaiting response"
[2022-02-13T12:18:33.506Z] Waiting for handler to finish...
[2022-02-13T12:18:33.506Z] Received message: {"type":"execute","eventId":"lQke6xCbPNhR54by4zOeC","payload":{"event":{"isBase64Encoded":false,"path":"/books/jan-findet-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jan-findet-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:18:33.506Z] Executing event lQke6xCbPNhR54by4zOeC
[2022-02-13T12:18:33.506Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:18:33.506Z] Invoking handler function: "handler"
[2022-02-13T12:18:33.507Z] "Router", "request", "info", {
[2022-02-13T12:18:33.507Z]     "httpMethod": "GET",
[2022-02-13T12:18:33.507Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:18:33.507Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T12:18:33.507Z] }
[2022-02-13T12:18:33.507Z] "authenticating..."
[2022-02-13T12:18:33.507Z] "handler is promise, awaiting response"
[2022-02-13T12:18:33.507Z] Waiting for handler to finish...
[2022-02-13T12:18:33.539Z] "authenticated"
[2022-02-13T12:18:33.555Z] "authenticated"
[2022-02-13T12:18:33.569Z] "Router", "request", "success", {
[2022-02-13T12:18:33.569Z]     "httpMethod": "GET",
[2022-02-13T12:18:33.570Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:18:33.570Z]     "path": "/books/rina-findet-auch-freunde/stories",
[2022-02-13T12:18:33.570Z]     "error": null,
[2022-02-13T12:18:33.570Z]     "result": {
[2022-02-13T12:18:33.570Z]         "isBase64Encoded": false,
[2022-02-13T12:18:33.570Z]         "statusCode": 200,
[2022-02-13T12:18:33.570Z]         "headers": {
[2022-02-13T12:18:33.570Z]             "Content-Type": "application/json"
[2022-02-13T12:18:33.570Z]         },
[2022-02-13T12:18:33.570Z]         "multiValueHeaders": {},
[2022-02-13T12:18:33.570Z]         "body": "[]"
[2022-02-13T12:18:33.571Z]     }
[2022-02-13T12:18:33.571Z] }
[2022-02-13T12:18:33.571Z] "now calling callback"
[2022-02-13T12:18:33.571Z] handler called callback, sending result...
[2022-02-13T12:18:33.571Z] "Router", "request", "success", {
[2022-02-13T12:18:33.571Z]     "httpMethod": "GET",
[2022-02-13T12:18:33.571Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:18:33.571Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T12:18:33.571Z] }
[2022-02-13T12:18:33.571Z] "promise done, calling callback"
[2022-02-13T12:18:33.571Z] handler promise resolved, sending result...
[2022-02-13T12:18:33.572Z] "Router", "request", "success", {
[2022-02-13T12:18:33.572Z]     "httpMethod": "GET",
[2022-02-13T12:18:33.572Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:18:33.572Z]     "path": "/books/jan-findet-freunde/stories",
[2022-02-13T12:18:33.572Z]     "error": null,
[2022-02-13T12:18:33.572Z]     "result": {
[2022-02-13T12:18:33.572Z]         "isBase64Encoded": false,
[2022-02-13T12:18:33.572Z]         "statusCode": 200,
[2022-02-13T12:18:33.572Z]         "headers": {
[2022-02-13T12:18:33.572Z]             "Content-Type": "application/json"
[2022-02-13T12:18:33.572Z]         },
[2022-02-13T12:18:33.572Z]         "multiValueHeaders": {},
[2022-02-13T12:18:33.573Z]         "body": "[]"
[2022-02-13T12:18:33.573Z]     }
[2022-02-13T12:18:33.573Z] }
[2022-02-13T12:18:33.573Z] "now calling callback"
[2022-02-13T12:18:33.573Z] handler called callback, sending result...
[2022-02-13T12:18:33.573Z] "Router", "request", "success", {
[2022-02-13T12:18:33.573Z]     "httpMethod": "GET",
[2022-02-13T12:18:33.573Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:18:33.573Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T12:18:33.573Z] }
[2022-02-13T12:18:33.573Z] "promise done, calling callback"
[2022-02-13T12:18:33.573Z] handler promise resolved, sending result...
[2022-02-13T12:19:43.213Z] Received message: {"type":"execute","eventId":"NnVcolxrTjVvnwB6A3Ywk","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:19:43.214Z] Executing event NnVcolxrTjVvnwB6A3Ywk
[2022-02-13T12:19:43.214Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:19:43.365Z] Invoking handler function: "handler"
[2022-02-13T12:19:43.365Z] "Router", "request", "info", {
[2022-02-13T12:19:43.366Z]     "httpMethod": "POST",
[2022-02-13T12:19:43.366Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:19:43.366Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:19:43.366Z] }
[2022-02-13T12:19:43.366Z] "authenticating..."
[2022-02-13T12:19:43.373Z] "handler is promise, awaiting response"
[2022-02-13T12:19:43.374Z] Waiting for handler to finish...
[2022-02-13T12:19:43.401Z] "authenticated"
[2022-02-13T12:19:43.402Z] "Router", "request", "success", {
[2022-02-13T12:19:43.402Z]     "httpMethod": "POST",
[2022-02-13T12:19:43.402Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:19:43.402Z]     "path": "/auth/verify-passcode",
[2022-02-13T12:19:43.402Z]     "error": null,
[2022-02-13T12:19:43.402Z]     "result": {
[2022-02-13T12:19:43.402Z]         "isBase64Encoded": false,
[2022-02-13T12:19:43.402Z]         "statusCode": 200,
[2022-02-13T12:19:43.402Z]         "headers": {
[2022-02-13T12:19:43.402Z]             "Content-Type": "application/json"
[2022-02-13T12:19:43.403Z]         },
[2022-02-13T12:19:43.403Z]         "multiValueHeaders": {},
[2022-02-13T12:19:43.403Z]         "body": "\"OK\""
[2022-02-13T12:19:43.403Z]     }
[2022-02-13T12:19:43.403Z] }
[2022-02-13T12:19:43.404Z] "now calling callback"
[2022-02-13T12:19:43.404Z] handler called callback, sending result...
[2022-02-13T12:19:43.404Z] "Router", "request", "success", {
[2022-02-13T12:19:43.404Z]     "httpMethod": "POST",
[2022-02-13T12:19:43.404Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:19:43.404Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:19:43.405Z] }
[2022-02-13T12:19:43.405Z] "promise done, calling callback"
[2022-02-13T12:19:43.405Z] handler promise resolved, sending result...
[2022-02-13T12:19:43.457Z] Received message: {"type":"execute","eventId":"lnr6_zeppP5oKcSjMOZAk","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"cc-FP8ymwMD21GTkmFIJwoFY75UGbQ\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:19:43.457Z] Executing event lnr6_zeppP5oKcSjMOZAk
[2022-02-13T12:19:43.458Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:19:43.543Z] Invoking handler function: "handler"
[2022-02-13T12:19:43.543Z] "Router", "request", "info", {
[2022-02-13T12:19:43.543Z]     "httpMethod": "GET",
[2022-02-13T12:19:43.543Z]     "resource": "/books",
[2022-02-13T12:19:43.543Z]     "path": "/books"
[2022-02-13T12:19:43.543Z] }
[2022-02-13T12:19:43.543Z] "authenticating..."
[2022-02-13T12:19:43.549Z] "handler is promise, awaiting response"
[2022-02-13T12:19:43.550Z] Waiting for handler to finish...
[2022-02-13T12:19:43.576Z] "authenticated"
[2022-02-13T12:19:43.576Z] "get books"
[2022-02-13T12:19:43.576Z] "add \"all\" option"
[2022-02-13T12:19:43.576Z] "execute"
[2022-02-13T12:19:43.593Z] "done", [
[2022-02-13T12:19:43.593Z]     {
[2022-02-13T12:19:43.594Z]         "title": "Rina findet auch Freunde",
[2022-02-13T12:19:43.594Z]         "description": "lol. nachmacher!",
[2022-02-13T12:19:43.594Z]         "slug": "rina-findet-auch-freunde"
[2022-02-13T12:19:43.594Z]     },
[2022-02-13T12:19:43.594Z]     {
[2022-02-13T12:19:43.594Z]         "title": "Jan findet freunde",
[2022-02-13T12:19:43.594Z]         "description": "Der titel sagt alles...",
[2022-02-13T12:19:43.594Z]         "slug": "jan-findet-freunde"
[2022-02-13T12:19:43.594Z]     }
[2022-02-13T12:19:43.594Z] ]
[2022-02-13T12:19:43.595Z] "Router", "request", "success", {
[2022-02-13T12:19:43.595Z]     "httpMethod": "GET",
[2022-02-13T12:19:43.595Z]     "resource": "/books",
[2022-02-13T12:19:43.595Z]     "path": "/books",
[2022-02-13T12:19:43.595Z]     "error": null,
[2022-02-13T12:19:43.595Z]     "result": {
[2022-02-13T12:19:43.595Z]         "isBase64Encoded": false,
[2022-02-13T12:19:43.595Z]         "statusCode": 200,
[2022-02-13T12:19:43.595Z]         "headers": {
[2022-02-13T12:19:43.595Z]             "Content-Type": "application/json"
[2022-02-13T12:19:43.595Z]         },
[2022-02-13T12:19:43.595Z]         "multiValueHeaders": {},
[2022-02-13T12:19:43.596Z]         "body": "[{\"title\":\"Rina findet auch Freunde\",\"description\":\"lol. nachmacher!\",\"slug\":\"rina-findet-auch-freunde\"},{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\",\"slug\":\"jan-findet-freunde\"}]"
[2022-02-13T12:19:43.596Z]     }
[2022-02-13T12:19:43.596Z] }
[2022-02-13T12:19:43.596Z] "now calling callback"
[2022-02-13T12:19:43.596Z] handler called callback, sending result...
[2022-02-13T12:19:43.596Z] "Router", "request", "success", {
[2022-02-13T12:19:43.596Z]     "httpMethod": "GET",
[2022-02-13T12:19:43.596Z]     "resource": "/books",
[2022-02-13T12:19:43.596Z]     "path": "/books"
[2022-02-13T12:19:43.596Z] }
[2022-02-13T12:19:43.597Z] "promise done, calling callback"
[2022-02-13T12:19:43.597Z] handler promise resolved, sending result...
[2022-02-13T12:19:43.629Z] Received message: {"type":"execute","eventId":"QVKCQDe-OwicmXUXz5suj","payload":{"event":{"isBase64Encoded":false,"path":"/books/rina-findet-auch-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"rina-findet-auch-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:19:43.629Z] Executing event QVKCQDe-OwicmXUXz5suj
[2022-02-13T12:19:43.629Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:19:43.709Z] Invoking handler function: "handler"
[2022-02-13T12:19:43.709Z] "Router", "request", "info", {
[2022-02-13T12:19:43.710Z]     "httpMethod": "GET",
[2022-02-13T12:19:43.710Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:19:43.710Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T12:19:43.710Z] }
[2022-02-13T12:19:43.710Z] "authenticating..."
[2022-02-13T12:19:43.717Z] "handler is promise, awaiting response"
[2022-02-13T12:19:43.717Z] Waiting for handler to finish...
[2022-02-13T12:19:43.717Z] Received message: {"type":"execute","eventId":"jeVQXLEdPC6Jjzy5-2U0k","payload":{"event":{"isBase64Encoded":false,"path":"/books/jan-findet-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jan-findet-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:19:43.717Z] Executing event jeVQXLEdPC6Jjzy5-2U0k
[2022-02-13T12:19:43.717Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:19:43.717Z] Invoking handler function: "handler"
[2022-02-13T12:19:43.717Z] "Router", "request", "info", {
[2022-02-13T12:19:43.717Z]     "httpMethod": "GET",
[2022-02-13T12:19:43.717Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:19:43.717Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T12:19:43.718Z] }
[2022-02-13T12:19:43.718Z] "authenticating..."
[2022-02-13T12:19:43.718Z] "handler is promise, awaiting response"
[2022-02-13T12:19:43.718Z] Waiting for handler to finish...
[2022-02-13T12:19:43.741Z] "authenticated"
[2022-02-13T12:19:43.745Z] "authenticated"
[2022-02-13T12:19:43.755Z] "Router", "request", "success", {
[2022-02-13T12:19:43.755Z]     "httpMethod": "GET",
[2022-02-13T12:19:43.755Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:19:43.755Z]     "path": "/books/jan-findet-freunde/stories",
[2022-02-13T12:19:43.755Z]     "error": null,
[2022-02-13T12:19:43.756Z]     "result": {
[2022-02-13T12:19:43.756Z]         "isBase64Encoded": false,
[2022-02-13T12:19:43.756Z]         "statusCode": 200,
[2022-02-13T12:19:43.756Z]         "headers": {
[2022-02-13T12:19:43.756Z]             "Content-Type": "application/json"
[2022-02-13T12:19:43.756Z]         },
[2022-02-13T12:19:43.756Z]         "multiValueHeaders": {},
[2022-02-13T12:19:43.756Z]         "body": "[]"
[2022-02-13T12:19:43.756Z]     }
[2022-02-13T12:19:43.756Z] }
[2022-02-13T12:19:43.757Z] "now calling callback"
[2022-02-13T12:19:43.757Z] handler called callback, sending result...
[2022-02-13T12:19:43.757Z] "Router", "request", "success", {
[2022-02-13T12:19:43.757Z]     "httpMethod": "GET",
[2022-02-13T12:19:43.757Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:19:43.757Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T12:19:43.757Z] }
[2022-02-13T12:19:43.758Z] "promise done, calling callback"
[2022-02-13T12:19:43.758Z] handler promise resolved, sending result...
[2022-02-13T12:19:43.758Z] "Router", "request", "success", {
[2022-02-13T12:19:43.758Z]     "httpMethod": "GET",
[2022-02-13T12:19:43.758Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:19:43.758Z]     "path": "/books/rina-findet-auch-freunde/stories",
[2022-02-13T12:19:43.758Z]     "error": null,
[2022-02-13T12:19:43.758Z]     "result": {
[2022-02-13T12:19:43.758Z]         "isBase64Encoded": false,
[2022-02-13T12:19:43.758Z]         "statusCode": 200,
[2022-02-13T12:19:43.758Z]         "headers": {
[2022-02-13T12:19:43.759Z]             "Content-Type": "application/json"
[2022-02-13T12:19:43.759Z]         },
[2022-02-13T12:19:43.759Z]         "multiValueHeaders": {},
[2022-02-13T12:19:43.759Z]         "body": "[]"
[2022-02-13T12:19:43.759Z]     }
[2022-02-13T12:19:43.759Z] }
[2022-02-13T12:19:43.759Z] "now calling callback"
[2022-02-13T12:19:43.759Z] handler called callback, sending result...
[2022-02-13T12:19:43.759Z] "Router", "request", "success", {
[2022-02-13T12:19:43.760Z]     "httpMethod": "GET",
[2022-02-13T12:19:43.760Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:19:43.760Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T12:19:43.760Z] }
[2022-02-13T12:19:43.760Z] "promise done, calling callback"
[2022-02-13T12:19:43.760Z] handler promise resolved, sending result...
[2022-02-13T12:21:44.127Z] Received message: {"type":"execute","eventId":"cHDMyDrlytCs7VuO5M_V1","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:21:44.127Z] Executing event cHDMyDrlytCs7VuO5M_V1
[2022-02-13T12:21:44.128Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:21:44.277Z] Invoking handler function: "handler"
[2022-02-13T12:21:44.278Z] "Router", "request", "info", {
[2022-02-13T12:21:44.278Z]     "httpMethod": "POST",
[2022-02-13T12:21:44.278Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:21:44.278Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:21:44.278Z] }
[2022-02-13T12:21:44.278Z] "authenticating..."
[2022-02-13T12:21:44.285Z] "handler is promise, awaiting response"
[2022-02-13T12:21:44.286Z] Waiting for handler to finish...
[2022-02-13T12:21:44.316Z] "authenticated"
[2022-02-13T12:21:44.316Z] "Router", "request", "success", {
[2022-02-13T12:21:44.316Z]     "httpMethod": "POST",
[2022-02-13T12:21:44.316Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:21:44.316Z]     "path": "/auth/verify-passcode",
[2022-02-13T12:21:44.316Z]     "error": null,
[2022-02-13T12:21:44.316Z]     "result": {
[2022-02-13T12:21:44.317Z]         "isBase64Encoded": false,
[2022-02-13T12:21:44.317Z]         "statusCode": 200,
[2022-02-13T12:21:44.317Z]         "headers": {
[2022-02-13T12:21:44.317Z]             "Content-Type": "application/json"
[2022-02-13T12:21:44.317Z]         },
[2022-02-13T12:21:44.317Z]         "multiValueHeaders": {},
[2022-02-13T12:21:44.317Z]         "body": "\"OK\""
[2022-02-13T12:21:44.318Z]     }
[2022-02-13T12:21:44.318Z] }
[2022-02-13T12:21:44.318Z] "now calling callback"
[2022-02-13T12:21:44.318Z] handler called callback, sending result...
[2022-02-13T12:21:44.318Z] "Router", "request", "success", {
[2022-02-13T12:21:44.319Z]     "httpMethod": "POST",
[2022-02-13T12:21:44.319Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:21:44.319Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:21:44.319Z] }
[2022-02-13T12:21:44.319Z] "promise done, calling callback"
[2022-02-13T12:21:44.320Z] handler promise resolved, sending result...
[2022-02-13T12:21:44.372Z] Received message: {"type":"execute","eventId":"TT3ZdmEFOlSKLHi_Vk3ed","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"cc-FP8ymwMD21GTkmFIJwoFY75UGbQ\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:21:44.372Z] Executing event TT3ZdmEFOlSKLHi_Vk3ed
[2022-02-13T12:21:44.373Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:21:44.452Z] Invoking handler function: "handler"
[2022-02-13T12:21:44.452Z] "Router", "request", "info", {
[2022-02-13T12:21:44.452Z]     "httpMethod": "GET",
[2022-02-13T12:21:44.453Z]     "resource": "/books",
[2022-02-13T12:21:44.453Z]     "path": "/books"
[2022-02-13T12:21:44.453Z] }
[2022-02-13T12:21:44.453Z] "authenticating..."
[2022-02-13T12:21:44.459Z] "handler is promise, awaiting response"
[2022-02-13T12:21:44.459Z] Waiting for handler to finish...
[2022-02-13T12:21:44.487Z] "authenticated"
[2022-02-13T12:21:44.487Z] "get books"
[2022-02-13T12:21:44.487Z] "add \"all\" option"
[2022-02-13T12:21:44.487Z] "execute"
[2022-02-13T12:21:44.500Z] "done", [
[2022-02-13T12:21:44.500Z]     {
[2022-02-13T12:21:44.500Z]         "title": "Rina findet auch Freunde",
[2022-02-13T12:21:44.500Z]         "description": "lol. nachmacher!",
[2022-02-13T12:21:44.501Z]         "slug": "rina-findet-auch-freunde"
[2022-02-13T12:21:44.501Z]     },
[2022-02-13T12:21:44.501Z]     {
[2022-02-13T12:21:44.501Z]         "title": "Jan findet freunde",
[2022-02-13T12:21:44.501Z]         "description": "Der titel sagt alles...",
[2022-02-13T12:21:44.501Z]         "slug": "jan-findet-freunde"
[2022-02-13T12:21:44.501Z]     }
[2022-02-13T12:21:44.501Z] ]
[2022-02-13T12:21:44.501Z] "Router", "request", "success", {
[2022-02-13T12:21:44.501Z]     "httpMethod": "GET",
[2022-02-13T12:21:44.501Z]     "resource": "/books",
[2022-02-13T12:21:44.501Z]     "path": "/books",
[2022-02-13T12:21:44.502Z]     "error": null,
[2022-02-13T12:21:44.502Z]     "result": {
[2022-02-13T12:21:44.502Z]         "isBase64Encoded": false,
[2022-02-13T12:21:44.502Z]         "statusCode": 200,
[2022-02-13T12:21:44.502Z]         "headers": {
[2022-02-13T12:21:44.502Z]             "Content-Type": "application/json"
[2022-02-13T12:21:44.502Z]         },
[2022-02-13T12:21:44.502Z]         "multiValueHeaders": {},
[2022-02-13T12:21:44.502Z]         "body": "[{\"title\":\"Rina findet auch Freunde\",\"description\":\"lol. nachmacher!\",\"slug\":\"rina-findet-auch-freunde\"},{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\",\"slug\":\"jan-findet-freunde\"}]"
[2022-02-13T12:21:44.503Z]     }
[2022-02-13T12:21:44.503Z] }
[2022-02-13T12:21:44.503Z] "now calling callback"
[2022-02-13T12:21:44.503Z] handler called callback, sending result...
[2022-02-13T12:21:44.503Z] "Router", "request", "success", {
[2022-02-13T12:21:44.503Z]     "httpMethod": "GET",
[2022-02-13T12:21:44.503Z]     "resource": "/books",
[2022-02-13T12:21:44.503Z]     "path": "/books"
[2022-02-13T12:21:44.503Z] }
[2022-02-13T12:21:44.504Z] "promise done, calling callback"
[2022-02-13T12:21:44.504Z] handler promise resolved, sending result...
[2022-02-13T12:21:44.535Z] Received message: {"type":"execute","eventId":"kw62LXpIm4e5nGVog1-YP","payload":{"event":{"isBase64Encoded":false,"path":"/books/rina-findet-auch-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"rina-findet-auch-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:21:44.535Z] Executing event kw62LXpIm4e5nGVog1-YP
[2022-02-13T12:21:44.536Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:21:44.618Z] Invoking handler function: "handler"
[2022-02-13T12:21:44.619Z] "Router", "request", "info", {
[2022-02-13T12:21:44.619Z]     "httpMethod": "GET",
[2022-02-13T12:21:44.619Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:21:44.619Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T12:21:44.619Z] }
[2022-02-13T12:21:44.619Z] "authenticating..."
[2022-02-13T12:21:44.625Z] "handler is promise, awaiting response"
[2022-02-13T12:21:44.625Z] Waiting for handler to finish...
[2022-02-13T12:21:44.626Z] Received message: {"type":"execute","eventId":"aUbWtJymihFf_U2IJHCpS","payload":{"event":{"isBase64Encoded":false,"path":"/books/jan-findet-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jan-findet-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:21:44.626Z] Executing event aUbWtJymihFf_U2IJHCpS
[2022-02-13T12:21:44.626Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:21:44.626Z] Invoking handler function: "handler"
[2022-02-13T12:21:44.626Z] "Router", "request", "info", {
[2022-02-13T12:21:44.626Z]     "httpMethod": "GET",
[2022-02-13T12:21:44.626Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:21:44.627Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T12:21:44.627Z] }
[2022-02-13T12:21:44.627Z] "authenticating..."
[2022-02-13T12:21:44.627Z] "handler is promise, awaiting response"
[2022-02-13T12:21:44.627Z] Waiting for handler to finish...
[2022-02-13T12:21:44.664Z] "authenticated"
[2022-02-13T12:21:44.665Z] "authenticated"
[2022-02-13T12:21:44.678Z] "Router", "request", "success", {
[2022-02-13T12:21:44.678Z]     "httpMethod": "GET",
[2022-02-13T12:21:44.678Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:21:44.679Z]     "path": "/books/rina-findet-auch-freunde/stories",
[2022-02-13T12:21:44.679Z]     "error": null,
[2022-02-13T12:21:44.679Z]     "result": {
[2022-02-13T12:21:44.679Z]         "isBase64Encoded": false,
[2022-02-13T12:21:44.679Z]         "statusCode": 200,
[2022-02-13T12:21:44.679Z]         "headers": {
[2022-02-13T12:21:44.679Z]             "Content-Type": "application/json"
[2022-02-13T12:21:44.679Z]         },
[2022-02-13T12:21:44.679Z]         "multiValueHeaders": {},
[2022-02-13T12:21:44.680Z]         "body": "[]"
[2022-02-13T12:21:44.680Z]     }
[2022-02-13T12:21:44.680Z] }
[2022-02-13T12:21:44.680Z] "now calling callback"
[2022-02-13T12:21:44.680Z] handler called callback, sending result...
[2022-02-13T12:21:44.680Z] "Router", "request", "success", {
[2022-02-13T12:21:44.680Z]     "httpMethod": "GET",
[2022-02-13T12:21:44.680Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:21:44.680Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T12:21:44.680Z] }
[2022-02-13T12:21:44.681Z] "promise done, calling callback"
[2022-02-13T12:21:44.681Z] handler promise resolved, sending result...
[2022-02-13T12:21:44.681Z] "Router", "request", "success", {
[2022-02-13T12:21:44.681Z]     "httpMethod": "GET",
[2022-02-13T12:21:44.681Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:21:44.681Z]     "path": "/books/jan-findet-freunde/stories",
[2022-02-13T12:21:44.681Z]     "error": null,
[2022-02-13T12:21:44.681Z]     "result": {
[2022-02-13T12:21:44.681Z]         "isBase64Encoded": false,
[2022-02-13T12:21:44.681Z]         "statusCode": 200,
[2022-02-13T12:21:44.681Z]         "headers": {
[2022-02-13T12:21:44.682Z]             "Content-Type": "application/json"
[2022-02-13T12:21:44.682Z]         },
[2022-02-13T12:21:44.682Z]         "multiValueHeaders": {},
[2022-02-13T12:21:44.682Z]         "body": "[]"
[2022-02-13T12:21:44.682Z]     }
[2022-02-13T12:21:44.682Z] }
[2022-02-13T12:21:44.682Z] "now calling callback"
[2022-02-13T12:21:44.682Z] handler called callback, sending result...
[2022-02-13T12:21:44.682Z] "Router", "request", "success", {
[2022-02-13T12:21:44.682Z]     "httpMethod": "GET",
[2022-02-13T12:21:44.682Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:21:44.683Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T12:21:44.683Z] }
[2022-02-13T12:21:44.683Z] "promise done, calling callback"
[2022-02-13T12:21:44.683Z] handler promise resolved, sending result...
[2022-02-13T12:24:14.490Z] Received message: {"type":"execute","eventId":"Ybj-VpKMRIBk-e_bT7tcK","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:24:14.491Z] Executing event Ybj-VpKMRIBk-e_bT7tcK
[2022-02-13T12:24:14.491Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:24:14.634Z] Invoking handler function: "handler"
[2022-02-13T12:24:14.635Z] "Router", "request", "info", {
[2022-02-13T12:24:14.635Z]     "httpMethod": "POST",
[2022-02-13T12:24:14.635Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:24:14.635Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:24:14.635Z] }
[2022-02-13T12:24:14.635Z] "authenticating..."
[2022-02-13T12:24:14.642Z] "handler is promise, awaiting response"
[2022-02-13T12:24:14.642Z] Waiting for handler to finish...
[2022-02-13T12:24:14.666Z] "authenticated"
[2022-02-13T12:24:14.666Z] "Router", "request", "success", {
[2022-02-13T12:24:14.666Z]     "httpMethod": "POST",
[2022-02-13T12:24:14.667Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:24:14.667Z]     "path": "/auth/verify-passcode",
[2022-02-13T12:24:14.667Z]     "error": null,
[2022-02-13T12:24:14.667Z]     "result": {
[2022-02-13T12:24:14.667Z]         "isBase64Encoded": false,
[2022-02-13T12:24:14.667Z]         "statusCode": 200,
[2022-02-13T12:24:14.667Z]         "headers": {
[2022-02-13T12:24:14.667Z]             "Content-Type": "application/json"
[2022-02-13T12:24:14.668Z]         },
[2022-02-13T12:24:14.668Z]         "multiValueHeaders": {},
[2022-02-13T12:24:14.668Z]         "body": "\"OK\""
[2022-02-13T12:24:14.668Z]     }
[2022-02-13T12:24:14.668Z] }
[2022-02-13T12:24:14.668Z] "now calling callback"
[2022-02-13T12:24:14.668Z] handler called callback, sending result...
[2022-02-13T12:24:14.669Z] "Router", "request", "success", {
[2022-02-13T12:24:14.669Z]     "httpMethod": "POST",
[2022-02-13T12:24:14.669Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:24:14.669Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:24:14.669Z] }
[2022-02-13T12:24:14.670Z] "promise done, calling callback"
[2022-02-13T12:24:14.670Z] handler promise resolved, sending result...
[2022-02-13T12:24:14.724Z] Received message: {"type":"execute","eventId":"pRkMLJusG745Z5zbWIf_Z","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"cc-FP8ymwMD21GTkmFIJwoFY75UGbQ\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:24:14.725Z] Executing event pRkMLJusG745Z5zbWIf_Z
[2022-02-13T12:24:14.725Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:24:14.803Z] Invoking handler function: "handler"
[2022-02-13T12:24:14.803Z] "Router", "request", "info", {
[2022-02-13T12:24:14.803Z]     "httpMethod": "GET",
[2022-02-13T12:24:14.804Z]     "resource": "/books",
[2022-02-13T12:24:14.804Z]     "path": "/books"
[2022-02-13T12:24:14.804Z] }
[2022-02-13T12:24:14.804Z] "authenticating..."
[2022-02-13T12:24:14.811Z] "handler is promise, awaiting response"
[2022-02-13T12:24:14.811Z] Waiting for handler to finish...
[2022-02-13T12:24:14.840Z] "authenticated"
[2022-02-13T12:24:14.840Z] "get books"
[2022-02-13T12:24:14.840Z] "add \"all\" option"
[2022-02-13T12:24:14.841Z] "execute"
[2022-02-13T12:24:14.854Z] "done", [
[2022-02-13T12:24:14.854Z]     {
[2022-02-13T12:24:14.854Z]         "title": "Rina findet auch Freunde",
[2022-02-13T12:24:14.855Z]         "description": "lol. nachmacher!",
[2022-02-13T12:24:14.855Z]         "slug": "rina-findet-auch-freunde"
[2022-02-13T12:24:14.855Z]     },
[2022-02-13T12:24:14.855Z]     {
[2022-02-13T12:24:14.855Z]         "title": "Jan findet freunde",
[2022-02-13T12:24:14.855Z]         "description": "Der titel sagt alles...",
[2022-02-13T12:24:14.855Z]         "slug": "jan-findet-freunde"
[2022-02-13T12:24:14.855Z]     }
[2022-02-13T12:24:14.855Z] ]
[2022-02-13T12:24:14.856Z] "Router", "request", "success", {
[2022-02-13T12:24:14.856Z]     "httpMethod": "GET",
[2022-02-13T12:24:14.856Z]     "resource": "/books",
[2022-02-13T12:24:14.856Z]     "path": "/books",
[2022-02-13T12:24:14.856Z]     "error": null,
[2022-02-13T12:24:14.856Z]     "result": {
[2022-02-13T12:24:14.856Z]         "isBase64Encoded": false,
[2022-02-13T12:24:14.856Z]         "statusCode": 200,
[2022-02-13T12:24:14.856Z]         "headers": {
[2022-02-13T12:24:14.856Z]             "Content-Type": "application/json"
[2022-02-13T12:24:14.856Z]         },
[2022-02-13T12:24:14.856Z]         "multiValueHeaders": {},
[2022-02-13T12:24:14.856Z]         "body": "[{\"title\":\"Rina findet auch Freunde\",\"description\":\"lol. nachmacher!\",\"slug\":\"rina-findet-auch-freunde\"},{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\",\"slug\":\"jan-findet-freunde\"}]"
[2022-02-13T12:24:14.856Z]     }
[2022-02-13T12:24:14.857Z] }
[2022-02-13T12:24:14.857Z] "now calling callback"
[2022-02-13T12:24:14.857Z] handler called callback, sending result...
[2022-02-13T12:24:14.857Z] "Router", "request", "success", {
[2022-02-13T12:24:14.857Z]     "httpMethod": "GET",
[2022-02-13T12:24:14.857Z]     "resource": "/books",
[2022-02-13T12:24:14.857Z]     "path": "/books"
[2022-02-13T12:24:14.857Z] }
[2022-02-13T12:24:14.857Z] "promise done, calling callback"
[2022-02-13T12:24:14.857Z] handler promise resolved, sending result...
[2022-02-13T12:24:14.889Z] Received message: {"type":"execute","eventId":"7S8u3x06Qt6qqR7QvvDC2","payload":{"event":{"isBase64Encoded":false,"path":"/books/jan-findet-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jan-findet-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:24:14.889Z] Executing event 7S8u3x06Qt6qqR7QvvDC2
[2022-02-13T12:24:14.890Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:24:14.971Z] Invoking handler function: "handler"
[2022-02-13T12:24:14.972Z] "Router", "request", "info", {
[2022-02-13T12:24:14.972Z]     "httpMethod": "GET",
[2022-02-13T12:24:14.972Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:24:14.972Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T12:24:14.972Z] }
[2022-02-13T12:24:14.972Z] "authenticating..."
[2022-02-13T12:24:14.979Z] "handler is promise, awaiting response"
[2022-02-13T12:24:14.979Z] Waiting for handler to finish...
[2022-02-13T12:24:14.980Z] Received message: {"type":"execute","eventId":"CwtlwD6c1xtXDWAKLQ2ZA","payload":{"event":{"isBase64Encoded":false,"path":"/books/rina-findet-auch-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"rina-findet-auch-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:24:14.980Z] Executing event CwtlwD6c1xtXDWAKLQ2ZA
[2022-02-13T12:24:14.980Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:24:14.980Z] Invoking handler function: "handler"
[2022-02-13T12:24:14.980Z] "Router", "request", "info", {
[2022-02-13T12:24:14.980Z]     "httpMethod": "GET",
[2022-02-13T12:24:14.980Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:24:14.980Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T12:24:14.980Z] }
[2022-02-13T12:24:14.980Z] "authenticating..."
[2022-02-13T12:24:14.980Z] "handler is promise, awaiting response"
[2022-02-13T12:24:14.981Z] Waiting for handler to finish...
[2022-02-13T12:24:15.007Z] "authenticated"
[2022-02-13T12:24:15.012Z] "authenticated"
[2022-02-13T12:24:15.025Z] "Router", "request", "success", {
[2022-02-13T12:24:15.026Z]     "httpMethod": "GET",
[2022-02-13T12:24:15.026Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:24:15.026Z]     "path": "/books/jan-findet-freunde/stories",
[2022-02-13T12:24:15.026Z]     "error": null,
[2022-02-13T12:24:15.026Z]     "result": {
[2022-02-13T12:24:15.026Z]         "isBase64Encoded": false,
[2022-02-13T12:24:15.026Z]         "statusCode": 200,
[2022-02-13T12:24:15.026Z]         "headers": {
[2022-02-13T12:24:15.026Z]             "Content-Type": "application/json"
[2022-02-13T12:24:15.027Z]         },
[2022-02-13T12:24:15.027Z]         "multiValueHeaders": {},
[2022-02-13T12:24:15.027Z]         "body": "[]"
[2022-02-13T12:24:15.027Z]     }
[2022-02-13T12:24:15.027Z] }
[2022-02-13T12:24:15.027Z] "now calling callback"
[2022-02-13T12:24:15.027Z] handler called callback, sending result...
[2022-02-13T12:24:15.027Z] "Router", "request", "success", {
[2022-02-13T12:24:15.027Z]     "httpMethod": "GET",
[2022-02-13T12:24:15.028Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:24:15.028Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T12:24:15.028Z] }
[2022-02-13T12:24:15.028Z] "promise done, calling callback"
[2022-02-13T12:24:15.028Z] handler promise resolved, sending result...
[2022-02-13T12:24:15.028Z] "Router", "request", "success", {
[2022-02-13T12:24:15.028Z]     "httpMethod": "GET",
[2022-02-13T12:24:15.028Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:24:15.028Z]     "path": "/books/rina-findet-auch-freunde/stories",
[2022-02-13T12:24:15.028Z]     "error": null,
[2022-02-13T12:24:15.028Z]     "result": {
[2022-02-13T12:24:15.029Z]         "isBase64Encoded": false,
[2022-02-13T12:24:15.029Z]         "statusCode": 200,
[2022-02-13T12:24:15.029Z]         "headers": {
[2022-02-13T12:24:15.029Z]             "Content-Type": "application/json"
[2022-02-13T12:24:15.029Z]         },
[2022-02-13T12:24:15.029Z]         "multiValueHeaders": {},
[2022-02-13T12:24:15.029Z]         "body": "[]"
[2022-02-13T12:24:15.029Z]     }
[2022-02-13T12:24:15.029Z] }
[2022-02-13T12:24:15.029Z] "now calling callback"
[2022-02-13T12:24:15.029Z] handler called callback, sending result...
[2022-02-13T12:24:15.029Z] "Router", "request", "success", {
[2022-02-13T12:24:15.029Z]     "httpMethod": "GET",
[2022-02-13T12:24:15.030Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:24:15.030Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T12:24:15.030Z] }
[2022-02-13T12:24:15.030Z] "promise done, calling callback"
[2022-02-13T12:24:15.030Z] handler promise resolved, sending result...
[2022-02-13T12:24:48.669Z] Received message: {"type":"execute","eventId":"w4Bwgb5dzrDtGnQMNhIdE","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:24:48.670Z] Executing event w4Bwgb5dzrDtGnQMNhIdE
[2022-02-13T12:24:48.670Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:24:48.758Z] Invoking handler function: "handler"
[2022-02-13T12:24:48.758Z] "Router", "request", "info", {
[2022-02-13T12:24:48.758Z]     "httpMethod": "POST",
[2022-02-13T12:24:48.758Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:24:48.759Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:24:48.759Z] }
[2022-02-13T12:24:48.759Z] "authenticating..."
[2022-02-13T12:24:48.765Z] "handler is promise, awaiting response"
[2022-02-13T12:24:48.766Z] Waiting for handler to finish...
[2022-02-13T12:24:48.798Z] "authenticated"
[2022-02-13T12:24:48.798Z] "Router", "request", "success", {
[2022-02-13T12:24:48.799Z]     "httpMethod": "POST",
[2022-02-13T12:24:48.799Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:24:48.799Z]     "path": "/auth/verify-passcode",
[2022-02-13T12:24:48.799Z]     "error": null,
[2022-02-13T12:24:48.799Z]     "result": {
[2022-02-13T12:24:48.799Z]         "isBase64Encoded": false,
[2022-02-13T12:24:48.799Z]         "statusCode": 200,
[2022-02-13T12:24:48.799Z]         "headers": {
[2022-02-13T12:24:48.799Z]             "Content-Type": "application/json"
[2022-02-13T12:24:48.799Z]         },
[2022-02-13T12:24:48.800Z]         "multiValueHeaders": {},
[2022-02-13T12:24:48.800Z]         "body": "\"OK\""
[2022-02-13T12:24:48.800Z]     }
[2022-02-13T12:24:48.800Z] }
[2022-02-13T12:24:48.800Z] "now calling callback"
[2022-02-13T12:24:48.800Z] handler called callback, sending result...
[2022-02-13T12:24:48.801Z] "Router", "request", "success", {
[2022-02-13T12:24:48.801Z]     "httpMethod": "POST",
[2022-02-13T12:24:48.801Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:24:48.801Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:24:48.801Z] }
[2022-02-13T12:24:48.801Z] "promise done, calling callback"
[2022-02-13T12:24:48.802Z] handler promise resolved, sending result...
[2022-02-13T12:24:48.855Z] Received message: {"type":"execute","eventId":"_X3Yx4loL3bHhGAizfv9R","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"cc-FP8ymwMD21GTkmFIJwoFY75UGbQ\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:24:48.855Z] Executing event _X3Yx4loL3bHhGAizfv9R
[2022-02-13T12:24:48.856Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:24:48.937Z] Invoking handler function: "handler"
[2022-02-13T12:24:48.937Z] "Router", "request", "info", {
[2022-02-13T12:24:48.938Z]     "httpMethod": "GET",
[2022-02-13T12:24:48.938Z]     "resource": "/books",
[2022-02-13T12:24:48.938Z]     "path": "/books"
[2022-02-13T12:24:48.938Z] }
[2022-02-13T12:24:48.938Z] "authenticating..."
[2022-02-13T12:24:48.945Z] "handler is promise, awaiting response"
[2022-02-13T12:24:48.945Z] Waiting for handler to finish...
[2022-02-13T12:24:48.973Z] "authenticated"
[2022-02-13T12:24:48.973Z] "get books"
[2022-02-13T12:24:48.973Z] "add \"all\" option"
[2022-02-13T12:24:48.973Z] "execute"
[2022-02-13T12:24:48.987Z] "done", [
[2022-02-13T12:24:48.987Z]     {
[2022-02-13T12:24:48.987Z]         "title": "Rina findet auch Freunde",
[2022-02-13T12:24:48.987Z]         "description": "lol. nachmacher!",
[2022-02-13T12:24:48.987Z]         "slug": "rina-findet-auch-freunde"
[2022-02-13T12:24:48.987Z]     },
[2022-02-13T12:24:48.987Z]     {
[2022-02-13T12:24:48.988Z]         "title": "Jan findet freunde",
[2022-02-13T12:24:48.988Z]         "description": "Der titel sagt alles...",
[2022-02-13T12:24:48.988Z]         "slug": "jan-findet-freunde"
[2022-02-13T12:24:48.988Z]     }
[2022-02-13T12:24:48.988Z] ]
[2022-02-13T12:24:48.988Z] "Router", "request", "success", {
[2022-02-13T12:24:48.989Z]     "httpMethod": "GET",
[2022-02-13T12:24:48.989Z]     "resource": "/books",
[2022-02-13T12:24:48.989Z]     "path": "/books",
[2022-02-13T12:24:48.989Z]     "error": null,
[2022-02-13T12:24:48.989Z]     "result": {
[2022-02-13T12:24:48.989Z]         "isBase64Encoded": false,
[2022-02-13T12:24:48.989Z]         "statusCode": 200,
[2022-02-13T12:24:48.989Z]         "headers": {
[2022-02-13T12:24:48.989Z]             "Content-Type": "application/json"
[2022-02-13T12:24:48.989Z]         },
[2022-02-13T12:24:48.990Z]         "multiValueHeaders": {},
[2022-02-13T12:24:48.990Z]         "body": "[{\"title\":\"Rina findet auch Freunde\",\"description\":\"lol. nachmacher!\",\"slug\":\"rina-findet-auch-freunde\"},{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\",\"slug\":\"jan-findet-freunde\"}]"
[2022-02-13T12:24:48.990Z]     }
[2022-02-13T12:24:48.990Z] }
[2022-02-13T12:24:48.990Z] "now calling callback"
[2022-02-13T12:24:48.990Z] handler called callback, sending result...
[2022-02-13T12:24:48.990Z] "Router", "request", "success", {
[2022-02-13T12:24:48.990Z]     "httpMethod": "GET",
[2022-02-13T12:24:48.990Z]     "resource": "/books",
[2022-02-13T12:24:48.991Z]     "path": "/books"
[2022-02-13T12:24:48.991Z] }
[2022-02-13T12:24:48.991Z] "promise done, calling callback"
[2022-02-13T12:24:48.991Z] handler promise resolved, sending result...
[2022-02-13T12:24:49.023Z] Received message: {"type":"execute","eventId":"IaF5HPZB93UB33rc0ei4M","payload":{"event":{"isBase64Encoded":false,"path":"/books/rina-findet-auch-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"rina-findet-auch-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:24:49.023Z] Executing event IaF5HPZB93UB33rc0ei4M
[2022-02-13T12:24:49.023Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:24:49.103Z] Invoking handler function: "handler"
[2022-02-13T12:24:49.103Z] "Router", "request", "info", {
[2022-02-13T12:24:49.104Z]     "httpMethod": "GET",
[2022-02-13T12:24:49.104Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:24:49.104Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T12:24:49.104Z] }
[2022-02-13T12:24:49.105Z] "authenticating..."
[2022-02-13T12:24:49.111Z] "handler is promise, awaiting response"
[2022-02-13T12:24:49.111Z] Waiting for handler to finish...
[2022-02-13T12:24:49.111Z] Received message: {"type":"execute","eventId":"LX_BaGo-jNIJ41PRZbn86","payload":{"event":{"isBase64Encoded":false,"path":"/books/jan-findet-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jan-findet-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:24:49.111Z] Executing event LX_BaGo-jNIJ41PRZbn86
[2022-02-13T12:24:49.111Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:24:49.111Z] Invoking handler function: "handler"
[2022-02-13T12:24:49.111Z] "Router", "request", "info", {
[2022-02-13T12:24:49.111Z]     "httpMethod": "GET",
[2022-02-13T12:24:49.111Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:24:49.111Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T12:24:49.112Z] }
[2022-02-13T12:24:49.112Z] "authenticating..."
[2022-02-13T12:24:49.112Z] "handler is promise, awaiting response"
[2022-02-13T12:24:49.112Z] Waiting for handler to finish...
[2022-02-13T12:24:49.144Z] "authenticated"
[2022-02-13T12:24:49.148Z] "authenticated"
[2022-02-13T12:24:49.162Z] "Router", "request", "success", {
[2022-02-13T12:24:49.162Z]     "httpMethod": "GET",
[2022-02-13T12:24:49.162Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:24:49.162Z]     "path": "/books/jan-findet-freunde/stories",
[2022-02-13T12:24:49.162Z]     "error": null,
[2022-02-13T12:24:49.162Z]     "result": {
[2022-02-13T12:24:49.162Z]         "isBase64Encoded": false,
[2022-02-13T12:24:49.163Z]         "statusCode": 200,
[2022-02-13T12:24:49.163Z]         "headers": {
[2022-02-13T12:24:49.163Z]             "Content-Type": "application/json"
[2022-02-13T12:24:49.163Z]         },
[2022-02-13T12:24:49.163Z]         "multiValueHeaders": {},
[2022-02-13T12:24:49.163Z]         "body": "[]"
[2022-02-13T12:24:49.163Z]     }
[2022-02-13T12:24:49.163Z] }
[2022-02-13T12:24:49.163Z] "now calling callback"
[2022-02-13T12:24:49.164Z] handler called callback, sending result...
[2022-02-13T12:24:49.164Z] "Router", "request", "success", {
[2022-02-13T12:24:49.164Z]     "httpMethod": "GET",
[2022-02-13T12:24:49.164Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:24:49.164Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T12:24:49.164Z] }
[2022-02-13T12:24:49.164Z] "promise done, calling callback"
[2022-02-13T12:24:49.164Z] handler promise resolved, sending result...
[2022-02-13T12:24:49.164Z] "Router", "request", "success", {
[2022-02-13T12:24:49.165Z]     "httpMethod": "GET",
[2022-02-13T12:24:49.165Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:24:49.165Z]     "path": "/books/rina-findet-auch-freunde/stories",
[2022-02-13T12:24:49.165Z]     "error": null,
[2022-02-13T12:24:49.165Z]     "result": {
[2022-02-13T12:24:49.165Z]         "isBase64Encoded": false,
[2022-02-13T12:24:49.165Z]         "statusCode": 200,
[2022-02-13T12:24:49.165Z]         "headers": {
[2022-02-13T12:24:49.166Z]             "Content-Type": "application/json"
[2022-02-13T12:24:49.166Z]         },
[2022-02-13T12:24:49.166Z]         "multiValueHeaders": {},
[2022-02-13T12:24:49.166Z]         "body": "[]"
[2022-02-13T12:24:49.166Z]     }
[2022-02-13T12:24:49.166Z] }
[2022-02-13T12:24:49.166Z] "now calling callback"
[2022-02-13T12:24:49.166Z] handler called callback, sending result...
[2022-02-13T12:24:49.166Z] "Router", "request", "success", {
[2022-02-13T12:24:49.166Z]     "httpMethod": "GET",
[2022-02-13T12:24:49.167Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:24:49.167Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T12:24:49.167Z] }
[2022-02-13T12:24:49.167Z] "promise done, calling callback"
[2022-02-13T12:24:49.167Z] handler promise resolved, sending result...
[2022-02-13T12:26:07.678Z] Received message: {"type":"execute","eventId":"lKN9bnVjG4ByVdFGRoFyy","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:26:07.678Z] Executing event lKN9bnVjG4ByVdFGRoFyy
[2022-02-13T12:26:07.678Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:26:07.818Z] Invoking handler function: "handler"
[2022-02-13T12:26:07.818Z] "Router", "request", "info", {
[2022-02-13T12:26:07.818Z]     "httpMethod": "POST",
[2022-02-13T12:26:07.818Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:26:07.819Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:26:07.819Z] }
[2022-02-13T12:26:07.819Z] "authenticating..."
[2022-02-13T12:26:07.830Z] "handler is promise, awaiting response"
[2022-02-13T12:26:07.831Z] Waiting for handler to finish...
[2022-02-13T12:26:07.840Z] Received message: {"type":"execute","eventId":"57aSZYFdt9euA9TQBKo-I","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"cc-FP8ymwMD21GTkmFIJwoFY75UGbQ\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:26:07.840Z] Executing event 57aSZYFdt9euA9TQBKo-I
[2022-02-13T12:26:07.840Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:26:07.840Z] Invoking handler function: "handler"
[2022-02-13T12:26:07.841Z] "Router", "request", "info", {
[2022-02-13T12:26:07.841Z]     "httpMethod": "GET",
[2022-02-13T12:26:07.841Z]     "resource": "/books",
[2022-02-13T12:26:07.841Z]     "path": "/books"
[2022-02-13T12:26:07.841Z] }
[2022-02-13T12:26:07.842Z] "authenticating..."
[2022-02-13T12:26:07.842Z] "handler is promise, awaiting response"
[2022-02-13T12:26:07.842Z] Waiting for handler to finish...
[2022-02-13T12:26:07.858Z] "authenticated"
[2022-02-13T12:26:07.858Z] "get books"
[2022-02-13T12:26:07.858Z] "add \"all\" option"
[2022-02-13T12:26:07.858Z] "execute"
[2022-02-13T12:26:07.865Z] "authenticated"
[2022-02-13T12:26:07.865Z] "Router", "request", "success", {
[2022-02-13T12:26:07.865Z]     "httpMethod": "POST",
[2022-02-13T12:26:07.865Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:26:07.865Z]     "path": "/auth/verify-passcode",
[2022-02-13T12:26:07.866Z]     "error": null,
[2022-02-13T12:26:07.866Z]     "result": {
[2022-02-13T12:26:07.867Z]         "isBase64Encoded": false,
[2022-02-13T12:26:07.867Z]         "statusCode": 200,
[2022-02-13T12:26:07.867Z]         "headers": {
[2022-02-13T12:26:07.867Z]             "Content-Type": "application/json"
[2022-02-13T12:26:07.867Z]         },
[2022-02-13T12:26:07.867Z]         "multiValueHeaders": {},
[2022-02-13T12:26:07.867Z]         "body": "\"OK\""
[2022-02-13T12:26:07.867Z]     }
[2022-02-13T12:26:07.867Z] }
[2022-02-13T12:26:07.867Z] "now calling callback"
[2022-02-13T12:26:07.868Z] handler called callback, sending result...
[2022-02-13T12:26:07.868Z] "Router", "request", "success", {
[2022-02-13T12:26:07.868Z]     "httpMethod": "POST",
[2022-02-13T12:26:07.868Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:26:07.869Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:26:07.869Z] }
[2022-02-13T12:26:07.869Z] "promise done, calling callback"
[2022-02-13T12:26:07.869Z] handler promise resolved, sending result...
[2022-02-13T12:26:07.880Z] "done", [
[2022-02-13T12:26:07.881Z]     {
[2022-02-13T12:26:07.881Z]         "title": "Rina findet auch Freunde",
[2022-02-13T12:26:07.881Z]         "description": "lol. nachmacher!",
[2022-02-13T12:26:07.881Z]         "slug": "rina-findet-auch-freunde"
[2022-02-13T12:26:07.881Z]     },
[2022-02-13T12:26:07.882Z]     {
[2022-02-13T12:26:07.882Z]         "title": "Jan findet freunde",
[2022-02-13T12:26:07.882Z]         "description": "Der titel sagt alles...",
[2022-02-13T12:26:07.882Z]         "slug": "jan-findet-freunde"
[2022-02-13T12:26:07.882Z]     }
[2022-02-13T12:26:07.882Z] ]
[2022-02-13T12:26:07.882Z] "Router", "request", "success", {
[2022-02-13T12:26:07.882Z]     "httpMethod": "GET",
[2022-02-13T12:26:07.882Z]     "resource": "/books",
[2022-02-13T12:26:07.882Z]     "path": "/books",
[2022-02-13T12:26:07.882Z]     "error": null,
[2022-02-13T12:26:07.882Z]     "result": {
[2022-02-13T12:26:07.882Z]         "isBase64Encoded": false,
[2022-02-13T12:26:07.883Z]         "statusCode": 200,
[2022-02-13T12:26:07.883Z]         "headers": {
[2022-02-13T12:26:07.883Z]             "Content-Type": "application/json"
[2022-02-13T12:26:07.883Z]         },
[2022-02-13T12:26:07.883Z]         "multiValueHeaders": {},
[2022-02-13T12:26:07.883Z]         "body": "[{\"title\":\"Rina findet auch Freunde\",\"description\":\"lol. nachmacher!\",\"slug\":\"rina-findet-auch-freunde\"},{\"title\":\"Jan findet freunde\",\"description\":\"Der titel sagt alles...\",\"slug\":\"jan-findet-freunde\"}]"
[2022-02-13T12:26:07.883Z]     }
[2022-02-13T12:26:07.883Z] }
[2022-02-13T12:26:07.883Z] "now calling callback"
[2022-02-13T12:26:07.883Z] handler called callback, sending result...
[2022-02-13T12:26:07.883Z] "Router", "request", "success", {
[2022-02-13T12:26:07.884Z]     "httpMethod": "GET",
[2022-02-13T12:26:07.884Z]     "resource": "/books",
[2022-02-13T12:26:07.884Z]     "path": "/books"
[2022-02-13T12:26:07.884Z] }
[2022-02-13T12:26:07.884Z] "promise done, calling callback"
[2022-02-13T12:26:07.884Z] handler promise resolved, sending result...
[2022-02-13T12:26:07.920Z] Received message: {"type":"execute","eventId":"kYdE8adZ8ysLabXPiUgrV","payload":{"event":{"isBase64Encoded":false,"path":"/books/rina-findet-auch-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"rina-findet-auch-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:26:07.920Z] Executing event kYdE8adZ8ysLabXPiUgrV
[2022-02-13T12:26:07.921Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:26:08.004Z] Invoking handler function: "handler"
[2022-02-13T12:26:08.004Z] "Router", "request", "info", {
[2022-02-13T12:26:08.005Z]     "httpMethod": "GET",
[2022-02-13T12:26:08.005Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:26:08.005Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T12:26:08.005Z] }
[2022-02-13T12:26:08.005Z] "authenticating..."
[2022-02-13T12:26:08.012Z] "handler is promise, awaiting response"
[2022-02-13T12:26:08.012Z] Waiting for handler to finish...
[2022-02-13T12:26:08.040Z] Received message: {"type":"execute","eventId":"VsTiGLoyT1_a1-MfBpL3D","payload":{"event":{"isBase64Encoded":false,"path":"/books/jan-findet-freunde/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jan-findet-freunde","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:26:08.041Z] Executing event VsTiGLoyT1_a1-MfBpL3D
[2022-02-13T12:26:08.041Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:26:08.041Z] Invoking handler function: "handler"
[2022-02-13T12:26:08.042Z] "Router", "request", "info", {
[2022-02-13T12:26:08.042Z]     "httpMethod": "GET",
[2022-02-13T12:26:08.042Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:26:08.043Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T12:26:08.043Z] }
[2022-02-13T12:26:08.043Z] "authenticating..."
[2022-02-13T12:26:08.043Z] "handler is promise, awaiting response"
[2022-02-13T12:26:08.043Z] Waiting for handler to finish...
[2022-02-13T12:26:08.043Z] "authenticated"
[2022-02-13T12:26:08.043Z] "authenticated"
[2022-02-13T12:26:08.057Z] "Router", "request", "success", {
[2022-02-13T12:26:08.057Z]     "httpMethod": "GET",
[2022-02-13T12:26:08.057Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:26:08.057Z]     "path": "/books/jan-findet-freunde/stories",
[2022-02-13T12:26:08.057Z]     "error": null,
[2022-02-13T12:26:08.058Z]     "result": {
[2022-02-13T12:26:08.058Z]         "isBase64Encoded": false,
[2022-02-13T12:26:08.058Z]         "statusCode": 200,
[2022-02-13T12:26:08.058Z]         "headers": {
[2022-02-13T12:26:08.058Z]             "Content-Type": "application/json"
[2022-02-13T12:26:08.058Z]         },
[2022-02-13T12:26:08.058Z]         "multiValueHeaders": {},
[2022-02-13T12:26:08.059Z]         "body": "[]"
[2022-02-13T12:26:08.059Z]     }
[2022-02-13T12:26:08.059Z] }
[2022-02-13T12:26:08.059Z] "now calling callback"
[2022-02-13T12:26:08.059Z] handler called callback, sending result...
[2022-02-13T12:26:08.059Z] "Router", "request", "success", {
[2022-02-13T12:26:08.059Z]     "httpMethod": "GET",
[2022-02-13T12:26:08.059Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:26:08.060Z]     "path": "/books/jan-findet-freunde/stories"
[2022-02-13T12:26:08.060Z] }
[2022-02-13T12:26:08.060Z] "promise done, calling callback"
[2022-02-13T12:26:08.060Z] handler promise resolved, sending result...
[2022-02-13T12:26:08.060Z] "Router", "request", "success", {
[2022-02-13T12:26:08.060Z]     "httpMethod": "GET",
[2022-02-13T12:26:08.060Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:26:08.060Z]     "path": "/books/rina-findet-auch-freunde/stories",
[2022-02-13T12:26:08.060Z]     "error": null,
[2022-02-13T12:26:08.060Z]     "result": {
[2022-02-13T12:26:08.061Z]         "isBase64Encoded": false,
[2022-02-13T12:26:08.061Z]         "statusCode": 200,
[2022-02-13T12:26:08.061Z]         "headers": {
[2022-02-13T12:26:08.061Z]             "Content-Type": "application/json"
[2022-02-13T12:26:08.061Z]         },
[2022-02-13T12:26:08.061Z]         "multiValueHeaders": {},
[2022-02-13T12:26:08.061Z]         "body": "[]"
[2022-02-13T12:26:08.061Z]     }
[2022-02-13T12:26:08.061Z] }
[2022-02-13T12:26:08.061Z] "now calling callback"
[2022-02-13T12:26:08.061Z] handler called callback, sending result...
[2022-02-13T12:26:08.061Z] "Router", "request", "success", {
[2022-02-13T12:26:08.062Z]     "httpMethod": "GET",
[2022-02-13T12:26:08.062Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:26:08.062Z]     "path": "/books/rina-findet-auch-freunde/stories"
[2022-02-13T12:26:08.062Z] }
[2022-02-13T12:26:08.062Z] "promise done, calling callback"
[2022-02-13T12:26:08.062Z] handler promise resolved, sending result...
[2022-02-13T12:36:57.682Z] Received message: {"type":"execute","eventId":"L3IEsscz6GJhbqyWYcTaL","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:36:57.683Z] Executing event L3IEsscz6GJhbqyWYcTaL
[2022-02-13T12:36:57.683Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:36:57.764Z] Invoking handler function: "handler"
[2022-02-13T12:36:57.764Z] "Router", "request", "info", {
[2022-02-13T12:36:57.764Z]     "httpMethod": "POST",
[2022-02-13T12:36:57.765Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:36:57.765Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:36:57.765Z] }
[2022-02-13T12:36:57.765Z] "authenticating..."
[2022-02-13T12:36:57.773Z] "handler is promise, awaiting response"
[2022-02-13T12:36:57.773Z] Waiting for handler to finish...
[2022-02-13T12:36:57.823Z] "authenticated"
[2022-02-13T12:36:57.824Z] "Router", "request", "success", {
[2022-02-13T12:36:57.824Z]     "httpMethod": "POST",
[2022-02-13T12:36:57.824Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:36:57.824Z]     "path": "/auth/verify-passcode",
[2022-02-13T12:36:57.824Z]     "error": null,
[2022-02-13T12:36:57.825Z]     "result": {
[2022-02-13T12:36:57.825Z]         "isBase64Encoded": false,
[2022-02-13T12:36:57.825Z]         "statusCode": 200,
[2022-02-13T12:36:57.825Z]         "headers": {
[2022-02-13T12:36:57.825Z]             "Content-Type": "application/json"
[2022-02-13T12:36:57.825Z]         },
[2022-02-13T12:36:57.825Z]         "multiValueHeaders": {},
[2022-02-13T12:36:57.825Z]         "body": "\"OK\""
[2022-02-13T12:36:57.826Z]     }
[2022-02-13T12:36:57.826Z] }
[2022-02-13T12:36:57.826Z] "now calling callback"
[2022-02-13T12:36:57.826Z] handler called callback, sending result...
[2022-02-13T12:36:57.827Z] "Router", "request", "success", {
[2022-02-13T12:36:57.827Z]     "httpMethod": "POST",
[2022-02-13T12:36:57.827Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:36:57.827Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:36:57.827Z] }
[2022-02-13T12:36:57.827Z] "promise done, calling callback"
[2022-02-13T12:36:57.827Z] handler promise resolved, sending result...
[2022-02-13T12:36:57.885Z] Received message: {"type":"execute","eventId":"onDPqXTKsRSnFA-hWVCA2","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"cc-FP8ymwMD21GTkmFIJwoFY75UGbQ\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:36:57.886Z] Executing event onDPqXTKsRSnFA-hWVCA2
[2022-02-13T12:36:57.886Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:36:57.963Z] Invoking handler function: "handler"
[2022-02-13T12:36:57.963Z] "Router", "request", "info", {
[2022-02-13T12:36:57.963Z]     "httpMethod": "GET",
[2022-02-13T12:36:57.963Z]     "resource": "/books",
[2022-02-13T12:36:57.963Z]     "path": "/books"
[2022-02-13T12:36:57.963Z] }
[2022-02-13T12:36:57.964Z] "authenticating..."
[2022-02-13T12:36:57.969Z] "handler is promise, awaiting response"
[2022-02-13T12:36:57.969Z] Waiting for handler to finish...
[2022-02-13T12:36:58.029Z] "authenticated"
[2022-02-13T12:36:58.029Z] "get books"
[2022-02-13T12:36:58.029Z] "add \"all\" option"
[2022-02-13T12:36:58.029Z] "execute"
[2022-02-13T12:36:58.054Z] "done", []
[2022-02-13T12:36:58.055Z] "Router", "request", "success", {
[2022-02-13T12:36:58.055Z]     "httpMethod": "GET",
[2022-02-13T12:36:58.055Z]     "resource": "/books",
[2022-02-13T12:36:58.055Z]     "path": "/books",
[2022-02-13T12:36:58.055Z]     "error": null,
[2022-02-13T12:36:58.055Z]     "result": {
[2022-02-13T12:36:58.055Z]         "isBase64Encoded": false,
[2022-02-13T12:36:58.055Z]         "statusCode": 200,
[2022-02-13T12:36:58.056Z]         "headers": {
[2022-02-13T12:36:58.056Z]             "Content-Type": "application/json"
[2022-02-13T12:36:58.056Z]         },
[2022-02-13T12:36:58.056Z]         "multiValueHeaders": {},
[2022-02-13T12:36:58.056Z]         "body": "[]"
[2022-02-13T12:36:58.056Z]     }
[2022-02-13T12:36:58.056Z] }
[2022-02-13T12:36:58.056Z] "now calling callback"
[2022-02-13T12:36:58.056Z] handler called callback, sending result...
[2022-02-13T12:36:58.057Z] "Router", "request", "success", {
[2022-02-13T12:36:58.057Z]     "httpMethod": "GET",
[2022-02-13T12:36:58.057Z]     "resource": "/books",
[2022-02-13T12:36:58.057Z]     "path": "/books"
[2022-02-13T12:36:58.057Z] }
[2022-02-13T12:36:58.057Z] "promise done, calling callback"
[2022-02-13T12:36:58.057Z] handler promise resolved, sending result...
[2022-02-13T12:37:06.346Z] Received message: {"type":"execute","eventId":"KqngXhVYEqz0n3MrLD1Tt","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"38","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"{\"title\":\"Jans Buch\",\"description\":\"\"}","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:37:06.347Z] Executing event KqngXhVYEqz0n3MrLD1Tt
[2022-02-13T12:37:06.347Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:37:06.436Z] Invoking handler function: "handler"
[2022-02-13T12:37:06.436Z] "Router", "request", "info", {
[2022-02-13T12:37:06.437Z]     "httpMethod": "POST",
[2022-02-13T12:37:06.438Z]     "resource": "/books",
[2022-02-13T12:37:06.438Z]     "path": "/books"
[2022-02-13T12:37:06.438Z] }
[2022-02-13T12:37:06.438Z] "authenticating..."
[2022-02-13T12:37:06.443Z] "handler is promise, awaiting response"
[2022-02-13T12:37:06.444Z] Waiting for handler to finish...
[2022-02-13T12:37:06.481Z] "authenticated"
[2022-02-13T12:37:06.574Z] "Router", "request", "success", {
[2022-02-13T12:37:06.574Z]     "httpMethod": "POST",
[2022-02-13T12:37:06.574Z]     "resource": "/books",
[2022-02-13T12:37:06.574Z]     "path": "/books",
[2022-02-13T12:37:06.575Z]     "error": null,
[2022-02-13T12:37:06.575Z]     "result": {
[2022-02-13T12:37:06.575Z]         "isBase64Encoded": false,
[2022-02-13T12:37:06.575Z]         "statusCode": 200,
[2022-02-13T12:37:06.575Z]         "headers": {
[2022-02-13T12:37:06.575Z]             "Content-Type": "application/json"
[2022-02-13T12:37:06.575Z]         },
[2022-02-13T12:37:06.575Z]         "multiValueHeaders": {},
[2022-02-13T12:37:06.575Z]         "body": "{\"title\":\"Jans Buch\",\"description\":\"\",\"slug\":\"jans-buch\"}"
[2022-02-13T12:37:06.575Z]     }
[2022-02-13T12:37:06.575Z] }
[2022-02-13T12:37:06.575Z] "now calling callback"
[2022-02-13T12:37:06.576Z] handler called callback, sending result...
[2022-02-13T12:37:06.576Z] "Router", "request", "success", {
[2022-02-13T12:37:06.576Z]     "httpMethod": "POST",
[2022-02-13T12:37:06.576Z]     "resource": "/books",
[2022-02-13T12:37:06.577Z]     "path": "/books"
[2022-02-13T12:37:06.577Z] }
[2022-02-13T12:37:06.577Z] "promise done, calling callback"
[2022-02-13T12:37:06.577Z] handler promise resolved, sending result...
[2022-02-13T12:39:05.222Z] Received message: {"type":"execute","eventId":"fcghOAZfVq-n8b-aewEAN","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:39:05.222Z] Executing event fcghOAZfVq-n8b-aewEAN
[2022-02-13T12:39:05.223Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:39:05.357Z] Invoking handler function: "handler"
[2022-02-13T12:39:05.357Z] "Router", "request", "info", {
[2022-02-13T12:39:05.358Z]     "httpMethod": "POST",
[2022-02-13T12:39:05.358Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:39:05.358Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:39:05.358Z] }
[2022-02-13T12:39:05.358Z] "authenticating..."
[2022-02-13T12:39:05.365Z] "handler is promise, awaiting response"
[2022-02-13T12:39:05.365Z] Waiting for handler to finish...
[2022-02-13T12:39:05.366Z] Received message: {"type":"execute","eventId":"QoQI94GNbbCmkJ0_Yvnzx","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:39:05.366Z] Executing event QoQI94GNbbCmkJ0_Yvnzx
[2022-02-13T12:39:05.366Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:39:05.366Z] Invoking handler function: "handler"
[2022-02-13T12:39:05.366Z] "Router", "request", "info", {
[2022-02-13T12:39:05.366Z]     "httpMethod": "GET",
[2022-02-13T12:39:05.367Z]     "resource": "/books",
[2022-02-13T12:39:05.367Z]     "path": "/books"
[2022-02-13T12:39:05.367Z] }
[2022-02-13T12:39:05.367Z] "authenticating..."
[2022-02-13T12:39:05.367Z] "handler is promise, awaiting response"
[2022-02-13T12:39:05.367Z] Waiting for handler to finish...
[2022-02-13T12:39:05.437Z] "authenticated"
[2022-02-13T12:39:05.438Z] "Router", "request", "success", {
[2022-02-13T12:39:05.438Z]     "httpMethod": "POST",
[2022-02-13T12:39:05.438Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:39:05.438Z]     "path": "/auth/verify-passcode",
[2022-02-13T12:39:05.438Z]     "error": null,
[2022-02-13T12:39:05.438Z]     "result": {
[2022-02-13T12:39:05.439Z]         "isBase64Encoded": false,
[2022-02-13T12:39:05.439Z]         "statusCode": 200,
[2022-02-13T12:39:05.439Z]         "headers": {
[2022-02-13T12:39:05.439Z]             "Content-Type": "application/json"
[2022-02-13T12:39:05.439Z]         },
[2022-02-13T12:39:05.439Z]         "multiValueHeaders": {},
[2022-02-13T12:39:05.439Z]         "body": "\"OK\""
[2022-02-13T12:39:05.439Z]     }
[2022-02-13T12:39:05.439Z] }
[2022-02-13T12:39:05.439Z] "now calling callback"
[2022-02-13T12:39:05.440Z] handler called callback, sending result...
[2022-02-13T12:39:05.440Z] "Router", "request", "success", {
[2022-02-13T12:39:05.440Z]     "httpMethod": "POST",
[2022-02-13T12:39:05.440Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:39:05.440Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:39:05.440Z] }
[2022-02-13T12:39:05.441Z] "promise done, calling callback"
[2022-02-13T12:39:05.441Z] handler promise resolved, sending result...
[2022-02-13T12:39:05.456Z] "authenticated"
[2022-02-13T12:39:05.456Z] "get books"
[2022-02-13T12:39:05.456Z] "add \"all\" option"
[2022-02-13T12:39:05.456Z] "execute"
[2022-02-13T12:39:05.469Z] "done", [
[2022-02-13T12:39:05.470Z]     {
[2022-02-13T12:39:05.470Z]         "title": "Jans Buch",
[2022-02-13T12:39:05.470Z]         "description": "",
[2022-02-13T12:39:05.470Z]         "slug": "jans-buch"
[2022-02-13T12:39:05.470Z]     }
[2022-02-13T12:39:05.470Z] ]
[2022-02-13T12:39:05.471Z] "Router", "request", "success", {
[2022-02-13T12:39:05.471Z]     "httpMethod": "GET",
[2022-02-13T12:39:05.471Z]     "resource": "/books",
[2022-02-13T12:39:05.471Z]     "path": "/books",
[2022-02-13T12:39:05.471Z]     "error": null,
[2022-02-13T12:39:05.471Z]     "result": {
[2022-02-13T12:39:05.472Z]         "isBase64Encoded": false,
[2022-02-13T12:39:05.472Z]         "statusCode": 200,
[2022-02-13T12:39:05.472Z]         "headers": {
[2022-02-13T12:39:05.472Z]             "Content-Type": "application/json"
[2022-02-13T12:39:05.472Z]         },
[2022-02-13T12:39:05.472Z]         "multiValueHeaders": {},
[2022-02-13T12:39:05.472Z]         "body": "[{\"title\":\"Jans Buch\",\"description\":\"\",\"slug\":\"jans-buch\"}]"
[2022-02-13T12:39:05.472Z]     }
[2022-02-13T12:39:05.472Z] }
[2022-02-13T12:39:05.472Z] "now calling callback"
[2022-02-13T12:39:05.472Z] handler called callback, sending result...
[2022-02-13T12:39:05.473Z] "Router", "request", "success", {
[2022-02-13T12:39:05.473Z]     "httpMethod": "GET",
[2022-02-13T12:39:05.473Z]     "resource": "/books",
[2022-02-13T12:39:05.474Z]     "path": "/books"
[2022-02-13T12:39:05.474Z] }
[2022-02-13T12:39:05.474Z] "promise done, calling callback"
[2022-02-13T12:39:05.474Z] handler promise resolved, sending result...
[2022-02-13T12:39:05.512Z] Received message: {"type":"execute","eventId":"t6V0K2Doc_rI71OipyzQL","payload":{"event":{"isBase64Encoded":false,"path":"/books/jans-buch/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jans-buch","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:39:05.512Z] Executing event t6V0K2Doc_rI71OipyzQL
[2022-02-13T12:39:05.512Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:39:05.596Z] Invoking handler function: "handler"
[2022-02-13T12:39:05.596Z] "Router", "request", "info", {
[2022-02-13T12:39:05.596Z]     "httpMethod": "GET",
[2022-02-13T12:39:05.596Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:39:05.596Z]     "path": "/books/jans-buch/stories"
[2022-02-13T12:39:05.597Z] }
[2022-02-13T12:39:05.597Z] "authenticating..."
[2022-02-13T12:39:05.603Z] "handler is promise, awaiting response"
[2022-02-13T12:39:05.603Z] Waiting for handler to finish...
[2022-02-13T12:39:05.622Z] "authenticated"
[2022-02-13T12:39:05.640Z] "Router", "request", "success", {
[2022-02-13T12:39:05.641Z]     "httpMethod": "GET",
[2022-02-13T12:39:05.641Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:39:05.641Z]     "path": "/books/jans-buch/stories",
[2022-02-13T12:39:05.642Z]     "error": null,
[2022-02-13T12:39:05.642Z]     "result": {
[2022-02-13T12:39:05.642Z]         "isBase64Encoded": false,
[2022-02-13T12:39:05.642Z]         "statusCode": 200,
[2022-02-13T12:39:05.642Z]         "headers": {
[2022-02-13T12:39:05.642Z]             "Content-Type": "application/json"
[2022-02-13T12:39:05.642Z]         },
[2022-02-13T12:39:05.642Z]         "multiValueHeaders": {},
[2022-02-13T12:39:05.642Z]         "body": "[]"
[2022-02-13T12:39:05.656Z]     }
[2022-02-13T12:39:05.656Z] }
[2022-02-13T12:39:05.656Z] "now calling callback"
[2022-02-13T12:39:05.656Z] handler called callback, sending result...
[2022-02-13T12:39:05.657Z] "Router", "request", "success", {
[2022-02-13T12:39:05.657Z]     "httpMethod": "GET",
[2022-02-13T12:39:05.657Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:39:05.657Z]     "path": "/books/jans-buch/stories"
[2022-02-13T12:39:05.657Z] }
[2022-02-13T12:39:05.657Z] "promise done, calling callback"
[2022-02-13T12:39:05.657Z] handler promise resolved, sending result...
[2022-02-13T12:39:11.939Z] Received message: {"type":"execute","eventId":"MTyM4YOjeMAx6ZvqSNDGM","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:39:11.939Z] Executing event MTyM4YOjeMAx6ZvqSNDGM
[2022-02-13T12:39:11.939Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:39:12.026Z] Invoking handler function: "handler"
[2022-02-13T12:39:12.026Z] "Router", "request", "info", {
[2022-02-13T12:39:12.026Z]     "httpMethod": "POST",
[2022-02-13T12:39:12.026Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:39:12.026Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:39:12.026Z] }
[2022-02-13T12:39:12.027Z] "authenticating..."
[2022-02-13T12:39:12.033Z] "handler is promise, awaiting response"
[2022-02-13T12:39:12.033Z] Waiting for handler to finish...
[2022-02-13T12:39:12.071Z] "authenticated"
[2022-02-13T12:39:12.072Z] "Router", "request", "success", {
[2022-02-13T12:39:12.072Z]     "httpMethod": "POST",
[2022-02-13T12:39:12.072Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:39:12.072Z]     "path": "/auth/verify-passcode",
[2022-02-13T12:39:12.091Z]     "error": null,
[2022-02-13T12:39:12.091Z]     "result": {
[2022-02-13T12:39:12.091Z]         "isBase64Encoded": false,
[2022-02-13T12:39:12.092Z]         "statusCode": 200,
[2022-02-13T12:39:12.092Z]         "headers": {
[2022-02-13T12:39:12.092Z]             "Content-Type": "application/json"
[2022-02-13T12:39:12.092Z]         },
[2022-02-13T12:39:12.092Z]         "multiValueHeaders": {},
[2022-02-13T12:39:12.092Z]         "body": "\"OK\""
[2022-02-13T12:39:12.092Z]     }
[2022-02-13T12:39:12.093Z] }
[2022-02-13T12:39:12.093Z] "now calling callback"
[2022-02-13T12:39:12.093Z] handler called callback, sending result...
[2022-02-13T12:39:12.093Z] "Router", "request", "success", {
[2022-02-13T12:39:12.093Z]     "httpMethod": "POST",
[2022-02-13T12:39:12.093Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:39:12.093Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:39:12.093Z] }
[2022-02-13T12:39:12.093Z] "promise done, calling callback"
[2022-02-13T12:39:12.093Z] handler promise resolved, sending result...
[2022-02-13T12:39:12.147Z] Received message: {"type":"execute","eventId":"ISsV_ASnVJEk_KOJ_N4bD","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"3b-1eJo6HcOjMQEJaaQGiINse/Xl0A\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:39:12.147Z] Executing event ISsV_ASnVJEk_KOJ_N4bD
[2022-02-13T12:39:12.147Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:39:12.230Z] Invoking handler function: "handler"
[2022-02-13T12:39:12.231Z] "Router", "request", "info", {
[2022-02-13T12:39:12.231Z]     "httpMethod": "GET",
[2022-02-13T12:39:12.231Z]     "resource": "/books",
[2022-02-13T12:39:12.231Z]     "path": "/books"
[2022-02-13T12:39:12.231Z] }
[2022-02-13T12:39:12.231Z] "authenticating..."
[2022-02-13T12:39:12.238Z] "handler is promise, awaiting response"
[2022-02-13T12:39:12.239Z] Waiting for handler to finish...
[2022-02-13T12:39:12.275Z] "authenticated"
[2022-02-13T12:39:12.275Z] "get books"
[2022-02-13T12:39:12.275Z] "add \"all\" option"
[2022-02-13T12:39:12.275Z] "execute"
[2022-02-13T12:39:12.284Z] "done", [
[2022-02-13T12:39:12.284Z]     {
[2022-02-13T12:39:12.284Z]         "title": "Jans Buch",
[2022-02-13T12:39:12.284Z]         "description": "",
[2022-02-13T12:39:12.285Z]         "slug": "jans-buch"
[2022-02-13T12:39:12.285Z]     }
[2022-02-13T12:39:12.285Z] ]
[2022-02-13T12:39:12.285Z] "Router", "request", "success", {
[2022-02-13T12:39:12.285Z]     "httpMethod": "GET",
[2022-02-13T12:39:12.285Z]     "resource": "/books",
[2022-02-13T12:39:12.286Z]     "path": "/books",
[2022-02-13T12:39:12.286Z]     "error": null,
[2022-02-13T12:39:12.286Z]     "result": {
[2022-02-13T12:39:12.286Z]         "isBase64Encoded": false,
[2022-02-13T12:39:12.286Z]         "statusCode": 200,
[2022-02-13T12:39:12.286Z]         "headers": {
[2022-02-13T12:39:12.286Z]             "Content-Type": "application/json"
[2022-02-13T12:39:12.286Z]         },
[2022-02-13T12:39:12.286Z]         "multiValueHeaders": {},
[2022-02-13T12:39:12.286Z]         "body": "[{\"title\":\"Jans Buch\",\"description\":\"\",\"slug\":\"jans-buch\"}]"
[2022-02-13T12:39:12.286Z]     }
[2022-02-13T12:39:12.286Z] }
[2022-02-13T12:39:12.287Z] "now calling callback"
[2022-02-13T12:39:12.287Z] handler called callback, sending result...
[2022-02-13T12:39:12.287Z] "Router", "request", "success", {
[2022-02-13T12:39:12.287Z]     "httpMethod": "GET",
[2022-02-13T12:39:12.287Z]     "resource": "/books",
[2022-02-13T12:39:12.287Z]     "path": "/books"
[2022-02-13T12:39:12.287Z] }
[2022-02-13T12:39:12.287Z] "promise done, calling callback"
[2022-02-13T12:39:12.287Z] handler promise resolved, sending result...
[2022-02-13T12:39:12.319Z] Received message: {"type":"execute","eventId":"qHxGp4HQnb2WzxA9I31_J","payload":{"event":{"isBase64Encoded":false,"path":"/books/jans-buch/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jans-buch","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:39:12.319Z] Executing event qHxGp4HQnb2WzxA9I31_J
[2022-02-13T12:39:12.319Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:39:12.396Z] Invoking handler function: "handler"
[2022-02-13T12:39:12.396Z] "Router", "request", "info", {
[2022-02-13T12:39:12.397Z]     "httpMethod": "GET",
[2022-02-13T12:39:12.397Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:39:12.397Z]     "path": "/books/jans-buch/stories"
[2022-02-13T12:39:12.397Z] }
[2022-02-13T12:39:12.397Z] "authenticating..."
[2022-02-13T12:39:12.404Z] "handler is promise, awaiting response"
[2022-02-13T12:39:12.404Z] Waiting for handler to finish...
[2022-02-13T12:39:12.451Z] "authenticated"
[2022-02-13T12:39:12.460Z] "Router", "request", "success", {
[2022-02-13T12:39:12.460Z]     "httpMethod": "GET",
[2022-02-13T12:39:12.460Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:39:12.460Z]     "path": "/books/jans-buch/stories",
[2022-02-13T12:39:12.460Z]     "error": null,
[2022-02-13T12:39:12.460Z]     "result": {
[2022-02-13T12:39:12.460Z]         "isBase64Encoded": false,
[2022-02-13T12:39:12.460Z]         "statusCode": 200,
[2022-02-13T12:39:12.461Z]         "headers": {
[2022-02-13T12:39:12.461Z]             "Content-Type": "application/json"
[2022-02-13T12:39:12.461Z]         },
[2022-02-13T12:39:12.461Z]         "multiValueHeaders": {},
[2022-02-13T12:39:12.461Z]         "body": "[]"
[2022-02-13T12:39:12.461Z]     }
[2022-02-13T12:39:12.461Z] }
[2022-02-13T12:39:12.461Z] "now calling callback"
[2022-02-13T12:39:12.461Z] handler called callback, sending result...
[2022-02-13T12:39:12.462Z] "Router", "request", "success", {
[2022-02-13T12:39:12.462Z]     "httpMethod": "GET",
[2022-02-13T12:39:12.462Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:39:12.462Z]     "path": "/books/jans-buch/stories"
[2022-02-13T12:39:12.462Z] }
[2022-02-13T12:39:12.462Z] "promise done, calling callback"
[2022-02-13T12:39:12.462Z] handler promise resolved, sending result...
[2022-02-13T12:39:17.447Z] Received message: {"type":"execute","eventId":"W5EIPaF6aCEX11_XdNB5R","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"39","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"{\"title\":\"Rinas Buch\",\"description\":\"\"}","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:39:17.448Z] Executing event W5EIPaF6aCEX11_XdNB5R
[2022-02-13T12:39:17.448Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:39:17.532Z] Invoking handler function: "handler"
[2022-02-13T12:39:17.532Z] "Router", "request", "info", {
[2022-02-13T12:39:17.532Z]     "httpMethod": "POST",
[2022-02-13T12:39:17.532Z]     "resource": "/books",
[2022-02-13T12:39:17.532Z]     "path": "/books"
[2022-02-13T12:39:17.533Z] }
[2022-02-13T12:39:17.533Z] "authenticating..."
[2022-02-13T12:39:17.539Z] "handler is promise, awaiting response"
[2022-02-13T12:39:17.539Z] Waiting for handler to finish...
[2022-02-13T12:39:17.579Z] "authenticated"
[2022-02-13T12:39:17.638Z] "Router", "request", "success", {
[2022-02-13T12:39:17.656Z]     "httpMethod": "POST",
[2022-02-13T12:39:17.656Z]     "resource": "/books",
[2022-02-13T12:39:17.656Z]     "path": "/books",
[2022-02-13T12:39:17.656Z]     "error": null,
[2022-02-13T12:39:17.656Z]     "result": {
[2022-02-13T12:39:17.657Z]         "isBase64Encoded": false,
[2022-02-13T12:39:17.657Z]         "statusCode": 200,
[2022-02-13T12:39:17.657Z]         "headers": {
[2022-02-13T12:39:17.657Z]             "Content-Type": "application/json"
[2022-02-13T12:39:17.657Z]         },
[2022-02-13T12:39:17.657Z]         "multiValueHeaders": {},
[2022-02-13T12:39:17.657Z]         "body": "{\"title\":\"Rinas Buch\",\"description\":\"\",\"slug\":\"rinas-buch\"}"
[2022-02-13T12:39:17.657Z]     }
[2022-02-13T12:39:17.658Z] }
[2022-02-13T12:39:17.658Z] "now calling callback"
[2022-02-13T12:39:17.658Z] handler called callback, sending result...
[2022-02-13T12:39:17.658Z] "Router", "request", "success", {
[2022-02-13T12:39:17.658Z]     "httpMethod": "POST",
[2022-02-13T12:39:17.658Z]     "resource": "/books",
[2022-02-13T12:39:17.659Z]     "path": "/books"
[2022-02-13T12:39:17.659Z] }
[2022-02-13T12:39:17.659Z] "promise done, calling callback"
[2022-02-13T12:39:17.659Z] handler promise resolved, sending result...
[2022-02-13T12:40:23.711Z] Received message: {"type":"execute","eventId":"hZvrp1wi8r87yXfrwdjJ_","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:40:23.711Z] Executing event hZvrp1wi8r87yXfrwdjJ_
[2022-02-13T12:40:23.711Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:40:23.847Z] Invoking handler function: "handler"
[2022-02-13T12:40:23.848Z] "Router", "request", "info", {
[2022-02-13T12:40:23.848Z]     "httpMethod": "POST",
[2022-02-13T12:40:23.848Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:40:23.848Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:40:23.848Z] }
[2022-02-13T12:40:23.848Z] "authenticating..."
[2022-02-13T12:40:23.855Z] "handler is promise, awaiting response"
[2022-02-13T12:40:23.856Z] Waiting for handler to finish...
[2022-02-13T12:40:23.856Z] Received message: {"type":"execute","eventId":"qayVpG9VbzD2Q9kMbtVLq","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:40:23.856Z] Executing event qayVpG9VbzD2Q9kMbtVLq
[2022-02-13T12:40:23.856Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:40:23.857Z] Invoking handler function: "handler"
[2022-02-13T12:40:23.857Z] "Router", "request", "info", {
[2022-02-13T12:40:23.857Z]     "httpMethod": "GET",
[2022-02-13T12:40:23.857Z]     "resource": "/books",
[2022-02-13T12:40:23.858Z]     "path": "/books"
[2022-02-13T12:40:23.858Z] }
[2022-02-13T12:40:23.858Z] "authenticating..."
[2022-02-13T12:40:23.858Z] "handler is promise, awaiting response"
[2022-02-13T12:40:23.858Z] Waiting for handler to finish...
[2022-02-13T12:40:23.895Z] "authenticated"
[2022-02-13T12:40:23.895Z] "get books"
[2022-02-13T12:40:23.895Z] "add \"all\" option"
[2022-02-13T12:40:23.895Z] "execute"
[2022-02-13T12:40:23.910Z] "done", [
[2022-02-13T12:40:23.911Z]     {
[2022-02-13T12:40:23.911Z]         "title": "Rinas Buch",
[2022-02-13T12:40:23.911Z]         "description": "",
[2022-02-13T12:40:23.911Z]         "slug": "rinas-buch"
[2022-02-13T12:40:23.911Z]     },
[2022-02-13T12:40:23.912Z]     {
[2022-02-13T12:40:23.912Z]         "title": "Jans Buch",
[2022-02-13T12:40:23.912Z]         "description": "",
[2022-02-13T12:40:23.912Z]         "slug": "jans-buch"
[2022-02-13T12:40:23.912Z]     }
[2022-02-13T12:40:23.912Z] ]
[2022-02-13T12:40:23.912Z] "Router", "request", "success", {
[2022-02-13T12:40:23.912Z]     "httpMethod": "GET",
[2022-02-13T12:40:23.912Z]     "resource": "/books",
[2022-02-13T12:40:23.912Z]     "path": "/books",
[2022-02-13T12:40:23.913Z]     "error": null,
[2022-02-13T12:40:23.913Z]     "result": {
[2022-02-13T12:40:23.913Z]         "isBase64Encoded": false,
[2022-02-13T12:40:23.913Z]         "statusCode": 200,
[2022-02-13T12:40:23.913Z]         "headers": {
[2022-02-13T12:40:23.913Z]             "Content-Type": "application/json"
[2022-02-13T12:40:23.913Z]         },
[2022-02-13T12:40:23.913Z]         "multiValueHeaders": {},
[2022-02-13T12:40:23.914Z]         "body": "[{\"title\":\"Rinas Buch\",\"description\":\"\",\"slug\":\"rinas-buch\"},{\"title\":\"Jans Buch\",\"description\":\"\",\"slug\":\"jans-buch\"}]"
[2022-02-13T12:40:23.914Z]     }
[2022-02-13T12:40:23.914Z] }
[2022-02-13T12:40:23.914Z] "now calling callback"
[2022-02-13T12:40:23.914Z] handler called callback, sending result...
[2022-02-13T12:40:23.915Z] "Router", "request", "success", {
[2022-02-13T12:40:23.915Z]     "httpMethod": "GET",
[2022-02-13T12:40:23.915Z]     "resource": "/books",
[2022-02-13T12:40:23.915Z]     "path": "/books"
[2022-02-13T12:40:23.915Z] }
[2022-02-13T12:40:23.915Z] "promise done, calling callback"
[2022-02-13T12:40:23.915Z] handler promise resolved, sending result...
[2022-02-13T12:40:23.916Z] "authenticated"
[2022-02-13T12:40:23.916Z] "Router", "request", "success", {
[2022-02-13T12:40:23.916Z]     "httpMethod": "POST",
[2022-02-13T12:40:23.916Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:40:23.917Z]     "path": "/auth/verify-passcode",
[2022-02-13T12:40:23.917Z]     "error": null,
[2022-02-13T12:40:23.917Z]     "result": {
[2022-02-13T12:40:23.917Z]         "isBase64Encoded": false,
[2022-02-13T12:40:23.917Z]         "statusCode": 200,
[2022-02-13T12:40:23.917Z]         "headers": {
[2022-02-13T12:40:23.917Z]             "Content-Type": "application/json"
[2022-02-13T12:40:23.917Z]         },
[2022-02-13T12:40:23.917Z]         "multiValueHeaders": {},
[2022-02-13T12:40:23.917Z]         "body": "\"OK\""
[2022-02-13T12:40:23.917Z]     }
[2022-02-13T12:40:23.918Z] }
[2022-02-13T12:40:23.918Z] "now calling callback"
[2022-02-13T12:40:23.918Z] handler called callback, sending result...
[2022-02-13T12:40:23.918Z] "Router", "request", "success", {
[2022-02-13T12:40:23.918Z]     "httpMethod": "POST",
[2022-02-13T12:40:23.919Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:40:23.919Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:40:23.919Z] }
[2022-02-13T12:40:23.919Z] "promise done, calling callback"
[2022-02-13T12:40:23.919Z] handler promise resolved, sending result...
[2022-02-13T12:40:23.954Z] Received message: {"type":"execute","eventId":"pOt3GluDXCglFy6YzjUU1","payload":{"event":{"isBase64Encoded":false,"path":"/books/rinas-buch/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"rinas-buch","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:40:23.955Z] Executing event pOt3GluDXCglFy6YzjUU1
[2022-02-13T12:40:23.955Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:40:24.041Z] Invoking handler function: "handler"
[2022-02-13T12:40:24.041Z] "Router", "request", "info", {
[2022-02-13T12:40:24.041Z]     "httpMethod": "GET",
[2022-02-13T12:40:24.041Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:40:24.041Z]     "path": "/books/rinas-buch/stories"
[2022-02-13T12:40:24.042Z] }
[2022-02-13T12:40:24.042Z] "authenticating..."
[2022-02-13T12:40:24.049Z] "handler is promise, awaiting response"
[2022-02-13T12:40:24.049Z] Waiting for handler to finish...
[2022-02-13T12:40:24.049Z] Received message: {"type":"execute","eventId":"F1aogyO8K8VjFWZ22weV9","payload":{"event":{"isBase64Encoded":false,"path":"/books/jans-buch/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jans-buch","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:40:24.049Z] Executing event F1aogyO8K8VjFWZ22weV9
[2022-02-13T12:40:24.050Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:40:24.050Z] Invoking handler function: "handler"
[2022-02-13T12:40:24.050Z] "Router", "request", "info", {
[2022-02-13T12:40:24.050Z]     "httpMethod": "GET",
[2022-02-13T12:40:24.050Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:40:24.051Z]     "path": "/books/jans-buch/stories"
[2022-02-13T12:40:24.051Z] }
[2022-02-13T12:40:24.051Z] "authenticating..."
[2022-02-13T12:40:24.051Z] "handler is promise, awaiting response"
[2022-02-13T12:40:24.051Z] Waiting for handler to finish...
[2022-02-13T12:40:24.080Z] "authenticated"
[2022-02-13T12:40:24.090Z] "Router", "request", "success", {
[2022-02-13T12:40:24.090Z]     "httpMethod": "GET",
[2022-02-13T12:40:24.090Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:40:24.090Z]     "path": "/books/rinas-buch/stories",
[2022-02-13T12:40:24.090Z]     "error": null,
[2022-02-13T12:40:24.090Z]     "result": {
[2022-02-13T12:40:24.091Z]         "isBase64Encoded": false,
[2022-02-13T12:40:24.091Z]         "statusCode": 200,
[2022-02-13T12:40:24.091Z]         "headers": {
[2022-02-13T12:40:24.091Z]             "Content-Type": "application/json"
[2022-02-13T12:40:24.091Z]         },
[2022-02-13T12:40:24.091Z]         "multiValueHeaders": {},
[2022-02-13T12:40:24.091Z]         "body": "[]"
[2022-02-13T12:40:24.091Z]     }
[2022-02-13T12:40:24.091Z] }
[2022-02-13T12:40:24.091Z] "now calling callback"
[2022-02-13T12:40:24.092Z] handler called callback, sending result...
[2022-02-13T12:40:24.092Z] "Router", "request", "success", {
[2022-02-13T12:40:24.092Z]     "httpMethod": "GET",
[2022-02-13T12:40:24.092Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:40:24.092Z]     "path": "/books/rinas-buch/stories"
[2022-02-13T12:40:24.092Z] }
[2022-02-13T12:40:24.092Z] "promise done, calling callback"
[2022-02-13T12:40:24.092Z] handler promise resolved, sending result...
[2022-02-13T12:40:24.099Z] "authenticated"
[2022-02-13T12:40:24.107Z] "Router", "request", "success", {
[2022-02-13T12:40:24.108Z]     "httpMethod": "GET",
[2022-02-13T12:40:24.108Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:40:24.108Z]     "path": "/books/jans-buch/stories",
[2022-02-13T12:40:24.108Z]     "error": null,
[2022-02-13T12:40:24.108Z]     "result": {
[2022-02-13T12:40:24.108Z]         "isBase64Encoded": false,
[2022-02-13T12:40:24.108Z]         "statusCode": 200,
[2022-02-13T12:40:24.108Z]         "headers": {
[2022-02-13T12:40:24.108Z]             "Content-Type": "application/json"
[2022-02-13T12:40:24.109Z]         },
[2022-02-13T12:40:24.109Z]         "multiValueHeaders": {},
[2022-02-13T12:40:24.109Z]         "body": "[]"
[2022-02-13T12:40:24.109Z]     }
[2022-02-13T12:40:24.109Z] }
[2022-02-13T12:40:24.109Z] "now calling callback"
[2022-02-13T12:40:24.109Z] handler called callback, sending result...
[2022-02-13T12:40:24.110Z] "Router", "request", "success", {
[2022-02-13T12:40:24.110Z]     "httpMethod": "GET",
[2022-02-13T12:40:24.110Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:40:24.110Z]     "path": "/books/jans-buch/stories"
[2022-02-13T12:40:24.110Z] }
[2022-02-13T12:40:24.110Z] "promise done, calling callback"
[2022-02-13T12:40:24.110Z] handler promise resolved, sending result...
[2022-02-13T12:40:26.755Z] Received message: {"type":"execute","eventId":"Q36nMDEeK5JYlMbz23gJu","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:40:26.755Z] Executing event Q36nMDEeK5JYlMbz23gJu
[2022-02-13T12:40:26.755Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:40:26.844Z] Invoking handler function: "handler"
[2022-02-13T12:40:26.845Z] "Router", "request", "info", {
[2022-02-13T12:40:26.845Z]     "httpMethod": "POST",
[2022-02-13T12:40:26.845Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:40:26.845Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:40:26.845Z] }
[2022-02-13T12:40:26.845Z] "authenticating..."
[2022-02-13T12:40:26.852Z] "handler is promise, awaiting response"
[2022-02-13T12:40:26.852Z] Waiting for handler to finish...
[2022-02-13T12:40:26.906Z] "authenticated"
[2022-02-13T12:40:26.907Z] "Router", "request", "success", {
[2022-02-13T12:40:26.907Z]     "httpMethod": "POST",
[2022-02-13T12:40:26.907Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:40:26.907Z]     "path": "/auth/verify-passcode",
[2022-02-13T12:40:26.907Z]     "error": null,
[2022-02-13T12:40:26.907Z]     "result": {
[2022-02-13T12:40:26.907Z]         "isBase64Encoded": false,
[2022-02-13T12:40:26.907Z]         "statusCode": 200,
[2022-02-13T12:40:26.907Z]         "headers": {
[2022-02-13T12:40:26.907Z]             "Content-Type": "application/json"
[2022-02-13T12:40:26.907Z]         },
[2022-02-13T12:40:26.907Z]         "multiValueHeaders": {},
[2022-02-13T12:40:26.908Z]         "body": "\"OK\""
[2022-02-13T12:40:26.908Z]     }
[2022-02-13T12:40:26.908Z] }
[2022-02-13T12:40:26.908Z] "now calling callback"
[2022-02-13T12:40:26.908Z] handler called callback, sending result...
[2022-02-13T12:40:26.909Z] "Router", "request", "success", {
[2022-02-13T12:40:26.909Z]     "httpMethod": "POST",
[2022-02-13T12:40:26.909Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:40:26.909Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:40:26.909Z] }
[2022-02-13T12:40:26.909Z] "promise done, calling callback"
[2022-02-13T12:40:26.909Z] handler promise resolved, sending result...
[2022-02-13T12:40:26.961Z] Received message: {"type":"execute","eventId":"8cjTSjDDj7fR4yVSSbZJn","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"77-wdtWf6zd74rRUdse7YysXg9gShA\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:40:26.964Z] Executing event 8cjTSjDDj7fR4yVSSbZJn
[2022-02-13T12:40:26.964Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:40:27.042Z] Invoking handler function: "handler"
[2022-02-13T12:40:27.042Z] "Router", "request", "info", {
[2022-02-13T12:40:27.042Z]     "httpMethod": "GET",
[2022-02-13T12:40:27.042Z]     "resource": "/books",
[2022-02-13T12:40:27.043Z]     "path": "/books"
[2022-02-13T12:40:27.043Z] }
[2022-02-13T12:40:27.043Z] "authenticating..."
[2022-02-13T12:40:27.049Z] "handler is promise, awaiting response"
[2022-02-13T12:40:27.050Z] Waiting for handler to finish...
[2022-02-13T12:40:27.090Z] "authenticated"
[2022-02-13T12:40:27.090Z] "get books"
[2022-02-13T12:40:27.090Z] "add \"all\" option"
[2022-02-13T12:40:27.090Z] "execute"
[2022-02-13T12:40:27.104Z] "done", [
[2022-02-13T12:40:27.104Z]     {
[2022-02-13T12:40:27.104Z]         "title": "Rinas Buch",
[2022-02-13T12:40:27.104Z]         "description": "",
[2022-02-13T12:40:27.104Z]         "slug": "rinas-buch"
[2022-02-13T12:40:27.104Z]     },
[2022-02-13T12:40:27.104Z]     {
[2022-02-13T12:40:27.104Z]         "title": "Jans Buch",
[2022-02-13T12:40:27.104Z]         "description": "",
[2022-02-13T12:40:27.105Z]         "slug": "jans-buch"
[2022-02-13T12:40:27.105Z]     }
[2022-02-13T12:40:27.105Z] ]
[2022-02-13T12:40:27.105Z] "Router", "request", "success", {
[2022-02-13T12:40:27.105Z]     "httpMethod": "GET",
[2022-02-13T12:40:27.105Z]     "resource": "/books",
[2022-02-13T12:40:27.105Z]     "path": "/books",
[2022-02-13T12:40:27.105Z]     "error": null,
[2022-02-13T12:40:27.105Z]     "result": {
[2022-02-13T12:40:27.105Z]         "isBase64Encoded": false,
[2022-02-13T12:40:27.105Z]         "statusCode": 200,
[2022-02-13T12:40:27.106Z]         "headers": {
[2022-02-13T12:40:27.106Z]             "Content-Type": "application/json"
[2022-02-13T12:40:27.106Z]         },
[2022-02-13T12:40:27.106Z]         "multiValueHeaders": {},
[2022-02-13T12:40:27.106Z]         "body": "[{\"title\":\"Rinas Buch\",\"description\":\"\",\"slug\":\"rinas-buch\"},{\"title\":\"Jans Buch\",\"description\":\"\",\"slug\":\"jans-buch\"}]"
[2022-02-13T12:40:27.106Z]     }
[2022-02-13T12:40:27.106Z] }
[2022-02-13T12:40:27.106Z] "now calling callback"
[2022-02-13T12:40:27.106Z] handler called callback, sending result...
[2022-02-13T12:40:27.107Z] "Router", "request", "success", {
[2022-02-13T12:40:27.107Z]     "httpMethod": "GET",
[2022-02-13T12:40:27.107Z]     "resource": "/books",
[2022-02-13T12:40:27.107Z]     "path": "/books"
[2022-02-13T12:40:27.107Z] }
[2022-02-13T12:40:27.107Z] "promise done, calling callback"
[2022-02-13T12:40:27.107Z] handler promise resolved, sending result...
[2022-02-13T12:40:27.137Z] Received message: {"type":"execute","eventId":"3g6lTvJZku0GfOZcQK3t3","payload":{"event":{"isBase64Encoded":false,"path":"/books/jans-buch/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jans-buch","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:40:27.137Z] Executing event 3g6lTvJZku0GfOZcQK3t3
[2022-02-13T12:40:27.138Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:40:27.215Z] Invoking handler function: "handler"
[2022-02-13T12:40:27.215Z] "Router", "request", "info", {
[2022-02-13T12:40:27.216Z]     "httpMethod": "GET",
[2022-02-13T12:40:27.216Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:40:27.216Z]     "path": "/books/jans-buch/stories"
[2022-02-13T12:40:27.216Z] }
[2022-02-13T12:40:27.216Z] "authenticating..."
[2022-02-13T12:40:27.223Z] "handler is promise, awaiting response"
[2022-02-13T12:40:27.223Z] Waiting for handler to finish...
[2022-02-13T12:40:27.223Z] Received message: {"type":"execute","eventId":"WpAM7go0idEK0ZKPeNdsf","payload":{"event":{"isBase64Encoded":false,"path":"/books/rinas-buch/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"rinas-buch","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:40:27.223Z] Executing event WpAM7go0idEK0ZKPeNdsf
[2022-02-13T12:40:27.223Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:40:27.224Z] Invoking handler function: "handler"
[2022-02-13T12:40:27.224Z] "Router", "request", "info", {
[2022-02-13T12:40:27.224Z]     "httpMethod": "GET",
[2022-02-13T12:40:27.224Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:40:27.224Z]     "path": "/books/rinas-buch/stories"
[2022-02-13T12:40:27.224Z] }
[2022-02-13T12:40:27.224Z] "authenticating..."
[2022-02-13T12:40:27.225Z] "handler is promise, awaiting response"
[2022-02-13T12:40:27.225Z] Waiting for handler to finish...
[2022-02-13T12:40:27.272Z] "authenticated"
[2022-02-13T12:40:27.278Z] "authenticated"
[2022-02-13T12:40:27.282Z] "Router", "request", "success", {
[2022-02-13T12:40:27.282Z]     "httpMethod": "GET",
[2022-02-13T12:40:27.282Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:40:27.283Z]     "path": "/books/rinas-buch/stories",
[2022-02-13T12:40:27.283Z]     "error": null,
[2022-02-13T12:40:27.283Z]     "result": {
[2022-02-13T12:40:27.283Z]         "isBase64Encoded": false,
[2022-02-13T12:40:27.283Z]         "statusCode": 200,
[2022-02-13T12:40:27.283Z]         "headers": {
[2022-02-13T12:40:27.283Z]             "Content-Type": "application/json"
[2022-02-13T12:40:27.283Z]         },
[2022-02-13T12:40:27.283Z]         "multiValueHeaders": {},
[2022-02-13T12:40:27.284Z]         "body": "[]"
[2022-02-13T12:40:27.284Z]     }
[2022-02-13T12:40:27.284Z] }
[2022-02-13T12:40:27.284Z] "now calling callback"
[2022-02-13T12:40:27.284Z] handler called callback, sending result...
[2022-02-13T12:40:27.284Z] "Router", "request", "success", {
[2022-02-13T12:40:27.284Z]     "httpMethod": "GET",
[2022-02-13T12:40:27.284Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:40:27.284Z]     "path": "/books/rinas-buch/stories"
[2022-02-13T12:40:27.284Z] }
[2022-02-13T12:40:27.285Z] "promise done, calling callback"
[2022-02-13T12:40:27.285Z] handler promise resolved, sending result...
[2022-02-13T12:40:27.286Z] "Router", "request", "success", {
[2022-02-13T12:40:27.286Z]     "httpMethod": "GET",
[2022-02-13T12:40:27.286Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:40:27.286Z]     "path": "/books/jans-buch/stories",
[2022-02-13T12:40:27.286Z]     "error": null,
[2022-02-13T12:40:27.286Z]     "result": {
[2022-02-13T12:40:27.286Z]         "isBase64Encoded": false,
[2022-02-13T12:40:27.286Z]         "statusCode": 200,
[2022-02-13T12:40:27.286Z]         "headers": {
[2022-02-13T12:40:27.286Z]             "Content-Type": "application/json"
[2022-02-13T12:40:27.287Z]         },
[2022-02-13T12:40:27.287Z]         "multiValueHeaders": {},
[2022-02-13T12:40:27.287Z]         "body": "[]"
[2022-02-13T12:40:27.287Z]     }
[2022-02-13T12:40:27.287Z] }
[2022-02-13T12:40:27.287Z] "now calling callback"
[2022-02-13T12:40:27.287Z] handler called callback, sending result...
[2022-02-13T12:40:27.287Z] "Router", "request", "success", {
[2022-02-13T12:40:27.287Z]     "httpMethod": "GET",
[2022-02-13T12:40:27.287Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:40:27.288Z]     "path": "/books/jans-buch/stories"
[2022-02-13T12:40:27.288Z] }
[2022-02-13T12:40:27.288Z] "promise done, calling callback"
[2022-02-13T12:40:27.288Z] handler promise resolved, sending result...
[2022-02-13T12:41:40.686Z] Received message: {"type":"execute","eventId":"ffrXaXb10iC4A6YZHJnVV","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:41:40.687Z] Executing event ffrXaXb10iC4A6YZHJnVV
[2022-02-13T12:41:40.687Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:41:40.875Z] Invoking handler function: "handler"
[2022-02-13T12:41:40.875Z] "Router", "request", "info", {
[2022-02-13T12:41:40.876Z]     "httpMethod": "POST",
[2022-02-13T12:41:40.876Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:41:40.876Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:41:40.876Z] }
[2022-02-13T12:41:40.876Z] "authenticating..."
[2022-02-13T12:41:40.883Z] "handler is promise, awaiting response"
[2022-02-13T12:41:40.884Z] Waiting for handler to finish...
[2022-02-13T12:41:40.925Z] "authenticated"
[2022-02-13T12:41:40.925Z] "Router", "request", "success", {
[2022-02-13T12:41:40.925Z]     "httpMethod": "POST",
[2022-02-13T12:41:40.925Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:41:40.925Z]     "path": "/auth/verify-passcode",
[2022-02-13T12:41:40.926Z]     "error": null,
[2022-02-13T12:41:40.927Z]     "result": {
[2022-02-13T12:41:40.929Z]         "isBase64Encoded": false,
[2022-02-13T12:41:40.929Z]         "statusCode": 200,
[2022-02-13T12:41:40.929Z]         "headers": {
[2022-02-13T12:41:40.929Z]             "Content-Type": "application/json"
[2022-02-13T12:41:40.929Z]         },
[2022-02-13T12:41:40.929Z]         "multiValueHeaders": {},
[2022-02-13T12:41:40.929Z]         "body": "\"OK\""
[2022-02-13T12:41:40.929Z]     }
[2022-02-13T12:41:40.929Z] }
[2022-02-13T12:41:40.930Z] "now calling callback"
[2022-02-13T12:41:40.930Z] handler called callback, sending result...
[2022-02-13T12:41:40.932Z] "Router", "request", "success", {
[2022-02-13T12:41:40.932Z]     "httpMethod": "POST",
[2022-02-13T12:41:40.933Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:41:40.933Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:41:40.933Z] }
[2022-02-13T12:41:40.933Z] "promise done, calling callback"
[2022-02-13T12:41:40.933Z] handler promise resolved, sending result...
[2022-02-13T12:41:40.986Z] Received message: {"type":"execute","eventId":"FH1x4IOeEy6SDTZX4tCQk","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"77-wdtWf6zd74rRUdse7YysXg9gShA\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:41:40.986Z] Executing event FH1x4IOeEy6SDTZX4tCQk
[2022-02-13T12:41:40.986Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:41:41.066Z] Invoking handler function: "handler"
[2022-02-13T12:41:41.066Z] "Router", "request", "info", {
[2022-02-13T12:41:41.066Z]     "httpMethod": "GET",
[2022-02-13T12:41:41.066Z]     "resource": "/books",
[2022-02-13T12:41:41.066Z]     "path": "/books"
[2022-02-13T12:41:41.066Z] }
[2022-02-13T12:41:41.067Z] "authenticating..."
[2022-02-13T12:41:41.072Z] "handler is promise, awaiting response"
[2022-02-13T12:41:41.072Z] Waiting for handler to finish...
[2022-02-13T12:41:41.107Z] "authenticated"
[2022-02-13T12:41:41.108Z] "get books"
[2022-02-13T12:41:41.108Z] "add \"all\" option"
[2022-02-13T12:41:41.108Z] "execute"
[2022-02-13T12:41:41.121Z] "done", [
[2022-02-13T12:41:41.121Z]     {
[2022-02-13T12:41:41.121Z]         "title": "Rinas Buch",
[2022-02-13T12:41:41.121Z]         "description": "",
[2022-02-13T12:41:41.121Z]         "slug": "rinas-buch"
[2022-02-13T12:41:41.122Z]     },
[2022-02-13T12:41:41.122Z]     {
[2022-02-13T12:41:41.122Z]         "title": "Jans Buch",
[2022-02-13T12:41:41.122Z]         "description": "",
[2022-02-13T12:41:41.122Z]         "slug": "jans-buch"
[2022-02-13T12:41:41.122Z]     }
[2022-02-13T12:41:41.122Z] ]
[2022-02-13T12:41:41.122Z] "Router", "request", "success", {
[2022-02-13T12:41:41.122Z]     "httpMethod": "GET",
[2022-02-13T12:41:41.123Z]     "resource": "/books",
[2022-02-13T12:41:41.123Z]     "path": "/books",
[2022-02-13T12:41:41.123Z]     "error": null,
[2022-02-13T12:41:41.123Z]     "result": {
[2022-02-13T12:41:41.123Z]         "isBase64Encoded": false,
[2022-02-13T12:41:41.123Z]         "statusCode": 200,
[2022-02-13T12:41:41.123Z]         "headers": {
[2022-02-13T12:41:41.123Z]             "Content-Type": "application/json"
[2022-02-13T12:41:41.123Z]         },
[2022-02-13T12:41:41.123Z]         "multiValueHeaders": {},
[2022-02-13T12:41:41.124Z]         "body": "[{\"title\":\"Rinas Buch\",\"description\":\"\",\"slug\":\"rinas-buch\"},{\"title\":\"Jans Buch\",\"description\":\"\",\"slug\":\"jans-buch\"}]"
[2022-02-13T12:41:41.124Z]     }
[2022-02-13T12:41:41.124Z] }
[2022-02-13T12:41:41.124Z] "now calling callback"
[2022-02-13T12:41:41.124Z] handler called callback, sending result...
[2022-02-13T12:41:41.125Z] "Router", "request", "success", {
[2022-02-13T12:41:41.125Z]     "httpMethod": "GET",
[2022-02-13T12:41:41.125Z]     "resource": "/books",
[2022-02-13T12:41:41.125Z]     "path": "/books"
[2022-02-13T12:41:41.125Z] }
[2022-02-13T12:41:41.125Z] "promise done, calling callback"
[2022-02-13T12:41:41.125Z] handler promise resolved, sending result...
[2022-02-13T12:41:41.162Z] Received message: {"type":"execute","eventId":"HonNYfKPs3dsrN8xsLE4j","payload":{"event":{"isBase64Encoded":false,"path":"/books/rinas-buch/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"rinas-buch","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:41:41.162Z] Executing event HonNYfKPs3dsrN8xsLE4j
[2022-02-13T12:41:41.163Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:41:41.245Z] Invoking handler function: "handler"
[2022-02-13T12:41:41.245Z] "Router", "request", "info", {
[2022-02-13T12:41:41.245Z]     "httpMethod": "GET",
[2022-02-13T12:41:41.245Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:41:41.245Z]     "path": "/books/rinas-buch/stories"
[2022-02-13T12:41:41.245Z] }
[2022-02-13T12:41:41.246Z] "authenticating..."
[2022-02-13T12:41:41.252Z] "handler is promise, awaiting response"
[2022-02-13T12:41:41.253Z] Waiting for handler to finish...
[2022-02-13T12:41:41.253Z] Received message: {"type":"execute","eventId":"BxViJDzxoheHFMau9MAjs","payload":{"event":{"isBase64Encoded":false,"path":"/books/jans-buch/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jans-buch","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:41:41.253Z] Executing event BxViJDzxoheHFMau9MAjs
[2022-02-13T12:41:41.253Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:41:41.253Z] Invoking handler function: "handler"
[2022-02-13T12:41:41.253Z] "Router", "request", "info", {
[2022-02-13T12:41:41.253Z]     "httpMethod": "GET",
[2022-02-13T12:41:41.253Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:41:41.254Z]     "path": "/books/jans-buch/stories"
[2022-02-13T12:41:41.254Z] }
[2022-02-13T12:41:41.254Z] "authenticating..."
[2022-02-13T12:41:41.254Z] "handler is promise, awaiting response"
[2022-02-13T12:41:41.254Z] Waiting for handler to finish...
[2022-02-13T12:41:41.286Z] "authenticated"
[2022-02-13T12:41:41.299Z] "authenticated"
[2022-02-13T12:41:41.300Z] "Router", "request", "success", {
[2022-02-13T12:41:41.301Z]     "httpMethod": "GET",
[2022-02-13T12:41:41.301Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:41:41.301Z]     "path": "/books/rinas-buch/stories",
[2022-02-13T12:41:41.301Z]     "error": null,
[2022-02-13T12:41:41.301Z]     "result": {
[2022-02-13T12:41:41.301Z]         "isBase64Encoded": false,
[2022-02-13T12:41:41.301Z]         "statusCode": 200,
[2022-02-13T12:41:41.301Z]         "headers": {
[2022-02-13T12:41:41.301Z]             "Content-Type": "application/json"
[2022-02-13T12:41:41.301Z]         },
[2022-02-13T12:41:41.302Z]         "multiValueHeaders": {},
[2022-02-13T12:41:41.302Z]         "body": "[]"
[2022-02-13T12:41:41.302Z]     }
[2022-02-13T12:41:41.302Z] }
[2022-02-13T12:41:41.302Z] "now calling callback"
[2022-02-13T12:41:41.302Z] handler called callback, sending result...
[2022-02-13T12:41:41.302Z] "Router", "request", "success", {
[2022-02-13T12:41:41.303Z]     "httpMethod": "GET",
[2022-02-13T12:41:41.303Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:41:41.303Z]     "path": "/books/rinas-buch/stories"
[2022-02-13T12:41:41.303Z] }
[2022-02-13T12:41:41.303Z] "promise done, calling callback"
[2022-02-13T12:41:41.303Z] handler promise resolved, sending result...
[2022-02-13T12:41:41.308Z] "Router", "request", "success", {
[2022-02-13T12:41:41.308Z]     "httpMethod": "GET",
[2022-02-13T12:41:41.308Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:41:41.308Z]     "path": "/books/jans-buch/stories",
[2022-02-13T12:41:41.308Z]     "error": null,
[2022-02-13T12:41:41.308Z]     "result": {
[2022-02-13T12:41:41.308Z]         "isBase64Encoded": false,
[2022-02-13T12:41:41.308Z]         "statusCode": 200,
[2022-02-13T12:41:41.308Z]         "headers": {
[2022-02-13T12:41:41.309Z]             "Content-Type": "application/json"
[2022-02-13T12:41:41.309Z]         },
[2022-02-13T12:41:41.309Z]         "multiValueHeaders": {},
[2022-02-13T12:41:41.309Z]         "body": "[]"
[2022-02-13T12:41:41.309Z]     }
[2022-02-13T12:41:41.309Z] }
[2022-02-13T12:41:41.309Z] "now calling callback"
[2022-02-13T12:41:41.309Z] handler called callback, sending result...
[2022-02-13T12:41:41.310Z] "Router", "request", "success", {
[2022-02-13T12:41:41.310Z]     "httpMethod": "GET",
[2022-02-13T12:41:41.310Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:41:41.310Z]     "path": "/books/jans-buch/stories"
[2022-02-13T12:41:41.310Z] }
[2022-02-13T12:41:41.310Z] "promise done, calling callback"
[2022-02-13T12:41:41.310Z] handler promise resolved, sending result...
[2022-02-13T12:42:11.033Z] Received message: {"type":"execute","eventId":"daRdXELD-buTD8UfMKlZl","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:42:11.033Z] Executing event daRdXELD-buTD8UfMKlZl
[2022-02-13T12:42:11.033Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:42:11.175Z] Invoking handler function: "handler"
[2022-02-13T12:42:11.176Z] "Router", "request", "info", {
[2022-02-13T12:42:11.176Z]     "httpMethod": "POST",
[2022-02-13T12:42:11.176Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:42:11.176Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:42:11.176Z] }
[2022-02-13T12:42:11.176Z] "authenticating..."
[2022-02-13T12:42:11.183Z] "handler is promise, awaiting response"
[2022-02-13T12:42:11.184Z] Waiting for handler to finish...
[2022-02-13T12:42:11.222Z] "authenticated"
[2022-02-13T12:42:11.223Z] "Router", "request", "success", {
[2022-02-13T12:42:11.223Z]     "httpMethod": "POST",
[2022-02-13T12:42:11.223Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:42:11.223Z]     "path": "/auth/verify-passcode",
[2022-02-13T12:42:11.223Z]     "error": null,
[2022-02-13T12:42:11.223Z]     "result": {
[2022-02-13T12:42:11.223Z]         "isBase64Encoded": false,
[2022-02-13T12:42:11.223Z]         "statusCode": 200,
[2022-02-13T12:42:11.223Z]         "headers": {
[2022-02-13T12:42:11.224Z]             "Content-Type": "application/json"
[2022-02-13T12:42:11.224Z]         },
[2022-02-13T12:42:11.224Z]         "multiValueHeaders": {},
[2022-02-13T12:42:11.224Z]         "body": "\"OK\""
[2022-02-13T12:42:11.224Z]     }
[2022-02-13T12:42:11.225Z] }
[2022-02-13T12:42:11.225Z] "now calling callback"
[2022-02-13T12:42:11.225Z] handler called callback, sending result...
[2022-02-13T12:42:11.225Z] "Router", "request", "success", {
[2022-02-13T12:42:11.225Z]     "httpMethod": "POST",
[2022-02-13T12:42:11.225Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:42:11.226Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:42:11.226Z] }
[2022-02-13T12:42:11.226Z] "promise done, calling callback"
[2022-02-13T12:42:11.226Z] handler promise resolved, sending result...
[2022-02-13T12:42:11.281Z] Received message: {"type":"execute","eventId":"dMR5AgwokFMKhxjTsRQkK","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"77-wdtWf6zd74rRUdse7YysXg9gShA\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:42:11.281Z] Executing event dMR5AgwokFMKhxjTsRQkK
[2022-02-13T12:42:11.281Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:42:11.363Z] Invoking handler function: "handler"
[2022-02-13T12:42:11.363Z] "Router", "request", "info", {
[2022-02-13T12:42:11.363Z]     "httpMethod": "GET",
[2022-02-13T12:42:11.363Z]     "resource": "/books",
[2022-02-13T12:42:11.364Z]     "path": "/books"
[2022-02-13T12:42:11.364Z] }
[2022-02-13T12:42:11.364Z] "authenticating..."
[2022-02-13T12:42:11.370Z] "handler is promise, awaiting response"
[2022-02-13T12:42:11.371Z] Waiting for handler to finish...
[2022-02-13T12:42:11.401Z] "authenticated"
[2022-02-13T12:42:11.401Z] "get books"
[2022-02-13T12:42:11.402Z] "add \"all\" option"
[2022-02-13T12:42:11.402Z] "execute"
[2022-02-13T12:42:11.417Z] "done", [
[2022-02-13T12:42:11.417Z]     {
[2022-02-13T12:42:11.417Z]         "title": "Rinas Buch",
[2022-02-13T12:42:11.417Z]         "description": "",
[2022-02-13T12:42:11.418Z]         "slug": "rinas-buch"
[2022-02-13T12:42:11.418Z]     },
[2022-02-13T12:42:11.418Z]     {
[2022-02-13T12:42:11.418Z]         "title": "Jans Buch",
[2022-02-13T12:42:11.418Z]         "description": "",
[2022-02-13T12:42:11.418Z]         "slug": "jans-buch"
[2022-02-13T12:42:11.418Z]     }
[2022-02-13T12:42:11.418Z] ]
[2022-02-13T12:42:11.418Z] "Router", "request", "success", {
[2022-02-13T12:42:11.418Z]     "httpMethod": "GET",
[2022-02-13T12:42:11.419Z]     "resource": "/books",
[2022-02-13T12:42:11.419Z]     "path": "/books",
[2022-02-13T12:42:11.419Z]     "error": null,
[2022-02-13T12:42:11.419Z]     "result": {
[2022-02-13T12:42:11.419Z]         "isBase64Encoded": false,
[2022-02-13T12:42:11.419Z]         "statusCode": 200,
[2022-02-13T12:42:11.419Z]         "headers": {
[2022-02-13T12:42:11.419Z]             "Content-Type": "application/json"
[2022-02-13T12:42:11.419Z]         },
[2022-02-13T12:42:11.419Z]         "multiValueHeaders": {},
[2022-02-13T12:42:11.420Z]         "body": "[{\"title\":\"Rinas Buch\",\"description\":\"\",\"slug\":\"rinas-buch\"},{\"title\":\"Jans Buch\",\"description\":\"\",\"slug\":\"jans-buch\"}]"
[2022-02-13T12:42:11.420Z]     }
[2022-02-13T12:42:11.420Z] }
[2022-02-13T12:42:11.420Z] "now calling callback"
[2022-02-13T12:42:11.420Z] handler called callback, sending result...
[2022-02-13T12:42:11.420Z] "Router", "request", "success", {
[2022-02-13T12:42:11.420Z]     "httpMethod": "GET",
[2022-02-13T12:42:11.420Z]     "resource": "/books",
[2022-02-13T12:42:11.420Z]     "path": "/books"
[2022-02-13T12:42:11.421Z] }
[2022-02-13T12:42:11.421Z] "promise done, calling callback"
[2022-02-13T12:42:11.421Z] handler promise resolved, sending result...
[2022-02-13T12:42:11.455Z] Received message: {"type":"execute","eventId":"S8LcwVTSOfnDQKzdr_zAC","payload":{"event":{"isBase64Encoded":false,"path":"/books/rinas-buch/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"rinas-buch","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:42:11.455Z] Executing event S8LcwVTSOfnDQKzdr_zAC
[2022-02-13T12:42:11.455Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:42:11.534Z] Invoking handler function: "handler"
[2022-02-13T12:42:11.534Z] "Router", "request", "info", {
[2022-02-13T12:42:11.534Z]     "httpMethod": "GET",
[2022-02-13T12:42:11.534Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:42:11.534Z]     "path": "/books/rinas-buch/stories"
[2022-02-13T12:42:11.534Z] }
[2022-02-13T12:42:11.534Z] "authenticating..."
[2022-02-13T12:42:11.541Z] "handler is promise, awaiting response"
[2022-02-13T12:42:11.541Z] Waiting for handler to finish...
[2022-02-13T12:42:11.541Z] Received message: {"type":"execute","eventId":"Wj7_YepS-5fLvB_6ipVfW","payload":{"event":{"isBase64Encoded":false,"path":"/books/jans-buch/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jans-buch","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:42:11.542Z] Executing event Wj7_YepS-5fLvB_6ipVfW
[2022-02-13T12:42:11.542Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:42:11.542Z] Invoking handler function: "handler"
[2022-02-13T12:42:11.542Z] "Router", "request", "info", {
[2022-02-13T12:42:11.542Z]     "httpMethod": "GET",
[2022-02-13T12:42:11.542Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:42:11.543Z]     "path": "/books/jans-buch/stories"
[2022-02-13T12:42:11.543Z] }
[2022-02-13T12:42:11.543Z] "authenticating..."
[2022-02-13T12:42:11.543Z] "handler is promise, awaiting response"
[2022-02-13T12:42:11.543Z] Waiting for handler to finish...
[2022-02-13T12:42:11.576Z] "authenticated"
[2022-02-13T12:42:11.586Z] "Router", "request", "success", {
[2022-02-13T12:42:11.587Z]     "httpMethod": "GET",
[2022-02-13T12:42:11.587Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:42:11.587Z]     "path": "/books/rinas-buch/stories",
[2022-02-13T12:42:11.587Z]     "error": null,
[2022-02-13T12:42:11.587Z]     "result": {
[2022-02-13T12:42:11.588Z]         "isBase64Encoded": false,
[2022-02-13T12:42:11.588Z]         "statusCode": 200,
[2022-02-13T12:42:11.588Z]         "headers": {
[2022-02-13T12:42:11.588Z]             "Content-Type": "application/json"
[2022-02-13T12:42:11.588Z]         },
[2022-02-13T12:42:11.588Z]         "multiValueHeaders": {},
[2022-02-13T12:42:11.588Z]         "body": "[]"
[2022-02-13T12:42:11.588Z]     }
[2022-02-13T12:42:11.588Z] }
[2022-02-13T12:42:11.588Z] "now calling callback"
[2022-02-13T12:42:11.588Z] handler called callback, sending result...
[2022-02-13T12:42:11.589Z] "Router", "request", "success", {
[2022-02-13T12:42:11.589Z]     "httpMethod": "GET",
[2022-02-13T12:42:11.589Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:42:11.589Z]     "path": "/books/rinas-buch/stories"
[2022-02-13T12:42:11.589Z] }
[2022-02-13T12:42:11.589Z] "promise done, calling callback"
[2022-02-13T12:42:11.589Z] handler promise resolved, sending result...
[2022-02-13T12:42:11.592Z] "authenticated"
[2022-02-13T12:42:11.600Z] "Router", "request", "success", {
[2022-02-13T12:42:11.600Z]     "httpMethod": "GET",
[2022-02-13T12:42:11.600Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:42:11.600Z]     "path": "/books/jans-buch/stories",
[2022-02-13T12:42:11.600Z]     "error": null,
[2022-02-13T12:42:11.600Z]     "result": {
[2022-02-13T12:42:11.600Z]         "isBase64Encoded": false,
[2022-02-13T12:42:11.600Z]         "statusCode": 200,
[2022-02-13T12:42:11.600Z]         "headers": {
[2022-02-13T12:42:11.601Z]             "Content-Type": "application/json"
[2022-02-13T12:42:11.601Z]         },
[2022-02-13T12:42:11.601Z]         "multiValueHeaders": {},
[2022-02-13T12:42:11.601Z]         "body": "[]"
[2022-02-13T12:42:11.601Z]     }
[2022-02-13T12:42:11.601Z] }
[2022-02-13T12:42:11.601Z] "now calling callback"
[2022-02-13T12:42:11.601Z] handler called callback, sending result...
[2022-02-13T12:42:11.602Z] "Router", "request", "success", {
[2022-02-13T12:42:11.602Z]     "httpMethod": "GET",
[2022-02-13T12:42:11.602Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:42:11.602Z]     "path": "/books/jans-buch/stories"
[2022-02-13T12:42:11.602Z] }
[2022-02-13T12:42:11.602Z] "promise done, calling callback"
[2022-02-13T12:42:11.602Z] handler promise resolved, sending result...
[2022-02-13T12:42:57.299Z] Received message: {"type":"execute","eventId":"U0H0KqczBVQbuyR2kG6qg","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:42:57.299Z] Executing event U0H0KqczBVQbuyR2kG6qg
[2022-02-13T12:42:57.300Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:42:57.437Z] Invoking handler function: "handler"
[2022-02-13T12:42:57.437Z] "Router", "request", "info", {
[2022-02-13T12:42:57.437Z]     "httpMethod": "POST",
[2022-02-13T12:42:57.437Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:42:57.437Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:42:57.437Z] }
[2022-02-13T12:42:57.437Z] "authenticating..."
[2022-02-13T12:42:57.445Z] "handler is promise, awaiting response"
[2022-02-13T12:42:57.445Z] Waiting for handler to finish...
[2022-02-13T12:42:57.482Z] "authenticated"
[2022-02-13T12:42:57.482Z] "Router", "request", "success", {
[2022-02-13T12:42:57.483Z]     "httpMethod": "POST",
[2022-02-13T12:42:57.483Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:42:57.483Z]     "path": "/auth/verify-passcode",
[2022-02-13T12:42:57.483Z]     "error": null,
[2022-02-13T12:42:57.483Z]     "result": {
[2022-02-13T12:42:57.483Z]         "isBase64Encoded": false,
[2022-02-13T12:42:57.483Z]         "statusCode": 200,
[2022-02-13T12:42:57.484Z]         "headers": {
[2022-02-13T12:42:57.484Z]             "Content-Type": "application/json"
[2022-02-13T12:42:57.484Z]         },
[2022-02-13T12:42:57.484Z]         "multiValueHeaders": {},
[2022-02-13T12:42:57.484Z]         "body": "\"OK\""
[2022-02-13T12:42:57.484Z]     }
[2022-02-13T12:42:57.484Z] }
[2022-02-13T12:42:57.484Z] "now calling callback"
[2022-02-13T12:42:57.484Z] handler called callback, sending result...
[2022-02-13T12:42:57.485Z] "Router", "request", "success", {
[2022-02-13T12:42:57.485Z]     "httpMethod": "POST",
[2022-02-13T12:42:57.485Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:42:57.485Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:42:57.485Z] }
[2022-02-13T12:42:57.485Z] "promise done, calling callback"
[2022-02-13T12:42:57.485Z] handler promise resolved, sending result...
[2022-02-13T12:42:57.538Z] Received message: {"type":"execute","eventId":"HU3svVZrPH_nGtVtD6p_5","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"77-wdtWf6zd74rRUdse7YysXg9gShA\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:42:57.538Z] Executing event HU3svVZrPH_nGtVtD6p_5
[2022-02-13T12:42:57.539Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:42:57.620Z] Invoking handler function: "handler"
[2022-02-13T12:42:57.620Z] "Router", "request", "info", {
[2022-02-13T12:42:57.620Z]     "httpMethod": "GET",
[2022-02-13T12:42:57.621Z]     "resource": "/books",
[2022-02-13T12:42:57.621Z]     "path": "/books"
[2022-02-13T12:42:57.621Z] }
[2022-02-13T12:42:57.621Z] "authenticating..."
[2022-02-13T12:42:57.628Z] "handler is promise, awaiting response"
[2022-02-13T12:42:57.628Z] Waiting for handler to finish...
[2022-02-13T12:42:57.657Z] "authenticated"
[2022-02-13T12:42:57.658Z] "get books"
[2022-02-13T12:42:57.658Z] "add \"all\" option"
[2022-02-13T12:42:57.658Z] "execute"
[2022-02-13T12:42:57.672Z] "done", [
[2022-02-13T12:42:57.673Z]     {
[2022-02-13T12:42:57.673Z]         "title": "Rinas Buch",
[2022-02-13T12:42:57.673Z]         "description": "",
[2022-02-13T12:42:57.673Z]         "slug": "rinas-buch"
[2022-02-13T12:42:57.673Z]     },
[2022-02-13T12:42:57.673Z]     {
[2022-02-13T12:42:57.673Z]         "title": "Jans Buch",
[2022-02-13T12:42:57.674Z]         "description": "",
[2022-02-13T12:42:57.674Z]         "slug": "jans-buch"
[2022-02-13T12:42:57.674Z]     }
[2022-02-13T12:42:57.674Z] ]
[2022-02-13T12:42:57.674Z] "Router", "request", "success", {
[2022-02-13T12:42:57.674Z]     "httpMethod": "GET",
[2022-02-13T12:42:57.675Z]     "resource": "/books",
[2022-02-13T12:42:57.675Z]     "path": "/books",
[2022-02-13T12:42:57.675Z]     "error": null,
[2022-02-13T12:42:57.675Z]     "result": {
[2022-02-13T12:42:57.675Z]         "isBase64Encoded": false,
[2022-02-13T12:42:57.675Z]         "statusCode": 200,
[2022-02-13T12:42:57.675Z]         "headers": {
[2022-02-13T12:42:57.675Z]             "Content-Type": "application/json"
[2022-02-13T12:42:57.675Z]         },
[2022-02-13T12:42:57.676Z]         "multiValueHeaders": {},
[2022-02-13T12:42:57.676Z]         "body": "[{\"title\":\"Rinas Buch\",\"description\":\"\",\"slug\":\"rinas-buch\"},{\"title\":\"Jans Buch\",\"description\":\"\",\"slug\":\"jans-buch\"}]"
[2022-02-13T12:42:57.676Z]     }
[2022-02-13T12:42:57.676Z] }
[2022-02-13T12:42:57.676Z] "now calling callback"
[2022-02-13T12:42:57.676Z] handler called callback, sending result...
[2022-02-13T12:42:57.676Z] "Router", "request", "success", {
[2022-02-13T12:42:57.676Z]     "httpMethod": "GET",
[2022-02-13T12:42:57.676Z]     "resource": "/books",
[2022-02-13T12:42:57.676Z]     "path": "/books"
[2022-02-13T12:42:57.676Z] }
[2022-02-13T12:42:57.677Z] "promise done, calling callback"
[2022-02-13T12:42:57.677Z] handler promise resolved, sending result...
[2022-02-13T12:42:57.709Z] Received message: {"type":"execute","eventId":"iwtTd3M-rVh3Z7eKzIQ_8","payload":{"event":{"isBase64Encoded":false,"path":"/books/rinas-buch/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"rinas-buch","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:42:57.725Z] Executing event iwtTd3M-rVh3Z7eKzIQ_8
[2022-02-13T12:42:57.725Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:42:57.791Z] Invoking handler function: "handler"
[2022-02-13T12:42:57.791Z] "Router", "request", "info", {
[2022-02-13T12:42:57.791Z]     "httpMethod": "GET",
[2022-02-13T12:42:57.791Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:42:57.792Z]     "path": "/books/rinas-buch/stories"
[2022-02-13T12:42:57.792Z] }
[2022-02-13T12:42:57.792Z] "authenticating..."
[2022-02-13T12:42:57.798Z] "handler is promise, awaiting response"
[2022-02-13T12:42:57.798Z] Waiting for handler to finish...
[2022-02-13T12:42:57.798Z] Received message: {"type":"execute","eventId":"UryMwSrAUpygBmiA43kPx","payload":{"event":{"isBase64Encoded":false,"path":"/books/jans-buch/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jans-buch","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:42:57.798Z] Executing event UryMwSrAUpygBmiA43kPx
[2022-02-13T12:42:57.798Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:42:57.798Z] Invoking handler function: "handler"
[2022-02-13T12:42:57.798Z] "Router", "request", "info", {
[2022-02-13T12:42:57.798Z]     "httpMethod": "GET",
[2022-02-13T12:42:57.798Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:42:57.799Z]     "path": "/books/jans-buch/stories"
[2022-02-13T12:42:57.799Z] }
[2022-02-13T12:42:57.799Z] "authenticating..."
[2022-02-13T12:42:57.799Z] "handler is promise, awaiting response"
[2022-02-13T12:42:57.799Z] Waiting for handler to finish...
[2022-02-13T12:42:57.842Z] "authenticated"
[2022-02-13T12:42:57.851Z] "authenticated"
[2022-02-13T12:42:57.853Z] "Router", "request", "success", {
[2022-02-13T12:42:57.853Z]     "httpMethod": "GET",
[2022-02-13T12:42:57.853Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:42:57.853Z]     "path": "/books/rinas-buch/stories",
[2022-02-13T12:42:57.853Z]     "error": null,
[2022-02-13T12:42:57.853Z]     "result": {
[2022-02-13T12:42:57.853Z]         "isBase64Encoded": false,
[2022-02-13T12:42:57.854Z]         "statusCode": 200,
[2022-02-13T12:42:57.854Z]         "headers": {
[2022-02-13T12:42:57.854Z]             "Content-Type": "application/json"
[2022-02-13T12:42:57.854Z]         },
[2022-02-13T12:42:57.854Z]         "multiValueHeaders": {},
[2022-02-13T12:42:57.854Z]         "body": "[]"
[2022-02-13T12:42:57.854Z]     }
[2022-02-13T12:42:57.854Z] }
[2022-02-13T12:42:57.855Z] "now calling callback"
[2022-02-13T12:42:57.855Z] handler called callback, sending result...
[2022-02-13T12:42:57.855Z] "Router", "request", "success", {
[2022-02-13T12:42:57.855Z]     "httpMethod": "GET",
[2022-02-13T12:42:57.855Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:42:57.855Z]     "path": "/books/rinas-buch/stories"
[2022-02-13T12:42:57.855Z] }
[2022-02-13T12:42:57.856Z] "promise done, calling callback"
[2022-02-13T12:42:57.856Z] handler promise resolved, sending result...
[2022-02-13T12:42:57.859Z] "Router", "request", "success", {
[2022-02-13T12:42:57.859Z]     "httpMethod": "GET",
[2022-02-13T12:42:57.859Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:42:57.859Z]     "path": "/books/jans-buch/stories",
[2022-02-13T12:42:57.859Z]     "error": null,
[2022-02-13T12:42:57.859Z]     "result": {
[2022-02-13T12:42:57.859Z]         "isBase64Encoded": false,
[2022-02-13T12:42:57.860Z]         "statusCode": 200,
[2022-02-13T12:42:57.860Z]         "headers": {
[2022-02-13T12:42:57.860Z]             "Content-Type": "application/json"
[2022-02-13T12:42:57.860Z]         },
[2022-02-13T12:42:57.860Z]         "multiValueHeaders": {},
[2022-02-13T12:42:57.860Z]         "body": "[]"
[2022-02-13T12:42:57.860Z]     }
[2022-02-13T12:42:57.860Z] }
[2022-02-13T12:42:57.860Z] "now calling callback"
[2022-02-13T12:42:57.860Z] handler called callback, sending result...
[2022-02-13T12:42:57.861Z] "Router", "request", "success", {
[2022-02-13T12:42:57.861Z]     "httpMethod": "GET",
[2022-02-13T12:42:57.861Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:42:57.861Z]     "path": "/books/jans-buch/stories"
[2022-02-13T12:42:57.861Z] }
[2022-02-13T12:42:57.861Z] "promise done, calling callback"
[2022-02-13T12:42:57.861Z] handler promise resolved, sending result...
[2022-02-13T12:43:00.916Z] Received message: {"type":"execute","eventId":"2jBH9cm6KwhWjv2Stnq-Z","payload":{"event":{"isBase64Encoded":false,"path":"/books/jans-buch/stories","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jans-buch","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:43:00.916Z] Executing event 2jBH9cm6KwhWjv2Stnq-Z
[2022-02-13T12:43:00.916Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:43:01.007Z] Invoking handler function: "handler"
[2022-02-13T12:43:01.007Z] "Router", "request", "info", {
[2022-02-13T12:43:01.008Z]     "httpMethod": "POST",
[2022-02-13T12:43:01.008Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:43:01.008Z]     "path": "/books/jans-buch/stories"
[2022-02-13T12:43:01.009Z] }
[2022-02-13T12:43:01.009Z] "authenticating..."
[2022-02-13T12:43:01.014Z] "handler is promise, awaiting response"
[2022-02-13T12:43:01.014Z] Waiting for handler to finish...
[2022-02-13T12:43:01.046Z] "authenticated"
[2022-02-13T12:43:01.090Z] {
[2022-02-13T12:43:01.090Z]     "errorResponse": {
[2022-02-13T12:43:01.091Z]         "isBase64Encoded": false,
[2022-02-13T12:43:01.091Z]         "statusCode": 500,
[2022-02-13T12:43:01.091Z]         "headers": {
[2022-02-13T12:43:01.091Z]             "Content-Type": "application/json"
[2022-02-13T12:43:01.091Z]         },
[2022-02-13T12:43:01.091Z]         "multiValueHeaders": {},
[2022-02-13T12:43:01.091Z]         "body": "{\"error\":\"date is a required property but has no value when trying to save document\"}"
[2022-02-13T12:43:01.092Z]     },
[2022-02-13T12:43:01.092Z]     "originalError": {
[2022-02-13T12:43:01.092Z]         "name": "ValidationError",
[2022-02-13T12:43:01.092Z]         "message": "date is a required property but has no value when trying to save document",
[2022-02-13T12:43:01.092Z]         "stack": "ValidationError: date is a required property but has no value when trying to save document\n    at Schema.requiredCheck (/Users/jappy/code/bobs-bedtime-stories/node_modules/dynamoose/lib/Schema.ts:654:9)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at check (/Users/jappy/code/bobs-bedtime-stories/node_modules/dynamoose/lib/Document.ts:476:5)\n    at /Users/jappy/code/bobs-bedtime-stories/node_modules/dynamoose/lib/Document.ts:488:5\n    at async Promise.all (index 3)\n    at Function.Document.objectFromSchema (/Users/jappy/code/bobs-bedtime-stories/node_modules/dynamoose/lib/Document.ts:473:3)\n    at Document.toDynamo (/Users/jappy/code/bobs-bedtime-stories/node_modules/dynamoose/lib/Document.ts:513:17)\n    at async Promise.all (index 0)\n    at /Users/jappy/code/bobs-bedtime-stories/node_modules/dynamoose/lib/Document.ts:197:5",
[2022-02-13T12:43:01.092Z]         "httpStatusCode": "not-given"
[2022-02-13T12:43:01.092Z]     }
[2022-02-13T12:43:01.092Z] }
[2022-02-13T12:43:01.092Z] "Router", "request", "success", {
[2022-02-13T12:43:01.092Z]     "httpMethod": "POST",
[2022-02-13T12:43:01.092Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:43:01.092Z]     "path": "/books/jans-buch/stories",
[2022-02-13T12:43:01.093Z]     "error": null,
[2022-02-13T12:43:01.093Z]     "result": {
[2022-02-13T12:43:01.093Z]         "isBase64Encoded": false,
[2022-02-13T12:43:01.093Z]         "statusCode": 500,
[2022-02-13T12:43:01.093Z]         "headers": {
[2022-02-13T12:43:01.093Z]             "Content-Type": "application/json"
[2022-02-13T12:43:01.093Z]         },
[2022-02-13T12:43:01.093Z]         "multiValueHeaders": {},
[2022-02-13T12:43:01.093Z]         "body": "{\"error\":\"date is a required property but has no value when trying to save document\"}"
[2022-02-13T12:43:01.093Z]     }
[2022-02-13T12:43:01.093Z] }
[2022-02-13T12:43:01.093Z] "now calling callback"
[2022-02-13T12:43:01.093Z] handler called callback, sending result...
[2022-02-13T12:43:01.094Z] "Router", "request", "success", {
[2022-02-13T12:43:01.094Z]     "httpMethod": "POST",
[2022-02-13T12:43:01.094Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:43:01.094Z]     "path": "/books/jans-buch/stories"
[2022-02-13T12:43:01.094Z] }
[2022-02-13T12:43:01.094Z] "promise done, calling callback"
[2022-02-13T12:43:01.094Z] handler promise resolved, sending result...
[2022-02-13T12:43:33.082Z] Received message: {"type":"execute","eventId":"P85PEn78lFsRGxZi5LjB4","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:43:33.083Z] Executing event P85PEn78lFsRGxZi5LjB4
[2022-02-13T12:43:33.083Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:43:33.244Z] Invoking handler function: "handler"
[2022-02-13T12:43:33.244Z] "Router", "request", "info", {
[2022-02-13T12:43:33.244Z]     "httpMethod": "POST",
[2022-02-13T12:43:33.244Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:43:33.245Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:43:33.245Z] }
[2022-02-13T12:43:33.245Z] "authenticating..."
[2022-02-13T12:43:33.252Z] "handler is promise, awaiting response"
[2022-02-13T12:43:33.252Z] Waiting for handler to finish...
[2022-02-13T12:43:33.297Z] "authenticated"
[2022-02-13T12:43:33.297Z] "Router", "request", "success", {
[2022-02-13T12:43:33.297Z]     "httpMethod": "POST",
[2022-02-13T12:43:33.297Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:43:33.298Z]     "path": "/auth/verify-passcode",
[2022-02-13T12:43:33.298Z]     "error": null,
[2022-02-13T12:43:33.298Z]     "result": {
[2022-02-13T12:43:33.298Z]         "isBase64Encoded": false,
[2022-02-13T12:43:33.298Z]         "statusCode": 200,
[2022-02-13T12:43:33.298Z]         "headers": {
[2022-02-13T12:43:33.298Z]             "Content-Type": "application/json"
[2022-02-13T12:43:33.298Z]         },
[2022-02-13T12:43:33.298Z]         "multiValueHeaders": {},
[2022-02-13T12:43:33.299Z]         "body": "\"OK\""
[2022-02-13T12:43:33.299Z]     }
[2022-02-13T12:43:33.299Z] }
[2022-02-13T12:43:33.299Z] "now calling callback"
[2022-02-13T12:43:33.299Z] handler called callback, sending result...
[2022-02-13T12:43:33.299Z] "Router", "request", "success", {
[2022-02-13T12:43:33.299Z]     "httpMethod": "POST",
[2022-02-13T12:43:33.300Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:43:33.300Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:43:33.300Z] }
[2022-02-13T12:43:33.300Z] "promise done, calling callback"
[2022-02-13T12:43:33.300Z] handler promise resolved, sending result...
[2022-02-13T12:43:33.356Z] Received message: {"type":"execute","eventId":"MLkiFRltOaUbq5D2pEBcP","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"77-wdtWf6zd74rRUdse7YysXg9gShA\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:43:33.357Z] Executing event MLkiFRltOaUbq5D2pEBcP
[2022-02-13T12:43:33.357Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:43:33.441Z] Invoking handler function: "handler"
[2022-02-13T12:43:33.441Z] "Router", "request", "info", {
[2022-02-13T12:43:33.442Z]     "httpMethod": "GET",
[2022-02-13T12:43:33.442Z]     "resource": "/books",
[2022-02-13T12:43:33.442Z]     "path": "/books"
[2022-02-13T12:43:33.442Z] }
[2022-02-13T12:43:33.442Z] "authenticating..."
[2022-02-13T12:43:33.448Z] "handler is promise, awaiting response"
[2022-02-13T12:43:33.449Z] Waiting for handler to finish...
[2022-02-13T12:43:33.472Z] "authenticated"
[2022-02-13T12:43:33.472Z] "get books"
[2022-02-13T12:43:33.472Z] "add \"all\" option"
[2022-02-13T12:43:33.472Z] "execute"
[2022-02-13T12:43:33.495Z] "done", [
[2022-02-13T12:43:33.495Z]     {
[2022-02-13T12:43:33.495Z]         "title": "Rinas Buch",
[2022-02-13T12:43:33.495Z]         "description": "",
[2022-02-13T12:43:33.495Z]         "slug": "rinas-buch"
[2022-02-13T12:43:33.495Z]     },
[2022-02-13T12:43:33.496Z]     {
[2022-02-13T12:43:33.496Z]         "title": "Jans Buch",
[2022-02-13T12:43:33.496Z]         "description": "",
[2022-02-13T12:43:33.496Z]         "slug": "jans-buch"
[2022-02-13T12:43:33.496Z]     }
[2022-02-13T12:43:33.496Z] ]
[2022-02-13T12:43:33.496Z] "Router", "request", "success", {
[2022-02-13T12:43:33.496Z]     "httpMethod": "GET",
[2022-02-13T12:43:33.496Z]     "resource": "/books",
[2022-02-13T12:43:33.496Z]     "path": "/books",
[2022-02-13T12:43:33.497Z]     "error": null,
[2022-02-13T12:43:33.497Z]     "result": {
[2022-02-13T12:43:33.497Z]         "isBase64Encoded": false,
[2022-02-13T12:43:33.497Z]         "statusCode": 200,
[2022-02-13T12:43:33.497Z]         "headers": {
[2022-02-13T12:43:33.497Z]             "Content-Type": "application/json"
[2022-02-13T12:43:33.497Z]         },
[2022-02-13T12:43:33.497Z]         "multiValueHeaders": {},
[2022-02-13T12:43:33.497Z]         "body": "[{\"title\":\"Rinas Buch\",\"description\":\"\",\"slug\":\"rinas-buch\"},{\"title\":\"Jans Buch\",\"description\":\"\",\"slug\":\"jans-buch\"}]"
[2022-02-13T12:43:33.497Z]     }
[2022-02-13T12:43:33.497Z] }
[2022-02-13T12:43:33.498Z] "now calling callback"
[2022-02-13T12:43:33.498Z] handler called callback, sending result...
[2022-02-13T12:43:33.498Z] "Router", "request", "success", {
[2022-02-13T12:43:33.498Z]     "httpMethod": "GET",
[2022-02-13T12:43:33.498Z]     "resource": "/books",
[2022-02-13T12:43:33.499Z]     "path": "/books"
[2022-02-13T12:43:33.499Z] }
[2022-02-13T12:43:33.499Z] "promise done, calling callback"
[2022-02-13T12:43:33.499Z] handler promise resolved, sending result...
[2022-02-13T12:43:33.531Z] Received message: {"type":"execute","eventId":"77wgQdydQXcTnXL_0QMVC","payload":{"event":{"isBase64Encoded":false,"path":"/books/rinas-buch/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"rinas-buch","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:43:33.531Z] Executing event 77wgQdydQXcTnXL_0QMVC
[2022-02-13T12:43:33.532Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:43:33.608Z] Invoking handler function: "handler"
[2022-02-13T12:43:33.608Z] "Router", "request", "info", {
[2022-02-13T12:43:33.609Z]     "httpMethod": "GET",
[2022-02-13T12:43:33.609Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:43:33.609Z]     "path": "/books/rinas-buch/stories"
[2022-02-13T12:43:33.609Z] }
[2022-02-13T12:43:33.609Z] "authenticating..."
[2022-02-13T12:43:33.615Z] "handler is promise, awaiting response"
[2022-02-13T12:43:33.615Z] Waiting for handler to finish...
[2022-02-13T12:43:33.616Z] Received message: {"type":"execute","eventId":"3GPHpi49P9avjb9D4jq3f","payload":{"event":{"isBase64Encoded":false,"path":"/books/jans-buch/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jans-buch","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:43:33.616Z] Executing event 3GPHpi49P9avjb9D4jq3f
[2022-02-13T12:43:33.616Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:43:33.616Z] Invoking handler function: "handler"
[2022-02-13T12:43:33.616Z] "Router", "request", "info", {
[2022-02-13T12:43:33.617Z]     "httpMethod": "GET",
[2022-02-13T12:43:33.617Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:43:33.617Z]     "path": "/books/jans-buch/stories"
[2022-02-13T12:43:33.617Z] }
[2022-02-13T12:43:33.617Z] "authenticating..."
[2022-02-13T12:43:33.617Z] "handler is promise, awaiting response"
[2022-02-13T12:43:33.617Z] Waiting for handler to finish...
[2022-02-13T12:43:33.641Z] "authenticated"
[2022-02-13T12:43:33.655Z] "Router", "request", "success", {
[2022-02-13T12:43:33.655Z]     "httpMethod": "GET",
[2022-02-13T12:43:33.656Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:43:33.656Z]     "path": "/books/rinas-buch/stories",
[2022-02-13T12:43:33.656Z]     "error": null,
[2022-02-13T12:43:33.656Z]     "result": {
[2022-02-13T12:43:33.656Z]         "isBase64Encoded": false,
[2022-02-13T12:43:33.656Z]         "statusCode": 200,
[2022-02-13T12:43:33.656Z]         "headers": {
[2022-02-13T12:43:33.656Z]             "Content-Type": "application/json"
[2022-02-13T12:43:33.656Z]         },
[2022-02-13T12:43:33.656Z]         "multiValueHeaders": {},
[2022-02-13T12:43:33.656Z]         "body": "[]"
[2022-02-13T12:43:33.657Z]     }
[2022-02-13T12:43:33.657Z] }
[2022-02-13T12:43:33.657Z] "now calling callback"
[2022-02-13T12:43:33.657Z] handler called callback, sending result...
[2022-02-13T12:43:33.657Z] "Router", "request", "success", {
[2022-02-13T12:43:33.658Z]     "httpMethod": "GET",
[2022-02-13T12:43:33.658Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:43:33.658Z]     "path": "/books/rinas-buch/stories"
[2022-02-13T12:43:33.658Z] }
[2022-02-13T12:43:33.658Z] "promise done, calling callback"
[2022-02-13T12:43:33.658Z] handler promise resolved, sending result...
[2022-02-13T12:43:33.658Z] "authenticated"
[2022-02-13T12:43:33.669Z] "Router", "request", "success", {
[2022-02-13T12:43:33.669Z]     "httpMethod": "GET",
[2022-02-13T12:43:33.669Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:43:33.669Z]     "path": "/books/jans-buch/stories",
[2022-02-13T12:43:33.669Z]     "error": null,
[2022-02-13T12:43:33.669Z]     "result": {
[2022-02-13T12:43:33.670Z]         "isBase64Encoded": false,
[2022-02-13T12:43:33.670Z]         "statusCode": 200,
[2022-02-13T12:43:33.670Z]         "headers": {
[2022-02-13T12:43:33.670Z]             "Content-Type": "application/json"
[2022-02-13T12:43:33.670Z]         },
[2022-02-13T12:43:33.670Z]         "multiValueHeaders": {},
[2022-02-13T12:43:33.670Z]         "body": "[]"
[2022-02-13T12:43:33.670Z]     }
[2022-02-13T12:43:33.671Z] }
[2022-02-13T12:43:33.671Z] "now calling callback"
[2022-02-13T12:43:33.671Z] handler called callback, sending result...
[2022-02-13T12:43:33.671Z] "Router", "request", "success", {
[2022-02-13T12:43:33.671Z]     "httpMethod": "GET",
[2022-02-13T12:43:33.671Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:43:33.671Z]     "path": "/books/jans-buch/stories"
[2022-02-13T12:43:33.671Z] }
[2022-02-13T12:43:33.672Z] "promise done, calling callback"
[2022-02-13T12:43:33.672Z] handler promise resolved, sending result...
[2022-02-13T12:43:38.188Z] Received message: {"type":"execute","eventId":"rXpqrv3XYjSwTCOPqYOwG","payload":{"event":{"isBase64Encoded":false,"path":"/books/jans-buch/stories","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jans-buch","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:43:38.188Z] Executing event rXpqrv3XYjSwTCOPqYOwG
[2022-02-13T12:43:38.189Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:43:38.292Z] Invoking handler function: "handler"
[2022-02-13T12:43:38.292Z] "Router", "request", "info", {
[2022-02-13T12:43:38.292Z]     "httpMethod": "POST",
[2022-02-13T12:43:38.293Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:43:38.293Z]     "path": "/books/jans-buch/stories"
[2022-02-13T12:43:38.293Z] }
[2022-02-13T12:43:38.293Z] "authenticating..."
[2022-02-13T12:43:38.299Z] "handler is promise, awaiting response"
[2022-02-13T12:43:38.300Z] Waiting for handler to finish...
[2022-02-13T12:43:38.337Z] "authenticated"
[2022-02-13T12:43:38.368Z] {
[2022-02-13T12:43:38.368Z]     "errorResponse": {
[2022-02-13T12:43:38.368Z]         "isBase64Encoded": false,
[2022-02-13T12:43:38.368Z]         "statusCode": 500,
[2022-02-13T12:43:38.369Z]         "headers": {
[2022-02-13T12:43:38.369Z]             "Content-Type": "application/json"
[2022-02-13T12:43:38.369Z]         },
[2022-02-13T12:43:38.369Z]         "multiValueHeaders": {},
[2022-02-13T12:43:38.369Z]         "body": "{\"error\":\"Expected date to be of type date, instead found type string.\"}"
[2022-02-13T12:43:38.369Z]     },
[2022-02-13T12:43:38.369Z]     "originalError": {
[2022-02-13T12:43:38.370Z]         "name": "TypeMismatch",
[2022-02-13T12:43:38.370Z]         "message": "Expected date to be of type date, instead found type string.",
[2022-02-13T12:43:38.370Z]         "stack": "TypeMismatch: Expected date to be of type date, instead found type string.\n    at checkTypeFunction (/Users/jappy/code/bobs-bedtime-stories/node_modules/dynamoose/lib/Document.ts:332:11)\n    at Array.map (<anonymous>)\n    at Function.Document.objectFromSchema (/Users/jappy/code/bobs-bedtime-stories/node_modules/dynamoose/lib/Document.ts:353:111)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Document.toDynamo (/Users/jappy/code/bobs-bedtime-stories/node_modules/dynamoose/lib/Document.ts:513:17)\n    at async Promise.all (index 0)\n    at /Users/jappy/code/bobs-bedtime-stories/node_modules/dynamoose/lib/Document.ts:197:5",
[2022-02-13T12:43:38.370Z]         "httpStatusCode": "not-given"
[2022-02-13T12:43:38.370Z]     }
[2022-02-13T12:43:38.370Z] }
[2022-02-13T12:43:38.370Z] "Router", "request", "success", {
[2022-02-13T12:43:38.370Z]     "httpMethod": "POST",
[2022-02-13T12:43:38.370Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:43:38.371Z]     "path": "/books/jans-buch/stories",
[2022-02-13T12:43:38.371Z]     "error": null,
[2022-02-13T12:43:38.371Z]     "result": {
[2022-02-13T12:43:38.371Z]         "isBase64Encoded": false,
[2022-02-13T12:43:38.371Z]         "statusCode": 500,
[2022-02-13T12:43:38.371Z]         "headers": {
[2022-02-13T12:43:38.371Z]             "Content-Type": "application/json"
[2022-02-13T12:43:38.371Z]         },
[2022-02-13T12:43:38.371Z]         "multiValueHeaders": {},
[2022-02-13T12:43:38.371Z]         "body": "{\"error\":\"Expected date to be of type date, instead found type string.\"}"
[2022-02-13T12:43:38.371Z]     }
[2022-02-13T12:43:38.371Z] }
[2022-02-13T12:43:38.372Z] "now calling callback"
[2022-02-13T12:43:38.372Z] handler called callback, sending result...
[2022-02-13T12:43:38.372Z] "Router", "request", "success", {
[2022-02-13T12:43:38.372Z]     "httpMethod": "POST",
[2022-02-13T12:43:38.372Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:43:38.372Z]     "path": "/books/jans-buch/stories"
[2022-02-13T12:43:38.372Z] }
[2022-02-13T12:43:38.372Z] "promise done, calling callback"
[2022-02-13T12:43:38.372Z] handler promise resolved, sending result...
[2022-02-13T12:44:18.749Z] Received message: {"type":"execute","eventId":"LcVHuQ0AcjhmA5BtLQtza","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:44:18.750Z] Executing event LcVHuQ0AcjhmA5BtLQtza
[2022-02-13T12:44:18.751Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:44:18.918Z] Invoking handler function: "handler"
[2022-02-13T12:44:18.919Z] "Router", "request", "info", {
[2022-02-13T12:44:18.919Z]     "httpMethod": "POST",
[2022-02-13T12:44:18.919Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:44:18.919Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:44:18.919Z] }
[2022-02-13T12:44:18.919Z] "authenticating..."
[2022-02-13T12:44:18.927Z] "handler is promise, awaiting response"
[2022-02-13T12:44:18.928Z] Waiting for handler to finish...
[2022-02-13T12:44:18.949Z] "authenticated"
[2022-02-13T12:44:18.949Z] "Router", "request", "success", {
[2022-02-13T12:44:18.949Z]     "httpMethod": "POST",
[2022-02-13T12:44:18.950Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:44:18.950Z]     "path": "/auth/verify-passcode",
[2022-02-13T12:44:18.950Z]     "error": null,
[2022-02-13T12:44:18.950Z]     "result": {
[2022-02-13T12:44:18.950Z]         "isBase64Encoded": false,
[2022-02-13T12:44:18.950Z]         "statusCode": 200,
[2022-02-13T12:44:18.950Z]         "headers": {
[2022-02-13T12:44:18.950Z]             "Content-Type": "application/json"
[2022-02-13T12:44:18.950Z]         },
[2022-02-13T12:44:18.950Z]         "multiValueHeaders": {},
[2022-02-13T12:44:18.951Z]         "body": "\"OK\""
[2022-02-13T12:44:18.951Z]     }
[2022-02-13T12:44:18.951Z] }
[2022-02-13T12:44:18.951Z] "now calling callback"
[2022-02-13T12:44:18.951Z] handler called callback, sending result...
[2022-02-13T12:44:18.952Z] "Router", "request", "success", {
[2022-02-13T12:44:18.952Z]     "httpMethod": "POST",
[2022-02-13T12:44:18.952Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:44:18.952Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:44:18.952Z] }
[2022-02-13T12:44:18.952Z] "promise done, calling callback"
[2022-02-13T12:44:18.952Z] handler promise resolved, sending result...
[2022-02-13T12:44:19.024Z] Received message: {"type":"execute","eventId":"hZgp43hiImefYeckVMMuh","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"77-wdtWf6zd74rRUdse7YysXg9gShA\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:44:19.024Z] Executing event hZgp43hiImefYeckVMMuh
[2022-02-13T12:44:19.025Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:44:19.093Z] Invoking handler function: "handler"
[2022-02-13T12:44:19.094Z] "Router", "request", "info", {
[2022-02-13T12:44:19.094Z]     "httpMethod": "GET",
[2022-02-13T12:44:19.094Z]     "resource": "/books",
[2022-02-13T12:44:19.094Z]     "path": "/books"
[2022-02-13T12:44:19.094Z] }
[2022-02-13T12:44:19.094Z] "authenticating..."
[2022-02-13T12:44:19.101Z] "handler is promise, awaiting response"
[2022-02-13T12:44:19.101Z] Waiting for handler to finish...
[2022-02-13T12:44:19.137Z] "authenticated"
[2022-02-13T12:44:19.137Z] "get books"
[2022-02-13T12:44:19.137Z] "add \"all\" option"
[2022-02-13T12:44:19.138Z] "execute"
[2022-02-13T12:44:19.148Z] "done", [
[2022-02-13T12:44:19.149Z]     {
[2022-02-13T12:44:19.149Z]         "title": "Rinas Buch",
[2022-02-13T12:44:19.149Z]         "description": "",
[2022-02-13T12:44:19.149Z]         "slug": "rinas-buch"
[2022-02-13T12:44:19.149Z]     },
[2022-02-13T12:44:19.149Z]     {
[2022-02-13T12:44:19.149Z]         "title": "Jans Buch",
[2022-02-13T12:44:19.149Z]         "description": "",
[2022-02-13T12:44:19.149Z]         "slug": "jans-buch"
[2022-02-13T12:44:19.150Z]     }
[2022-02-13T12:44:19.150Z] ]
[2022-02-13T12:44:19.150Z] "Router", "request", "success", {
[2022-02-13T12:44:19.150Z]     "httpMethod": "GET",
[2022-02-13T12:44:19.150Z]     "resource": "/books",
[2022-02-13T12:44:19.150Z]     "path": "/books",
[2022-02-13T12:44:19.150Z]     "error": null,
[2022-02-13T12:44:19.150Z]     "result": {
[2022-02-13T12:44:19.150Z]         "isBase64Encoded": false,
[2022-02-13T12:44:19.150Z]         "statusCode": 200,
[2022-02-13T12:44:19.151Z]         "headers": {
[2022-02-13T12:44:19.151Z]             "Content-Type": "application/json"
[2022-02-13T12:44:19.151Z]         },
[2022-02-13T12:44:19.151Z]         "multiValueHeaders": {},
[2022-02-13T12:44:19.151Z]         "body": "[{\"title\":\"Rinas Buch\",\"description\":\"\",\"slug\":\"rinas-buch\"},{\"title\":\"Jans Buch\",\"description\":\"\",\"slug\":\"jans-buch\"}]"
[2022-02-13T12:44:19.151Z]     }
[2022-02-13T12:44:19.151Z] }
[2022-02-13T12:44:19.151Z] "now calling callback"
[2022-02-13T12:44:19.151Z] handler called callback, sending result...
[2022-02-13T12:44:19.152Z] "Router", "request", "success", {
[2022-02-13T12:44:19.152Z]     "httpMethod": "GET",
[2022-02-13T12:44:19.152Z]     "resource": "/books",
[2022-02-13T12:44:19.152Z]     "path": "/books"
[2022-02-13T12:44:19.152Z] }
[2022-02-13T12:44:19.152Z] "promise done, calling callback"
[2022-02-13T12:44:19.152Z] handler promise resolved, sending result...
[2022-02-13T12:44:19.185Z] Received message: {"type":"execute","eventId":"Ck-G_cHSlBOd_YixgDvRf","payload":{"event":{"isBase64Encoded":false,"path":"/books/rinas-buch/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"rinas-buch","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:44:19.185Z] Executing event Ck-G_cHSlBOd_YixgDvRf
[2022-02-13T12:44:19.186Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:44:19.269Z] Invoking handler function: "handler"
[2022-02-13T12:44:19.269Z] "Router", "request", "info", {
[2022-02-13T12:44:19.270Z]     "httpMethod": "GET",
[2022-02-13T12:44:19.270Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:44:19.270Z]     "path": "/books/rinas-buch/stories"
[2022-02-13T12:44:19.270Z] }
[2022-02-13T12:44:19.270Z] "authenticating..."
[2022-02-13T12:44:19.276Z] "handler is promise, awaiting response"
[2022-02-13T12:44:19.277Z] Waiting for handler to finish...
[2022-02-13T12:44:19.277Z] Received message: {"type":"execute","eventId":"4dxbSkWWJ8O9pYP7CFx5x","payload":{"event":{"isBase64Encoded":false,"path":"/books/jans-buch/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jans-buch","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:44:19.277Z] Executing event 4dxbSkWWJ8O9pYP7CFx5x
[2022-02-13T12:44:19.277Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:44:19.277Z] Invoking handler function: "handler"
[2022-02-13T12:44:19.278Z] "Router", "request", "info", {
[2022-02-13T12:44:19.278Z]     "httpMethod": "GET",
[2022-02-13T12:44:19.278Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:44:19.278Z]     "path": "/books/jans-buch/stories"
[2022-02-13T12:44:19.278Z] }
[2022-02-13T12:44:19.278Z] "authenticating..."
[2022-02-13T12:44:19.278Z] "handler is promise, awaiting response"
[2022-02-13T12:44:19.278Z] Waiting for handler to finish...
[2022-02-13T12:44:19.308Z] "authenticated"
[2022-02-13T12:44:19.309Z] "authenticated"
[2022-02-13T12:44:19.324Z] "Router", "request", "success", {
[2022-02-13T12:44:19.324Z]     "httpMethod": "GET",
[2022-02-13T12:44:19.324Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:44:19.325Z]     "path": "/books/rinas-buch/stories",
[2022-02-13T12:44:19.325Z]     "error": null,
[2022-02-13T12:44:19.325Z]     "result": {
[2022-02-13T12:44:19.325Z]         "isBase64Encoded": false,
[2022-02-13T12:44:19.325Z]         "statusCode": 200,
[2022-02-13T12:44:19.325Z]         "headers": {
[2022-02-13T12:44:19.325Z]             "Content-Type": "application/json"
[2022-02-13T12:44:19.325Z]         },
[2022-02-13T12:44:19.325Z]         "multiValueHeaders": {},
[2022-02-13T12:44:19.326Z]         "body": "[]"
[2022-02-13T12:44:19.326Z]     }
[2022-02-13T12:44:19.326Z] }
[2022-02-13T12:44:19.326Z] "now calling callback"
[2022-02-13T12:44:19.326Z] handler called callback, sending result...
[2022-02-13T12:44:19.326Z] "Router", "request", "success", {
[2022-02-13T12:44:19.326Z]     "httpMethod": "GET",
[2022-02-13T12:44:19.327Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:44:19.327Z]     "path": "/books/rinas-buch/stories"
[2022-02-13T12:44:19.327Z] }
[2022-02-13T12:44:19.327Z] "promise done, calling callback"
[2022-02-13T12:44:19.328Z] handler promise resolved, sending result...
[2022-02-13T12:44:19.328Z] "Router", "request", "success", {
[2022-02-13T12:44:19.328Z]     "httpMethod": "GET",
[2022-02-13T12:44:19.328Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:44:19.328Z]     "path": "/books/jans-buch/stories",
[2022-02-13T12:44:19.328Z]     "error": null,
[2022-02-13T12:44:19.329Z]     "result": {
[2022-02-13T12:44:19.329Z]         "isBase64Encoded": false,
[2022-02-13T12:44:19.329Z]         "statusCode": 200,
[2022-02-13T12:44:19.329Z]         "headers": {
[2022-02-13T12:44:19.329Z]             "Content-Type": "application/json"
[2022-02-13T12:44:19.329Z]         },
[2022-02-13T12:44:19.329Z]         "multiValueHeaders": {},
[2022-02-13T12:44:19.329Z]         "body": "[]"
[2022-02-13T12:44:19.329Z]     }
[2022-02-13T12:44:19.329Z] }
[2022-02-13T12:44:19.330Z] "now calling callback"
[2022-02-13T12:44:19.330Z] handler called callback, sending result...
[2022-02-13T12:44:19.330Z] "Router", "request", "success", {
[2022-02-13T12:44:19.330Z]     "httpMethod": "GET",
[2022-02-13T12:44:19.330Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:44:19.330Z]     "path": "/books/jans-buch/stories"
[2022-02-13T12:44:19.330Z] }
[2022-02-13T12:44:19.330Z] "promise done, calling callback"
[2022-02-13T12:44:19.330Z] handler promise resolved, sending result...
[2022-02-13T12:44:23.806Z] Received message: {"type":"execute","eventId":"mu91ttQl-v39Ue2Z4qmZ8","payload":{"event":{"isBase64Encoded":false,"path":"/books/jans-buch/stories","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jans-buch","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:44:23.806Z] Executing event mu91ttQl-v39Ue2Z4qmZ8
[2022-02-13T12:44:23.807Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:44:23.898Z] Invoking handler function: "handler"
[2022-02-13T12:44:23.899Z] "Router", "request", "info", {
[2022-02-13T12:44:23.899Z]     "httpMethod": "POST",
[2022-02-13T12:44:23.899Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:44:23.899Z]     "path": "/books/jans-buch/stories"
[2022-02-13T12:44:23.899Z] }
[2022-02-13T12:44:23.899Z] "authenticating..."
[2022-02-13T12:44:23.905Z] "handler is promise, awaiting response"
[2022-02-13T12:44:23.906Z] Waiting for handler to finish...
[2022-02-13T12:44:23.935Z] "authenticated"
[2022-02-13T12:44:23.980Z] "Router", "request", "success", {
[2022-02-13T12:44:23.980Z]     "httpMethod": "POST",
[2022-02-13T12:44:23.980Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:44:23.980Z]     "path": "/books/jans-buch/stories",
[2022-02-13T12:44:23.980Z]     "error": null,
[2022-02-13T12:44:23.980Z]     "result": {
[2022-02-13T12:44:23.980Z]         "isBase64Encoded": false,
[2022-02-13T12:44:23.980Z]         "statusCode": 200,
[2022-02-13T12:44:23.980Z]         "headers": {
[2022-02-13T12:44:23.981Z]             "Content-Type": "application/json"
[2022-02-13T12:44:23.981Z]         },
[2022-02-13T12:44:23.981Z]         "multiValueHeaders": {},
[2022-02-13T12:44:23.981Z]         "body": "{\"story\":{\"bookSlug\":\"jans-buch\",\"episode\":1,\"date\":1644756263950},\"audioUploadUrlData\":{\"url\":\"http://localhost:9000/localstack-cdn\",\"fields\":{\"key\":\"books/jans-buch/stories/1/audio/i6LhF\",\"bucket\":\"localstack-cdn\",\"X-Amz-Algorithm\":\"AWS4-HMAC-SHA256\",\"X-Amz-Credential\":\"fakeMyKeyId/20220213/us-east-1/s3/aws4_request\",\"X-Amz-Date\":\"20220213T124423Z\",\"Policy\":\"eyJleHBpcmF0aW9uIjoiMjAyMi0wMi0xM1QxMjo0NDo0M1oiLCJjb25kaXRpb25zIjpbWyJjb250ZW50LWxlbmd0aC1yYW5nZSIsMCwxMDAwMDAwMDBdLFsiQ2FjaGUtQ29udHJvbCIsIm1heC1hZ2U9MzE1MzYwMDAiXSx7ImtleSI6ImJvb2tzL2phbnMtYnVjaC9zdG9yaWVzLzEvYXVkaW8vaTZMaEYifSx7ImJ1Y2tldCI6ImxvY2Fsc3RhY2stY2RuIn0seyJYLUFtei1BbGdvcml0aG0iOiJBV1M0LUhNQUMtU0hBMjU2In0seyJYLUFtei1DcmVkZW50aWFsIjoiZmFrZU15S2V5SWQvMjAyMjAyMTMvdXMtZWFzdC0xL3MzL2F3czRfcmVxdWVzdCJ9LHsiWC1BbXotRGF0ZSI6IjIwMjIwMjEzVDEyNDQyM1oifV19\",\"X-Amz-Signature\":\"1fd5b8d7d9c549bf6184fa5b45a2726d3a6d7506def2ea87a73a7ffd14bb03ea\"}}}"
[2022-02-13T12:44:23.981Z]     }
[2022-02-13T12:44:23.982Z] }
[2022-02-13T12:44:23.982Z] "now calling callback"
[2022-02-13T12:44:23.982Z] handler called callback, sending result...
[2022-02-13T12:44:23.982Z] "Router", "request", "success", {
[2022-02-13T12:44:23.982Z]     "httpMethod": "POST",
[2022-02-13T12:44:23.982Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:44:23.982Z]     "path": "/books/jans-buch/stories"
[2022-02-13T12:44:23.983Z] }
[2022-02-13T12:44:23.983Z] "promise done, calling callback"
[2022-02-13T12:44:23.983Z] handler promise resolved, sending result...
[2022-02-13T12:48:43.191Z] Received message: {"type":"execute","eventId":"f-bFNEHr8THwqq-M7vpI2","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:48:43.191Z] Executing event f-bFNEHr8THwqq-M7vpI2
[2022-02-13T12:48:43.192Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:48:43.274Z] Invoking handler function: "handler"
[2022-02-13T12:48:43.274Z] "Router", "request", "info", {
[2022-02-13T12:48:43.294Z]     "httpMethod": "POST",
[2022-02-13T12:48:43.294Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:48:43.294Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:48:43.295Z] }
[2022-02-13T12:48:43.295Z] "authenticating..."
[2022-02-13T12:48:43.295Z] "handler is promise, awaiting response"
[2022-02-13T12:48:43.295Z] Waiting for handler to finish...
[2022-02-13T12:48:43.333Z] "authenticated"
[2022-02-13T12:48:43.334Z] "Router", "request", "success", {
[2022-02-13T12:48:43.334Z]     "httpMethod": "POST",
[2022-02-13T12:48:43.334Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:48:43.334Z]     "path": "/auth/verify-passcode",
[2022-02-13T12:48:43.334Z]     "error": null,
[2022-02-13T12:48:43.334Z]     "result": {
[2022-02-13T12:48:43.335Z]         "isBase64Encoded": false,
[2022-02-13T12:48:43.335Z]         "statusCode": 200,
[2022-02-13T12:48:43.335Z]         "headers": {
[2022-02-13T12:48:43.335Z]             "Content-Type": "application/json"
[2022-02-13T12:48:43.335Z]         },
[2022-02-13T12:48:43.335Z]         "multiValueHeaders": {},
[2022-02-13T12:48:43.335Z]         "body": "\"OK\""
[2022-02-13T12:48:43.335Z]     }
[2022-02-13T12:48:43.335Z] }
[2022-02-13T12:48:43.335Z] "now calling callback"
[2022-02-13T12:48:43.335Z] handler called callback, sending result...
[2022-02-13T12:48:43.336Z] "Router", "request", "success", {
[2022-02-13T12:48:43.336Z]     "httpMethod": "POST",
[2022-02-13T12:48:43.336Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:48:43.337Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:48:43.337Z] }
[2022-02-13T12:48:43.337Z] "promise done, calling callback"
[2022-02-13T12:48:43.337Z] handler promise resolved, sending result...
[2022-02-13T12:48:43.382Z] Received message: {"type":"execute","eventId":"IYfe5h-_JoL25R1rRRER5","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"77-wdtWf6zd74rRUdse7YysXg9gShA\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:48:43.383Z] Executing event IYfe5h-_JoL25R1rRRER5
[2022-02-13T12:48:43.383Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:48:43.462Z] Invoking handler function: "handler"
[2022-02-13T12:48:43.462Z] "Router", "request", "info", {
[2022-02-13T12:48:43.463Z]     "httpMethod": "GET",
[2022-02-13T12:48:43.463Z]     "resource": "/books",
[2022-02-13T12:48:43.463Z]     "path": "/books"
[2022-02-13T12:48:43.463Z] }
[2022-02-13T12:48:43.463Z] "authenticating..."
[2022-02-13T12:48:43.469Z] "handler is promise, awaiting response"
[2022-02-13T12:48:43.469Z] Waiting for handler to finish...
[2022-02-13T12:48:43.524Z] "authenticated"
[2022-02-13T12:48:43.524Z] "get books"
[2022-02-13T12:48:43.524Z] "add \"all\" option"
[2022-02-13T12:48:43.524Z] "execute"
[2022-02-13T12:48:43.544Z] "done", []
[2022-02-13T12:48:43.545Z] "Router", "request", "success", {
[2022-02-13T12:48:43.545Z]     "httpMethod": "GET",
[2022-02-13T12:48:43.545Z]     "resource": "/books",
[2022-02-13T12:48:43.545Z]     "path": "/books",
[2022-02-13T12:48:43.545Z]     "error": null,
[2022-02-13T12:48:43.545Z]     "result": {
[2022-02-13T12:48:43.545Z]         "isBase64Encoded": false,
[2022-02-13T12:48:43.545Z]         "statusCode": 200,
[2022-02-13T12:48:43.545Z]         "headers": {
[2022-02-13T12:48:43.546Z]             "Content-Type": "application/json"
[2022-02-13T12:48:43.546Z]         },
[2022-02-13T12:48:43.546Z]         "multiValueHeaders": {},
[2022-02-13T12:48:43.546Z]         "body": "[]"
[2022-02-13T12:48:43.546Z]     }
[2022-02-13T12:48:43.546Z] }
[2022-02-13T12:48:43.546Z] "now calling callback"
[2022-02-13T12:48:43.546Z] handler called callback, sending result...
[2022-02-13T12:48:43.547Z] "Router", "request", "success", {
[2022-02-13T12:48:43.547Z]     "httpMethod": "GET",
[2022-02-13T12:48:43.547Z]     "resource": "/books",
[2022-02-13T12:48:43.547Z]     "path": "/books"
[2022-02-13T12:48:43.547Z] }
[2022-02-13T12:48:43.547Z] "promise done, calling callback"
[2022-02-13T12:48:43.547Z] handler promise resolved, sending result...
[2022-02-13T12:48:50.360Z] Received message: {"type":"execute","eventId":"-oza-yKOb_FSV0zkvppxg","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"38","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"{\"title\":\"jans buch\",\"description\":\"\"}","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:48:50.361Z] Executing event -oza-yKOb_FSV0zkvppxg
[2022-02-13T12:48:50.361Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:48:50.451Z] Invoking handler function: "handler"
[2022-02-13T12:48:50.451Z] "Router", "request", "info", {
[2022-02-13T12:48:50.452Z]     "httpMethod": "POST",
[2022-02-13T12:48:50.452Z]     "resource": "/books",
[2022-02-13T12:48:50.452Z]     "path": "/books"
[2022-02-13T12:48:50.452Z] }
[2022-02-13T12:48:50.452Z] "authenticating..."
[2022-02-13T12:48:50.458Z] "handler is promise, awaiting response"
[2022-02-13T12:48:50.458Z] Waiting for handler to finish...
[2022-02-13T12:48:50.572Z] "authenticated"
[2022-02-13T12:48:50.653Z] "Router", "request", "success", {
[2022-02-13T12:48:50.654Z]     "httpMethod": "POST",
[2022-02-13T12:48:50.654Z]     "resource": "/books",
[2022-02-13T12:48:50.654Z]     "path": "/books",
[2022-02-13T12:48:50.654Z]     "error": null,
[2022-02-13T12:48:50.654Z]     "result": {
[2022-02-13T12:48:50.654Z]         "isBase64Encoded": false,
[2022-02-13T12:48:50.654Z]         "statusCode": 200,
[2022-02-13T12:48:50.654Z]         "headers": {
[2022-02-13T12:48:50.654Z]             "Content-Type": "application/json"
[2022-02-13T12:48:50.654Z]         },
[2022-02-13T12:48:50.654Z]         "multiValueHeaders": {},
[2022-02-13T12:48:50.654Z]         "body": "{\"title\":\"jans buch\",\"description\":\"\",\"slug\":\"jans-buch\"}"
[2022-02-13T12:48:50.655Z]     }
[2022-02-13T12:48:50.655Z] }
[2022-02-13T12:48:50.655Z] "now calling callback"
[2022-02-13T12:48:50.655Z] handler called callback, sending result...
[2022-02-13T12:48:50.655Z] "Router", "request", "success", {
[2022-02-13T12:48:50.655Z]     "httpMethod": "POST",
[2022-02-13T12:48:50.655Z]     "resource": "/books",
[2022-02-13T12:48:50.655Z]     "path": "/books"
[2022-02-13T12:48:50.655Z] }
[2022-02-13T12:48:50.655Z] "promise done, calling callback"
[2022-02-13T12:48:50.656Z] handler promise resolved, sending result...
[2022-02-13T12:48:52.814Z] Received message: {"type":"execute","eventId":"x7rQqn6SSsvxjC4v8ZKYT","payload":{"event":{"isBase64Encoded":false,"path":"/books/jans-buch/stories","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jans-buch","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:48:52.821Z] Executing event x7rQqn6SSsvxjC4v8ZKYT
[2022-02-13T12:48:52.821Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:48:52.908Z] Invoking handler function: "handler"
[2022-02-13T12:48:52.908Z] "Router", "request", "info", {
[2022-02-13T12:48:52.908Z]     "httpMethod": "POST",
[2022-02-13T12:48:52.908Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:48:52.908Z]     "path": "/books/jans-buch/stories"
[2022-02-13T12:48:52.909Z] }
[2022-02-13T12:48:52.910Z] "authenticating..."
[2022-02-13T12:48:52.915Z] "handler is promise, awaiting response"
[2022-02-13T12:48:52.915Z] Waiting for handler to finish...
[2022-02-13T12:48:52.962Z] "authenticated"
[2022-02-13T12:48:53.009Z] "Router", "request", "success", {
[2022-02-13T12:48:53.009Z]     "httpMethod": "POST",
[2022-02-13T12:48:53.009Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:48:53.009Z]     "path": "/books/jans-buch/stories",
[2022-02-13T12:48:53.009Z]     "error": null,
[2022-02-13T12:48:53.009Z]     "result": {
[2022-02-13T12:48:53.009Z]         "isBase64Encoded": false,
[2022-02-13T12:48:53.009Z]         "statusCode": 200,
[2022-02-13T12:48:53.010Z]         "headers": {
[2022-02-13T12:48:53.010Z]             "Content-Type": "application/json"
[2022-02-13T12:48:53.010Z]         },
[2022-02-13T12:48:53.010Z]         "multiValueHeaders": {},
[2022-02-13T12:48:53.010Z]         "body": "{\"story\":{\"bookSlug\":\"jans-buch\",\"episode\":1,\"date\":1644756532982},\"audioUploadUrlData\":{\"url\":\"http://localhost:9000/localstack-cdn\",\"fields\":{\"key\":\"books/jans-buch/stories/1/audio/Dls-h\",\"bucket\":\"localstack-cdn\",\"X-Amz-Algorithm\":\"AWS4-HMAC-SHA256\",\"X-Amz-Credential\":\"fakeMyKeyId/20220213/us-east-1/s3/aws4_request\",\"X-Amz-Date\":\"20220213T124852Z\",\"Policy\":\"eyJleHBpcmF0aW9uIjoiMjAyMi0wMi0xM1QxMjo0OToxMloiLCJjb25kaXRpb25zIjpbWyJjb250ZW50LWxlbmd0aC1yYW5nZSIsMCwxMDAwMDAwMDBdLFsiQ2FjaGUtQ29udHJvbCIsIm1heC1hZ2U9MzE1MzYwMDAiXSx7ImtleSI6ImJvb2tzL2phbnMtYnVjaC9zdG9yaWVzLzEvYXVkaW8vRGxzLWgifSx7ImJ1Y2tldCI6ImxvY2Fsc3RhY2stY2RuIn0seyJYLUFtei1BbGdvcml0aG0iOiJBV1M0LUhNQUMtU0hBMjU2In0seyJYLUFtei1DcmVkZW50aWFsIjoiZmFrZU15S2V5SWQvMjAyMjAyMTMvdXMtZWFzdC0xL3MzL2F3czRfcmVxdWVzdCJ9LHsiWC1BbXotRGF0ZSI6IjIwMjIwMjEzVDEyNDg1MloifV19\",\"X-Amz-Signature\":\"d136e2cf75a2397515c212b1384a7bca7e26c967b0f2d71e34cdb10e36db7b32\"}}}"
[2022-02-13T12:48:53.010Z]     }
[2022-02-13T12:48:53.010Z] }
[2022-02-13T12:48:53.011Z] "now calling callback"
[2022-02-13T12:48:53.011Z] handler called callback, sending result...
[2022-02-13T12:48:53.011Z] "Router", "request", "success", {
[2022-02-13T12:48:53.011Z]     "httpMethod": "POST",
[2022-02-13T12:48:53.011Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:48:53.011Z]     "path": "/books/jans-buch/stories"
[2022-02-13T12:48:53.011Z] }
[2022-02-13T12:48:53.011Z] "promise done, calling callback"
[2022-02-13T12:48:53.012Z] handler promise resolved, sending result...
[2022-02-13T12:49:23.498Z] Received message: {"type":"execute","eventId":"y9ebdtUzJSuj5D6agV5PG","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:49:23.507Z] Executing event y9ebdtUzJSuj5D6agV5PG
[2022-02-13T12:49:23.525Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:49:23.592Z] Invoking handler function: "handler"
[2022-02-13T12:49:23.592Z] "Router", "request", "info", {
[2022-02-13T12:49:23.592Z]     "httpMethod": "POST",
[2022-02-13T12:49:23.593Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:49:23.593Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:49:23.593Z] }
[2022-02-13T12:49:23.593Z] "authenticating..."
[2022-02-13T12:49:23.599Z] "handler is promise, awaiting response"
[2022-02-13T12:49:23.599Z] Waiting for handler to finish...
[2022-02-13T12:49:23.637Z] "authenticated"
[2022-02-13T12:49:23.637Z] "Router", "request", "success", {
[2022-02-13T12:49:23.637Z]     "httpMethod": "POST",
[2022-02-13T12:49:23.637Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:49:23.637Z]     "path": "/auth/verify-passcode",
[2022-02-13T12:49:23.637Z]     "error": null,
[2022-02-13T12:49:23.638Z]     "result": {
[2022-02-13T12:49:23.638Z]         "isBase64Encoded": false,
[2022-02-13T12:49:23.638Z]         "statusCode": 200,
[2022-02-13T12:49:23.638Z]         "headers": {
[2022-02-13T12:49:23.638Z]             "Content-Type": "application/json"
[2022-02-13T12:49:23.638Z]         },
[2022-02-13T12:49:23.638Z]         "multiValueHeaders": {},
[2022-02-13T12:49:23.639Z]         "body": "\"OK\""
[2022-02-13T12:49:23.639Z]     }
[2022-02-13T12:49:23.639Z] }
[2022-02-13T12:49:23.639Z] "now calling callback"
[2022-02-13T12:49:23.639Z] handler called callback, sending result...
[2022-02-13T12:49:23.639Z] "Router", "request", "success", {
[2022-02-13T12:49:23.640Z]     "httpMethod": "POST",
[2022-02-13T12:49:23.640Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:49:23.640Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:49:23.640Z] }
[2022-02-13T12:49:23.640Z] "promise done, calling callback"
[2022-02-13T12:49:23.640Z] handler promise resolved, sending result...
[2022-02-13T12:49:23.685Z] Received message: {"type":"execute","eventId":"0QmRmtwHnCmo9AQrzNrTf","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:49:23.685Z] Executing event 0QmRmtwHnCmo9AQrzNrTf
[2022-02-13T12:49:23.686Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:49:23.768Z] Invoking handler function: "handler"
[2022-02-13T12:49:23.768Z] "Router", "request", "info", {
[2022-02-13T12:49:23.769Z]     "httpMethod": "GET",
[2022-02-13T12:49:23.769Z]     "resource": "/books",
[2022-02-13T12:49:23.769Z]     "path": "/books"
[2022-02-13T12:49:23.769Z] }
[2022-02-13T12:49:23.769Z] "authenticating..."
[2022-02-13T12:49:23.776Z] "handler is promise, awaiting response"
[2022-02-13T12:49:23.776Z] Waiting for handler to finish...
[2022-02-13T12:49:23.813Z] "authenticated"
[2022-02-13T12:49:23.814Z] "get books"
[2022-02-13T12:49:23.814Z] "add \"all\" option"
[2022-02-13T12:49:23.814Z] "execute"
[2022-02-13T12:49:23.833Z] "done", [
[2022-02-13T12:49:23.833Z]     {
[2022-02-13T12:49:23.833Z]         "title": "jans buch",
[2022-02-13T12:49:23.833Z]         "description": "",
[2022-02-13T12:49:23.833Z]         "slug": "jans-buch"
[2022-02-13T12:49:23.834Z]     }
[2022-02-13T12:49:23.834Z] ]
[2022-02-13T12:49:23.834Z] "Router", "request", "success", {
[2022-02-13T12:49:23.834Z]     "httpMethod": "GET",
[2022-02-13T12:49:23.834Z]     "resource": "/books",
[2022-02-13T12:49:23.834Z]     "path": "/books",
[2022-02-13T12:49:23.834Z]     "error": null,
[2022-02-13T12:49:23.834Z]     "result": {
[2022-02-13T12:49:23.834Z]         "isBase64Encoded": false,
[2022-02-13T12:49:23.834Z]         "statusCode": 200,
[2022-02-13T12:49:23.835Z]         "headers": {
[2022-02-13T12:49:23.835Z]             "Content-Type": "application/json"
[2022-02-13T12:49:23.835Z]         },
[2022-02-13T12:49:23.835Z]         "multiValueHeaders": {},
[2022-02-13T12:49:23.835Z]         "body": "[{\"title\":\"jans buch\",\"description\":\"\",\"slug\":\"jans-buch\"}]"
[2022-02-13T12:49:23.835Z]     }
[2022-02-13T12:49:23.835Z] }
[2022-02-13T12:49:23.835Z] "now calling callback"
[2022-02-13T12:49:23.835Z] handler called callback, sending result...
[2022-02-13T12:49:23.835Z] "Router", "request", "success", {
[2022-02-13T12:49:23.836Z]     "httpMethod": "GET",
[2022-02-13T12:49:23.836Z]     "resource": "/books",
[2022-02-13T12:49:23.836Z]     "path": "/books"
[2022-02-13T12:49:23.836Z] }
[2022-02-13T12:49:23.836Z] "promise done, calling callback"
[2022-02-13T12:49:23.836Z] handler promise resolved, sending result...
[2022-02-13T12:49:23.869Z] Received message: {"type":"execute","eventId":"yg7J9s6QXIkXlrNKDkoR3","payload":{"event":{"isBase64Encoded":false,"path":"/books/jans-buch/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jans-buch","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:49:23.869Z] Executing event yg7J9s6QXIkXlrNKDkoR3
[2022-02-13T12:49:23.869Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:49:23.949Z] Invoking handler function: "handler"
[2022-02-13T12:49:23.950Z] "Router", "request", "info", {
[2022-02-13T12:49:23.950Z]     "httpMethod": "GET",
[2022-02-13T12:49:23.950Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:49:23.950Z]     "path": "/books/jans-buch/stories"
[2022-02-13T12:49:23.950Z] }
[2022-02-13T12:49:23.950Z] "authenticating..."
[2022-02-13T12:49:23.956Z] "handler is promise, awaiting response"
[2022-02-13T12:49:23.957Z] Waiting for handler to finish...
[2022-02-13T12:49:23.985Z] "authenticated"
[2022-02-13T12:49:23.998Z] "Router", "request", "success", {
[2022-02-13T12:49:23.998Z]     "httpMethod": "GET",
[2022-02-13T12:49:23.998Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:49:23.998Z]     "path": "/books/jans-buch/stories",
[2022-02-13T12:49:23.999Z]     "error": null,
[2022-02-13T12:49:23.999Z]     "result": {
[2022-02-13T12:49:23.999Z]         "isBase64Encoded": false,
[2022-02-13T12:49:23.999Z]         "statusCode": 200,
[2022-02-13T12:49:23.999Z]         "headers": {
[2022-02-13T12:49:23.999Z]             "Content-Type": "application/json"
[2022-02-13T12:49:23.999Z]         },
[2022-02-13T12:49:23.999Z]         "multiValueHeaders": {},
[2022-02-13T12:49:23.999Z]         "body": "[{\"date\":\"2022-02-13T12:48:52.982Z\",\"episode\":1,\"bookSlug\":\"jans-buch\"}]"
[2022-02-13T12:49:23.999Z]     }
[2022-02-13T12:49:23.999Z] }
[2022-02-13T12:49:24.000Z] "now calling callback"
[2022-02-13T12:49:24.000Z] handler called callback, sending result...
[2022-02-13T12:49:24.001Z] "Router", "request", "success", {
[2022-02-13T12:49:24.001Z]     "httpMethod": "GET",
[2022-02-13T12:49:24.001Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:49:24.001Z]     "path": "/books/jans-buch/stories"
[2022-02-13T12:49:24.001Z] }
[2022-02-13T12:49:24.001Z] "promise done, calling callback"
[2022-02-13T12:49:24.001Z] handler promise resolved, sending result...
[2022-02-13T12:50:16.675Z] Received message: {"type":"execute","eventId":"r7LgHV85t2SJZ45ep5f-w","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:50:16.675Z] Executing event r7LgHV85t2SJZ45ep5f-w
[2022-02-13T12:50:16.675Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:50:16.768Z] Invoking handler function: "handler"
[2022-02-13T12:50:16.769Z] "Router", "request", "info", {
[2022-02-13T12:50:16.769Z]     "httpMethod": "POST",
[2022-02-13T12:50:16.769Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:50:16.769Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:50:16.770Z] }
[2022-02-13T12:50:16.770Z] "authenticating..."
[2022-02-13T12:50:16.777Z] "handler is promise, awaiting response"
[2022-02-13T12:50:16.777Z] Waiting for handler to finish...
[2022-02-13T12:50:16.822Z] "authenticated"
[2022-02-13T12:50:16.823Z] "Router", "request", "success", {
[2022-02-13T12:50:16.823Z]     "httpMethod": "POST",
[2022-02-13T12:50:16.823Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:50:16.823Z]     "path": "/auth/verify-passcode",
[2022-02-13T12:50:16.823Z]     "error": null,
[2022-02-13T12:50:16.823Z]     "result": {
[2022-02-13T12:50:16.823Z]         "isBase64Encoded": false,
[2022-02-13T12:50:16.823Z]         "statusCode": 200,
[2022-02-13T12:50:16.824Z]         "headers": {
[2022-02-13T12:50:16.824Z]             "Content-Type": "application/json"
[2022-02-13T12:50:16.824Z]         },
[2022-02-13T12:50:16.824Z]         "multiValueHeaders": {},
[2022-02-13T12:50:16.824Z]         "body": "\"OK\""
[2022-02-13T12:50:16.824Z]     }
[2022-02-13T12:50:16.824Z] }
[2022-02-13T12:50:16.824Z] "now calling callback"
[2022-02-13T12:50:16.824Z] handler called callback, sending result...
[2022-02-13T12:50:16.825Z] "Router", "request", "success", {
[2022-02-13T12:50:16.825Z]     "httpMethod": "POST",
[2022-02-13T12:50:16.825Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:50:16.825Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:50:16.825Z] }
[2022-02-13T12:50:16.825Z] "promise done, calling callback"
[2022-02-13T12:50:16.825Z] handler promise resolved, sending result...
[2022-02-13T12:50:16.872Z] Received message: {"type":"execute","eventId":"vTK3gPJ8pQQqbguGQ4jfh","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7","if-none-match":"W/\"3b-qYrzIsv+hEWf+fSkgO3dpccxGek\""},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:50:16.872Z] Executing event vTK3gPJ8pQQqbguGQ4jfh
[2022-02-13T12:50:16.874Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:50:16.972Z] Invoking handler function: "handler"
[2022-02-13T12:50:16.972Z] "Router", "request", "info", {
[2022-02-13T12:50:16.973Z]     "httpMethod": "GET",
[2022-02-13T12:50:16.973Z]     "resource": "/books",
[2022-02-13T12:50:16.973Z]     "path": "/books"
[2022-02-13T12:50:16.973Z] }
[2022-02-13T12:50:16.973Z] "authenticating..."
[2022-02-13T12:50:16.979Z] "handler is promise, awaiting response"
[2022-02-13T12:50:16.979Z] Waiting for handler to finish...
[2022-02-13T12:50:17.023Z] "authenticated"
[2022-02-13T12:50:17.023Z] "get books"
[2022-02-13T12:50:17.023Z] "add \"all\" option"
[2022-02-13T12:50:17.023Z] "execute"
[2022-02-13T12:50:17.048Z] "done", []
[2022-02-13T12:50:17.048Z] "Router", "request", "success", {
[2022-02-13T12:50:17.048Z]     "httpMethod": "GET",
[2022-02-13T12:50:17.048Z]     "resource": "/books",
[2022-02-13T12:50:17.048Z]     "path": "/books",
[2022-02-13T12:50:17.048Z]     "error": null,
[2022-02-13T12:50:17.048Z]     "result": {
[2022-02-13T12:50:17.049Z]         "isBase64Encoded": false,
[2022-02-13T12:50:17.049Z]         "statusCode": 200,
[2022-02-13T12:50:17.049Z]         "headers": {
[2022-02-13T12:50:17.049Z]             "Content-Type": "application/json"
[2022-02-13T12:50:17.049Z]         },
[2022-02-13T12:50:17.049Z]         "multiValueHeaders": {},
[2022-02-13T12:50:17.049Z]         "body": "[]"
[2022-02-13T12:50:17.049Z]     }
[2022-02-13T12:50:17.049Z] }
[2022-02-13T12:50:17.050Z] "now calling callback"
[2022-02-13T12:50:17.050Z] handler called callback, sending result...
[2022-02-13T12:50:17.050Z] "Router", "request", "success", {
[2022-02-13T12:50:17.050Z]     "httpMethod": "GET",
[2022-02-13T12:50:17.050Z]     "resource": "/books",
[2022-02-13T12:50:17.050Z]     "path": "/books"
[2022-02-13T12:50:17.050Z] }
[2022-02-13T12:50:17.050Z] "promise done, calling callback"
[2022-02-13T12:50:17.050Z] handler promise resolved, sending result...
[2022-02-13T12:50:23.167Z] Received message: {"type":"execute","eventId":"j8kKiyvgeqiemI6rWIPcy","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"38","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"{\"title\":\"jans buch\",\"description\":\"\"}","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:50:23.167Z] Executing event j8kKiyvgeqiemI6rWIPcy
[2022-02-13T12:50:23.168Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:50:23.258Z] Invoking handler function: "handler"
[2022-02-13T12:50:23.258Z] "Router", "request", "info", {
[2022-02-13T12:50:23.258Z]     "httpMethod": "POST",
[2022-02-13T12:50:23.258Z]     "resource": "/books",
[2022-02-13T12:50:23.258Z]     "path": "/books"
[2022-02-13T12:50:23.258Z] }
[2022-02-13T12:50:23.259Z] "authenticating..."
[2022-02-13T12:50:23.265Z] "handler is promise, awaiting response"
[2022-02-13T12:50:23.265Z] Waiting for handler to finish...
[2022-02-13T12:50:23.301Z] "authenticated"
[2022-02-13T12:50:23.394Z] "Router", "request", "success", {
[2022-02-13T12:50:23.395Z]     "httpMethod": "POST",
[2022-02-13T12:50:23.395Z]     "resource": "/books",
[2022-02-13T12:50:23.395Z]     "path": "/books",
[2022-02-13T12:50:23.395Z]     "error": null,
[2022-02-13T12:50:23.395Z]     "result": {
[2022-02-13T12:50:23.395Z]         "isBase64Encoded": false,
[2022-02-13T12:50:23.395Z]         "statusCode": 200,
[2022-02-13T12:50:23.395Z]         "headers": {
[2022-02-13T12:50:23.395Z]             "Content-Type": "application/json"
[2022-02-13T12:50:23.395Z]         },
[2022-02-13T12:50:23.395Z]         "multiValueHeaders": {},
[2022-02-13T12:50:23.395Z]         "body": "{\"title\":\"jans buch\",\"description\":\"\",\"slug\":\"jans-buch\"}"
[2022-02-13T12:50:23.396Z]     }
[2022-02-13T12:50:23.396Z] }
[2022-02-13T12:50:23.396Z] "now calling callback"
[2022-02-13T12:50:23.396Z] handler called callback, sending result...
[2022-02-13T12:50:23.397Z] "Router", "request", "success", {
[2022-02-13T12:50:23.397Z]     "httpMethod": "POST",
[2022-02-13T12:50:23.397Z]     "resource": "/books",
[2022-02-13T12:50:23.397Z]     "path": "/books"
[2022-02-13T12:50:23.397Z] }
[2022-02-13T12:50:23.397Z] "promise done, calling callback"
[2022-02-13T12:50:23.397Z] handler promise resolved, sending result...
[2022-02-13T12:50:25.688Z] Received message: {"type":"execute","eventId":"f6xbobMHtgHZezvJMht0h","payload":{"event":{"isBase64Encoded":false,"path":"/books/jans-buch/stories","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jans-buch","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:50:25.688Z] Executing event f6xbobMHtgHZezvJMht0h
[2022-02-13T12:50:25.688Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:50:25.783Z] Invoking handler function: "handler"
[2022-02-13T12:50:25.783Z] "Router", "request", "info", {
[2022-02-13T12:50:25.784Z]     "httpMethod": "POST",
[2022-02-13T12:50:25.784Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:50:25.784Z]     "path": "/books/jans-buch/stories"
[2022-02-13T12:50:25.784Z] }
[2022-02-13T12:50:25.784Z] "authenticating..."
[2022-02-13T12:50:25.790Z] "handler is promise, awaiting response"
[2022-02-13T12:50:25.790Z] Waiting for handler to finish...
[2022-02-13T12:50:25.828Z] "authenticated"
[2022-02-13T12:50:25.877Z] "Router", "request", "success", {
[2022-02-13T12:50:25.878Z]     "httpMethod": "POST",
[2022-02-13T12:50:25.878Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:50:25.878Z]     "path": "/books/jans-buch/stories",
[2022-02-13T12:50:25.878Z]     "error": null,
[2022-02-13T12:50:25.878Z]     "result": {
[2022-02-13T12:50:25.878Z]         "isBase64Encoded": false,
[2022-02-13T12:50:25.878Z]         "statusCode": 200,
[2022-02-13T12:50:25.878Z]         "headers": {
[2022-02-13T12:50:25.878Z]             "Content-Type": "application/json"
[2022-02-13T12:50:25.878Z]         },
[2022-02-13T12:50:25.878Z]         "multiValueHeaders": {},
[2022-02-13T12:50:25.879Z]         "body": "{\"story\":{\"bookSlug\":\"jans-buch\",\"episode\":1,\"date\":1644756625850,\"audioS3Key\":\"books/jans-buch/stories/1/audio/HorUR\"},\"audioUploadUrlData\":{\"url\":\"http://localhost:9000/localstack-cdn\",\"fields\":{\"key\":\"books/jans-buch/stories/1/audio/HorUR\",\"bucket\":\"localstack-cdn\",\"X-Amz-Algorithm\":\"AWS4-HMAC-SHA256\",\"X-Amz-Credential\":\"fakeMyKeyId/20220213/us-east-1/s3/aws4_request\",\"X-Amz-Date\":\"20220213T125025Z\",\"Policy\":\"eyJleHBpcmF0aW9uIjoiMjAyMi0wMi0xM1QxMjo1MDo0NVoiLCJjb25kaXRpb25zIjpbWyJjb250ZW50LWxlbmd0aC1yYW5nZSIsMCwxMDAwMDAwMDBdLFsiQ2FjaGUtQ29udHJvbCIsIm1heC1hZ2U9MzE1MzYwMDAiXSx7ImtleSI6ImJvb2tzL2phbnMtYnVjaC9zdG9yaWVzLzEvYXVkaW8vSG9yVVIifSx7ImJ1Y2tldCI6ImxvY2Fsc3RhY2stY2RuIn0seyJYLUFtei1BbGdvcml0aG0iOiJBV1M0LUhNQUMtU0hBMjU2In0seyJYLUFtei1DcmVkZW50aWFsIjoiZmFrZU15S2V5SWQvMjAyMjAyMTMvdXMtZWFzdC0xL3MzL2F3czRfcmVxdWVzdCJ9LHsiWC1BbXotRGF0ZSI6IjIwMjIwMjEzVDEyNTAyNVoifV19\",\"X-Amz-Signature\":\"8a9ec139c5582d68033267ed284f60912135de82211bd898b54c2a858a8ad5c7\"}}}"
[2022-02-13T12:50:25.879Z]     }
[2022-02-13T12:50:25.879Z] }
[2022-02-13T12:50:25.879Z] "now calling callback"
[2022-02-13T12:50:25.879Z] handler called callback, sending result...
[2022-02-13T12:50:25.880Z] "Router", "request", "success", {
[2022-02-13T12:50:25.880Z]     "httpMethod": "POST",
[2022-02-13T12:50:25.880Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:50:25.880Z]     "path": "/books/jans-buch/stories"
[2022-02-13T12:50:25.880Z] }
[2022-02-13T12:50:25.880Z] "promise done, calling callback"
[2022-02-13T12:50:25.880Z] handler promise resolved, sending result...
[2022-02-13T12:52:34.672Z] Received message: {"type":"execute","eventId":"nzL3-xs0bg9UFFqNwFpT_","payload":{"event":{"isBase64Encoded":false,"path":"/auth/verify-passcode","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"auth":"auth","verify-passcode":"verify-passcode"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/auth/verify-passcode","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:52:34.672Z] Executing event nzL3-xs0bg9UFFqNwFpT_
[2022-02-13T12:52:34.672Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:52:34.835Z] Invoking handler function: "handler"
[2022-02-13T12:52:34.836Z] "Router", "request", "info", {
[2022-02-13T12:52:34.836Z]     "httpMethod": "POST",
[2022-02-13T12:52:34.836Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:52:34.836Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:52:34.836Z] }
[2022-02-13T12:52:34.837Z] "authenticating..."
[2022-02-13T12:52:34.844Z] "handler is promise, awaiting response"
[2022-02-13T12:52:34.844Z] Waiting for handler to finish...
[2022-02-13T12:52:35.104Z] "authenticated"
[2022-02-13T12:52:35.122Z] "Router", "request", "success", {
[2022-02-13T12:52:35.122Z]     "httpMethod": "POST",
[2022-02-13T12:52:35.122Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:52:35.125Z]     "path": "/auth/verify-passcode",
[2022-02-13T12:52:35.125Z]     "error": null,
[2022-02-13T12:52:35.126Z]     "result": {
[2022-02-13T12:52:35.126Z]         "isBase64Encoded": false,
[2022-02-13T12:52:35.126Z]         "statusCode": 200,
[2022-02-13T12:52:35.127Z]         "headers": {
[2022-02-13T12:52:35.128Z]             "Content-Type": "application/json"
[2022-02-13T12:52:35.129Z]         },
[2022-02-13T12:52:35.129Z]         "multiValueHeaders": {},
[2022-02-13T12:52:35.130Z]         "body": "\"OK\""
[2022-02-13T12:52:35.130Z]     }
[2022-02-13T12:52:35.130Z] }
[2022-02-13T12:52:35.130Z] "now calling callback"
[2022-02-13T12:52:35.131Z] handler called callback, sending result...
[2022-02-13T12:52:35.184Z] "Router", "request", "success", {
[2022-02-13T12:52:35.185Z]     "httpMethod": "POST",
[2022-02-13T12:52:35.185Z]     "resource": "/auth/verify-passcode",
[2022-02-13T12:52:35.186Z]     "path": "/auth/verify-passcode"
[2022-02-13T12:52:35.194Z] }
[2022-02-13T12:52:35.196Z] "promise done, calling callback"
[2022-02-13T12:52:35.197Z] handler promise resolved, sending result...
[2022-02-13T12:52:35.261Z] Received message: {"type":"execute","eventId":"J95FWHMA4Y43EPzC0APE0","payload":{"event":{"isBase64Encoded":false,"path":"/books","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:52:35.261Z] Executing event J95FWHMA4Y43EPzC0APE0
[2022-02-13T12:52:35.262Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:52:35.353Z] Invoking handler function: "handler"
[2022-02-13T12:52:35.353Z] "Router", "request", "info", {
[2022-02-13T12:52:35.354Z]     "httpMethod": "GET",
[2022-02-13T12:52:35.354Z]     "resource": "/books",
[2022-02-13T12:52:35.354Z]     "path": "/books"
[2022-02-13T12:52:35.354Z] }
[2022-02-13T12:52:35.355Z] "authenticating..."
[2022-02-13T12:52:35.360Z] "handler is promise, awaiting response"
[2022-02-13T12:52:35.361Z] Waiting for handler to finish...
[2022-02-13T12:52:35.434Z] "authenticated"
[2022-02-13T12:52:35.435Z] "get books"
[2022-02-13T12:52:35.435Z] "add \"all\" option"
[2022-02-13T12:52:35.435Z] "execute"
[2022-02-13T12:52:35.451Z] "done", [
[2022-02-13T12:52:35.452Z]     {
[2022-02-13T12:52:35.452Z]         "title": "jans buch",
[2022-02-13T12:52:35.452Z]         "description": "",
[2022-02-13T12:52:35.452Z]         "slug": "jans-buch"
[2022-02-13T12:52:35.452Z]     }
[2022-02-13T12:52:35.452Z] ]
[2022-02-13T12:52:35.453Z] "Router", "request", "success", {
[2022-02-13T12:52:35.453Z]     "httpMethod": "GET",
[2022-02-13T12:52:35.453Z]     "resource": "/books",
[2022-02-13T12:52:35.453Z]     "path": "/books",
[2022-02-13T12:52:35.453Z]     "error": null,
[2022-02-13T12:52:35.453Z]     "result": {
[2022-02-13T12:52:35.453Z]         "isBase64Encoded": false,
[2022-02-13T12:52:35.453Z]         "statusCode": 200,
[2022-02-13T12:52:35.453Z]         "headers": {
[2022-02-13T12:52:35.453Z]             "Content-Type": "application/json"
[2022-02-13T12:52:35.453Z]         },
[2022-02-13T12:52:35.454Z]         "multiValueHeaders": {},
[2022-02-13T12:52:35.454Z]         "body": "[{\"title\":\"jans buch\",\"description\":\"\",\"slug\":\"jans-buch\"}]"
[2022-02-13T12:52:35.454Z]     }
[2022-02-13T12:52:35.454Z] }
[2022-02-13T12:52:35.454Z] "now calling callback"
[2022-02-13T12:52:35.454Z] handler called callback, sending result...
[2022-02-13T12:52:35.454Z] "Router", "request", "success", {
[2022-02-13T12:52:35.454Z]     "httpMethod": "GET",
[2022-02-13T12:52:35.454Z]     "resource": "/books",
[2022-02-13T12:52:35.455Z]     "path": "/books"
[2022-02-13T12:52:35.455Z] }
[2022-02-13T12:52:35.455Z] "promise done, calling callback"
[2022-02-13T12:52:35.455Z] handler promise resolved, sending result...
[2022-02-13T12:52:35.489Z] Received message: {"type":"execute","eventId":"BiByYjXkJ5PlFP9droVkl","payload":{"event":{"isBase64Encoded":false,"path":"/books/jans-buch/stories","httpMethod":"GET","headers":{"host":"localhost:1996","connection":"keep-alive","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jans-buch","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:52:35.489Z] Executing event BiByYjXkJ5PlFP9droVkl
[2022-02-13T12:52:35.489Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:52:35.577Z] Invoking handler function: "handler"
[2022-02-13T12:52:35.578Z] "Router", "request", "info", {
[2022-02-13T12:52:35.578Z]     "httpMethod": "GET",
[2022-02-13T12:52:35.578Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:52:35.578Z]     "path": "/books/jans-buch/stories"
[2022-02-13T12:52:35.578Z] }
[2022-02-13T12:52:35.579Z] "authenticating..."
[2022-02-13T12:52:35.584Z] "handler is promise, awaiting response"
[2022-02-13T12:52:35.584Z] Waiting for handler to finish...
[2022-02-13T12:52:35.602Z] "authenticated"
[2022-02-13T12:52:35.619Z] "Router", "request", "success", {
[2022-02-13T12:52:35.620Z]     "httpMethod": "GET",
[2022-02-13T12:52:35.620Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:52:35.620Z]     "path": "/books/jans-buch/stories",
[2022-02-13T12:52:35.620Z]     "error": null,
[2022-02-13T12:52:35.620Z]     "result": {
[2022-02-13T12:52:35.620Z]         "isBase64Encoded": false,
[2022-02-13T12:52:35.621Z]         "statusCode": 200,
[2022-02-13T12:52:35.621Z]         "headers": {
[2022-02-13T12:52:35.621Z]             "Content-Type": "application/json"
[2022-02-13T12:52:35.621Z]         },
[2022-02-13T12:52:35.621Z]         "multiValueHeaders": {},
[2022-02-13T12:52:35.621Z]         "body": "[{\"date\":\"2022-02-13T12:50:25.850Z\",\"episode\":1,\"audioS3Key\":\"books/jans-buch/stories/1/audio/HorUR\",\"bookSlug\":\"jans-buch\"}]"
[2022-02-13T12:52:35.621Z]     }
[2022-02-13T12:52:35.621Z] }
[2022-02-13T12:52:35.622Z] "now calling callback"
[2022-02-13T12:52:35.622Z] handler called callback, sending result...
[2022-02-13T12:52:35.622Z] "Router", "request", "success", {
[2022-02-13T12:52:35.622Z]     "httpMethod": "GET",
[2022-02-13T12:52:35.622Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:52:35.622Z]     "path": "/books/jans-buch/stories"
[2022-02-13T12:52:35.623Z] }
[2022-02-13T12:52:35.623Z] "promise done, calling callback"
[2022-02-13T12:52:35.623Z] handler promise resolved, sending result...
[2022-02-13T12:52:42.287Z] Received message: {"type":"execute","eventId":"1bc4LTczB4mG7eYxeBw93","payload":{"event":{"isBase64Encoded":false,"path":"/books/jans-buch/stories","httpMethod":"POST","headers":{"host":"localhost:1996","connection":"keep-alive","content-length":"0","pass-code":"3312","dnt":"1","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","content-type":"application/json","accept":"*/*","sec-gpc":"1","origin":"http://localhost:4200","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:4200/","accept-encoding":"gzip, deflate, br","accept-language":"de-DE,de;q=0.9,en;q=0.8,en-US;q=0.7"},"multiValueHeaders":{},"body":"","pathParameters":{"books":"books","bookSlug":"jans-buch","stories":"stories"},"queryStringParameters":{},"multiValueQueryStringParameters":{},"resource":"/books/{bookSlug}/stories","stageVariables":null,"requestContext":null},"config":{"codePath":"dist/apps/backend/api","handler":"main.handler","dynamicRestApi":{"file":"dist/apps/backend/api/main.js","exportName":"routes"},"secrets":["PASS_CODE"],"dynamoDb":{"readWrite":["Books","Stories"]},"memorySize":512}}}
[2022-02-13T12:52:42.288Z] Executing event 1bc4LTczB4mG7eYxeBw93
[2022-02-13T12:52:42.288Z] Loading handler file: "/Users/jappy/code/bobs-bedtime-stories/dist/apps/backend/api/main"
[2022-02-13T12:52:42.384Z] Invoking handler function: "handler"
[2022-02-13T12:52:42.385Z] "Router", "request", "info", {
[2022-02-13T12:52:42.385Z]     "httpMethod": "POST",
[2022-02-13T12:52:42.385Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:52:42.385Z]     "path": "/books/jans-buch/stories"
[2022-02-13T12:52:42.385Z] }
[2022-02-13T12:52:42.386Z] "authenticating..."
[2022-02-13T12:52:42.392Z] "handler is promise, awaiting response"
[2022-02-13T12:52:42.392Z] Waiting for handler to finish...
[2022-02-13T12:52:42.437Z] "authenticated"
[2022-02-13T12:52:42.484Z] "Router", "request", "success", {
[2022-02-13T12:52:42.484Z]     "httpMethod": "POST",
[2022-02-13T12:52:42.484Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:52:42.484Z]     "path": "/books/jans-buch/stories",
[2022-02-13T12:52:42.484Z]     "error": null,
[2022-02-13T12:52:42.484Z]     "result": {
[2022-02-13T12:52:42.484Z]         "isBase64Encoded": false,
[2022-02-13T12:52:42.485Z]         "statusCode": 200,
[2022-02-13T12:52:42.485Z]         "headers": {
[2022-02-13T12:52:42.485Z]             "Content-Type": "application/json"
[2022-02-13T12:52:42.485Z]         },
[2022-02-13T12:52:42.485Z]         "multiValueHeaders": {},
[2022-02-13T12:52:42.485Z]         "body": "{\"story\":{\"bookSlug\":\"jans-buch\",\"episode\":2,\"date\":1644756762457,\"audioS3Key\":\"books/jans-buch/stories/2/audio/hA4i-\"},\"audioUploadUrlData\":{\"url\":\"http://localhost:9000/localstack-cdn\",\"fields\":{\"key\":\"books/jans-buch/stories/2/audio/hA4i-\",\"bucket\":\"localstack-cdn\",\"X-Amz-Algorithm\":\"AWS4-HMAC-SHA256\",\"X-Amz-Credential\":\"fakeMyKeyId/20220213/us-east-1/s3/aws4_request\",\"X-Amz-Date\":\"20220213T125242Z\",\"Policy\":\"eyJleHBpcmF0aW9uIjoiMjAyMi0wMi0xM1QxMjo1MzowMloiLCJjb25kaXRpb25zIjpbWyJlcSIsIiRDb250ZW50LVR5cGUiLCJhdWRpby93YXYiXSxbImNvbnRlbnQtbGVuZ3RoLXJhbmdlIiwwLDEwMDAwMDAwMF0sWyJDYWNoZS1Db250cm9sIiwibWF4LWFnZT0zMTUzNjAwMCJdLHsia2V5IjoiYm9va3MvamFucy1idWNoL3N0b3JpZXMvMi9hdWRpby9oQTRpLSJ9LHsiYnVja2V0IjoibG9jYWxzdGFjay1jZG4ifSx7IlgtQW16LUFsZ29yaXRobSI6IkFXUzQtSE1BQy1TSEEyNTYifSx7IlgtQW16LUNyZWRlbnRpYWwiOiJmYWtlTXlLZXlJZC8yMDIyMDIxMy91cy1lYXN0LTEvczMvYXdzNF9yZXF1ZXN0In0seyJYLUFtei1EYXRlIjoiMjAyMjAyMTNUMTI1MjQyWiJ9XX0=\",\"X-Amz-Signature\":\"d757baa4b2b95dff9fb8180f719147dff4ec1e1b6b01266cab325ef6836da37b\"}}}"
[2022-02-13T12:52:42.485Z]     }
[2022-02-13T12:52:42.485Z] }
[2022-02-13T12:52:42.485Z] "now calling callback"
[2022-02-13T12:52:42.486Z] handler called callback, sending result...
[2022-02-13T12:52:42.486Z] "Router", "request", "success", {
[2022-02-13T12:52:42.486Z]     "httpMethod": "POST",
[2022-02-13T12:52:42.486Z]     "resource": "/books/{bookSlug}/stories",
[2022-02-13T12:52:42.486Z]     "path": "/books/jans-buch/stories"
[2022-02-13T12:52:42.486Z] }
[2022-02-13T12:52:42.486Z] "promise done, calling callback"
[2022-02-13T12:52:42.486Z] handler promise resolved, sending result...
